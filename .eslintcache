[{"/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/index.js":"1","/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/App.js":"2","/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/home.component.js":"3","/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/signin.component.js":"4","/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/navbar.component.js":"5","/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/content.component.js":"6","/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/utils/storage.js":"7","/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/accidentsubmission.component.js":"8","/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/addpolice.component.js":"9","/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/accidentlist.component.js":"10","/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/removepolice.component.js":"11","/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/eventsubmission.component.js":"12","/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/eventlist.component.js":"13"},{"size":184,"mtime":1609913356114,"results":"14","hashOfConfig":"15"},{"size":482,"mtime":1609913356110,"results":"16","hashOfConfig":"15"},{"size":2850,"mtime":1609913356112,"results":"17","hashOfConfig":"15"},{"size":5155,"mtime":1610082838045,"results":"18","hashOfConfig":"15"},{"size":3311,"mtime":1609915421045,"results":"19","hashOfConfig":"15"},{"size":1150,"mtime":1609913356111,"results":"20","hashOfConfig":"15"},{"size":515,"mtime":1609913356114,"results":"21","hashOfConfig":"15"},{"size":12519,"mtime":1609913356111,"results":"22","hashOfConfig":"15"},{"size":3084,"mtime":1609913356111,"results":"23","hashOfConfig":"15"},{"size":2742,"mtime":1609913356110,"results":"24","hashOfConfig":"15"},{"size":1785,"mtime":1609913356112,"results":"25","hashOfConfig":"15"},{"size":7447,"mtime":1609913356112,"results":"26","hashOfConfig":"15"},{"size":2105,"mtime":1609913356111,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"184hcng",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"30"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"30"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/index.js",[],["59","60"],"/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/App.js",[],"/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/home.component.js",["61","62"],"import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport logo from \"../icon.png\";\n\nimport Navbar from \"./navbar.component\";\nimport Content from \"./content.component\";\n\nimport { getFromStorage } from \"../utils/storage\"; //implement log out\n\nexport default class Home extends Component {\n  constructor() {\n    super();\n    this.handleNavigation = this.handleNavigation.bind(this);\n    this.state = {\n      signedin: false,\n      loading: false,\n      data: {},\n      token: 0,\n      nav: \"accidentsubmission\",\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ loading: true });\n    const token = getFromStorage(\"road_accident_prevention_system_webtoken\");\n    console.log(\"token:\" + token);\n    axios\n      .get(\"http://localhost:5000/police/verifysession/\", {\n        params: { token: token },\n      })\n      .then((response) => response.data)\n      .then((data) => {\n        console.log(data);\n        this.setState({\n          signedin: true,\n          loading: false,\n          data: data,\n          token: token,\n        });\n      });\n  }\n\n  handleNavigation(str) {\n    this.setState({ nav: str });\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div className=\"d-flex justify-content-center \">\n          <div className=\"spinner-border\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n          </div>\n        </div>\n      );\n    } else {\n      //not logged in\n      if (!this.state.data.username) {\n        return (\n          <div className=\"content\">\n            <nav className=\"navbar navbar-dark bg-dark\">\n              <span className=\"navbar-brand mb-0 h1\">\n                <img\n                  src={logo}\n                  width=\"30\"\n                  height=\"30\"\n                  className=\"d-inline-block align-top\"\n                />&nbsp;\n                Road Accident Prediction System\n              </span>\n            </nav>\n\n\n            <div className=\"jumbotron jumbotron-fluid\">\n              <div className=\"container\">\n                <h1 className=\"display-4\">Sign in to continue</h1>\n                <p class=\"lead\">\n                  <a class=\"btn btn-warning btn-lg\" href=\"\" role=\"button\">\n                    <Link to=\"/signin\">Sign in</Link>\n                  </a>\n                </p>\n\n              </div>\n            </div>\n          </div>\n        );\n      } else {\n        return (\n          <div>\n            <Navbar\n              adminRights={this.state.data.adminRights}\n              token={this.state.token}\n              navState={this.state.nav}\n              handleNavigation={this.handleNavigation}\n            />\n            <div className=\"content\">\n              <Content nav={this.state.nav} token={this.state.token} />\n            </div>\n          </div>\n        );\n      }\n    }\n  }\n}\n","/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/signin.component.js",["63","64","65"],"/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/navbar.component.js",["66","67","68","69","70","71","72"],"import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport logo from \"../icon.png\";\n\nexport default class Navbar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.LogOut = this.LogOut.bind(this);\n  }\n\n  LogOut(t) {\n    console.log(\"logged out\");\n    //window.location.reload(true);\n\n    axios\n      .get(\"http://localhost:5000/police/logout/\", { params: { token: t } })\n      .then((response) => response.data)\n      .then((data) => {\n        console.log(data);\n\n        //refresh page\n        if (window.location.href.substr(-2) !== \"?r\") {\n          window.location = window.location.href + \"?r\";\n        }\n      });\n  }\n\n  render() {\n    const adminRights = this.props.adminRights;\n    const token = this.props.token;\n\n    return (\n      <nav className=\"navbar navbar-dark bg-dark navbar-expand-lg\">\n        <Link to=\"/\" className=\"navbar-brand\">\n          <img\n            src={logo}\n            width=\"30\"\n            height=\"30\"\n            className=\"d-inline-block align-top\"\n          />\n          &nbsp; Road Accident Prevention System\n        </Link>\n        <div className=\"collpase navbar-collapse\">\n          <ul className=\"navbar-nav mr-auto\">\n            <li\n              className=\"navbar-item\"\n              style={{ display: adminRights ? \"block\" : \"none\" }}\n            >\n              <a\n                onClick={() => this.props.handleNavigation(\"addpolice\")}\n                className=\"nav-link\"\n              >\n                Add User\n              </a>\n            </li>\n\n            <li\n              className=\"navbar-item\"\n              style={{ display: adminRights ? \"block\" : \"none\" }}\n            >\n              <a\n                onClick={() => this.props.handleNavigation(\"removepolice\")}\n                className=\"nav-link\"\n              >\n                Remove User\n              </a>\n            </li>\n\n            <li className=\"navbar-item\">\n              <a\n                onClick={() =>\n                  this.props.handleNavigation(\"accidentsubmission\")\n                }\n                className=\"nav-link\"\n              >\n                Accident Submission\n              </a>\n            </li>\n\n            <li className=\"navbar-item\">\n              <a\n                onClick={() => this.props.handleNavigation(\"accidentlist\")}\n                className=\"nav-link\"\n              >\n                Accident List\n              </a>\n            </li>\n\n            <li className=\"navbar-item\">\n              <a\n                onClick={() => this.props.handleNavigation(\"eventsubmission\")}\n                className=\"nav-link\"\n              >\n                Event Submission\n              </a>\n            </li>\n\n            <li className=\"navbar-item\">\n              <a\n                onClick={() => this.props.handleNavigation(\"eventlist\")}\n                className=\"nav-link\"\n              >\n                Event List\n              </a>\n            </li>\n          </ul>\n          <ul className=\"navbar-nav navbar-right\">\n            <button\n              onClick={this.LogOut.bind(this, token)}\n              className=\"navbar-item nav-link btn btn-secondary\"\n            >\n              Log out\n            </button>\n          </ul>\n        </div>\n      </nav>\n    );\n  }\n}\n","/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/content.component.js",[],"/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/utils/storage.js",[],"/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/accidentsubmission.component.js",["73"],"import React, { Component } from 'react';\nimport axios from 'axios';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nexport default class AccidentSubmission extends Component {\n  constructor(props) {\n    super(props);\n\n\n    this.onChangeAccidentDate = this.onChangeAccidentDate.bind(this);\n    this.onChangeAccidentTime = this.onChangeAccidentTime.bind(this);\n\n    this.onChangeDriverAge = this.onChangeDriverAge.bind(this);\n    this.onChangeDriverGender = this.onChangeDriverGender.bind(this);\n\n    this.onChangeWeather = this.onChangeWeather.bind(this);\n    this.onChangeVehicleType = this.onChangeVehicleType.bind(this);\n    this.onChangeVehicleYOM = this.onChangeVehicleYOM.bind(this);\n\n\n    this.onChangeLicenseIssueDate = this.onChangeLicenseIssueDate.bind(this);\n\n    this.onChangeDrivingSide = this.onChangeDrivingSide.bind(this);\n    this.onChangeSeverity = this.onChangeSeverity.bind(this);\n    this.onChangeReason = this.onChangeReason.bind(this);\n\n    this.onChangeKmPost = this.onChangeKmPost.bind(this);\n    this.onChangeSuburb = this.onChangeSuburb.bind(this);\n    this.onChangeOperatedSpeed = this.onChangeOperatedSpeed.bind(this);\n\n    this.onSubmit = this.onSubmit.bind(this);\n\n    const d= new Date();\n\n    this.state = {\n      accidentDate:d,\n      accidentTime:d.toString().match(/(\\d\\d:\\d\\d)/)[0],\n      driverAge: 0,\n      driverGender: 'male',\n      weather: 'clear',\n      vehicleType: 'car',\n      vehicleYOM: d.getFullYear(),\n      licenseIssueDate:d,\n      drivingSide: 'colombo',\n      severity: 'propertydamage',\n      reason: 'speed',\n      kmPost: 0,\n      suburb: 'kottawa',\n      operatedSpeed: 0,\n\n      token:this.props.token,\n      res:''\n    }\n  }\n\n\n  onChangeAccidentDate(date) {\n      this.setState({\n        accidentDate: date\n      })\n    }\n\n    onChangeLicenseIssueDate(date) {\n        this.setState({\n          licenseIssueDate: date\n        })\n      }\n\n\n  onChangeAccidentTime(e) {\n    this.setState({\n      accidentTime: e.target.value,\n      res:''\n    })\n  }\n\n  onChangeDriverAge(e) {\n    this.setState({\n      driverAge: e.target.value,\n      res:''\n    })\n  }\n  onChangeDriverGender(e) {\n    this.setState({\n      driverGender: e.target.value,\n      res:''\n    })\n  }\n\n  onChangeWeather(e) {\n    this.setState({\n      weather: e.target.value,\n      res:''\n    })\n  }\n\n  onChangeVehicleType(e) {\n    this.setState({\n      vehicleType: e.target.value,\n      res:''\n    })\n  }\n  onChangeVehicleYOM(e) {\n    this.setState({\n      vehicleYOM: e.target.value,\n      res:''\n    })\n  }\n\n\n  onChangeDrivingSide(e) {\n    this.setState({\n      drivingSide: e.target.value,\n      res:''\n    })\n  }\n  onChangeSeverity(e) {\n    this.setState({\n      severity: e.target.value,\n      res:''\n    })\n  }\n  onChangeReason(e) {\n    this.setState({\n      reason: e.target.value,\n      res:''\n    })\n  }\n  onChangeKmPost(e) {\n    this.setState({\n      kmPost: e.target.value,\n      res:''\n    })\n  }\n  onChangeSuburb(e) {\n    this.setState({\n      suburb: e.target.value,\n      res:''\n    })\n    switch(e.target.value){\n      case 'kottawa':\n      this.setState({kmPost:0})\n      break;\n      case 'kahathuduwa':\n      this.setState({kmPost:5.9})\n      break;\n      case 'gelanigama':\n      this.setState({kmPost:13.7})\n      break;\n      case 'dodangoda':\n      this.setState({kmPost:34.8})\n      break;\n      case 'welipanna':\n      this.setState({kmPost:46})\n      break;\n      case 'kurundugahahetekma':\n      this.setState({kmPost:67.6})\n      break;\n      case 'baddegama':\n      this.setState({kmPost:79.8})\n      break;\n      case 'pinnaduwa':\n      this.setState({kmPost:95.3})\n      break;\n      case 'imaduwa':\n      this.setState({kmPost:108})\n      break;\n      case 'kokmaduwa':\n      this.setState({kmPost:116.5})\n      break;\n      case 'godagama':\n      this.setState({kmPost:127})\n      break;\n    }\n  }\n  onChangeOperatedSpeed(e) {\n    this.setState({\n      operatedSpeed: e.target.value,\n      res:''\n    })\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    const datetime = new Date(this.state.accidentDate.toString().replace(/(\\d\\d:\\d\\d:\\d\\d)/,this.state.accidentTime))\n\n    const accident = {\n      datetime:datetime,\n      driverAge: this.state.driverAge,\n      driverGender: this.state.driverGender,\n      weather: this.state.weather,\n      vehicleType: this.state.vehicleType,\n      vehicleYOM: this.state.vehicleYOM,\n      licenseIssueDate: this.state.licenseIssueDate,\n      drivingSide: this.state.drivingSide,\n      severity: this.state.severity,\n      reason: this.state.reason,\n      kmPost: this.state.kmPost,\n      suburb: this.state.suburb,\n      operatedSpeed: this.state.operatedSpeed,\n      sessionToken: this.state.token\n    }\n\n    console.log(accident);\n\n    const d= new Date();\n\n    axios.post('http://localhost:5000/accident/submit', accident)\n      .then(res=>{\n        document.getElementById('accident-report-from').reset();\n        this.setState({\n          res: res.data.message,\n          accidentDate:d,\n          accidentTime:d.toString().match(/(\\d\\d:\\d\\d)/)[0],\n          driverAge: 0,\n          driverGender: 'male',\n          weather: 'clear',\n          vehicleType: 'car',\n          vehicleYOM: d.getFullYear(),\n          licenseIssueDay: d.getDay(),\n          licenseIssueMonth: d.getMonth(),\n          licenseIssueYear: d.getYear(),\n          licenseIssueDate: d,\n          drivingSide: 'colombo',\n          severity: 'propertydamage',\n          reason:'speed',\n          kmPost: 0,\n          suburb: 'kottawa',\n          operatedSpeed: 0\n        })\n      })\n\n  }\n\n\n  render() {\n      return (\n      <div className=\"acc\">\n\n\n      <form id=\"accident-report-from\" onSubmit={this.onSubmit} >\n        <div className=\"header\"><h3>Accident Report </h3></div>\n          <br/>\n        <div>\n\n        <div className=\"form-group row\">\n          <div className=\"col-sm-3\">\n            <label>Accident Date: </label>\n          </div>\n         <div className=\"col-sm-3\">\n            <div>\n              <DatePicker className=\"form-control\"\n              selected={this.state.accidentDate}\n              onChange={this.onChangeAccidentDate}\n              />\n            </div>\n          </div>\n          </div>\n\n          <div className=\"form-group row\">\n            <div className=\"col-sm-3\"><label>Accident Time: </label>\n            </div>\n            <div className=\"col-sm-3\">\n              <input  type=\"time\"\n              className=\"form-control\"\n              value={this.state.accidentTime}\n              onChange={this.onChangeAccidentTime}\n              />\n            </div>\n          </div>\n          <div className=\"form-group row\">\n         <div className=\"col-sm-3\"><label>Driver Age </label></div>\n          <div className=\"col-sm-3\"><input  type=\"number\"\n              className=\"form-control\"\n              value={this.state.driverAge}\n              onChange={this.onChangeDriverAge}\n              min='0'\n              max='99'\n              /></div>\n          </div>\n          <div className=\"form-group row\">\n          <div className=\"col-sm-3\"><label>Driver Gender </label></div>\n          <div className=\"col-sm-3\">\n              <select className=\"form-control\" onChange={this.onChangeDriverGender}>\n                  <option value=\"male\">Male</option>\n                  <option value=\"female\">Female</option>\n              </select>\n              </div>\n          </div>\n          <div className=\"form-group row\">\n          <div className=\"col-sm-3\"><label>Weather </label></div>\n          <div className=\"col-sm-3\">\n              <select className=\"form-control\" onChange={this.onChangeWeather}>\n                  <option value=\"clear\">Clear</option>\n                  <option value=\"rainy\">Rainy</option>\n              </select>\n              </div>\n          </div>\n          <div className=\"form-group row\">\n          <div className=\"col-sm-3\"><label>Vehicle Type </label></div>\n          <div className=\"col-sm-3\"><select className=\"form-control\" onChange={this.onChangeVehicleType}>\n              <option value=\"car\">Car</option>\n              <option value=\"dualPurpose\">Dual Purpose</option>\n              <option value=\"hv\">HV</option>\n              </select>\n          </div>\n          </div>\n          <div className=\"form-group row\">\n          <div className=\"col-sm-3\"><label>Vehicle manufacture year </label></div>\n          <div className=\"col-sm-3\"><input  type=\"number\"\n              className=\"form-control\"\n              value={this.state.vehicleYOM}\n              onChange={this.onChangeVehicleYOM}\n              /></div>\n          </div>\n          <div className=\"form-group row\">\n          <div className=\"col-sm-3\"><label>License Issue Date </label></div>\n          <div className=\"col-sm-3\"><DatePicker\n                  className=\"form-control\"\n                  selected={this.state.licenseIssueDate}\n                  onChange={this.onChangeLicenseIssueDate}\n          /></div>\n          </div>\n          <div className=\"form-group row\">\n          <div className=\"col-sm-3\"><label>Driving Side </label></div>\n          <div className=\"col-sm-3\"><select className=\"form-control\" onChange={this.onChangeDrivingSide}>\n              <option value=\"colombo\">Colombo to Matara</option>\n              <option value=\"matara\">Matara to Colombo</option>\n              </select>\n          </div>\n          </div>\n          <div className=\"form-group row\">\n          <div className=\"col-sm-3\"><label>Severity </label></div>\n          <div className=\"col-sm-3\"><select className=\"form-control\" onChange={this.onChangeSeverity}>\n              <option value=\"propertydamage\">Property Damage</option>\n              <option value=\"injury\">Injury</option>\n              <option value=\"fatal\">Fatal</option>\n              </select></div>\n          </div>\n          <div className=\"form-group row\">\n          <div className=\"col-sm-3\"><label>Reason </label></div>\n          <div className=\"col-sm-3\"><select className=\"form-control\" onChange={this.onChangeReason}>\n              <option value=\"speed\">Speeding</option>\n              <option value=\"sleep\">Sleep</option>\n              <option value=\"slipping\">Slipping</option>\n              <option value=\"vehicleIssue\">Vehicle issue</option>\n              <option value=\"tyreBlast\">Tyre blast</option>\n              <option value=\"tyrePatch\">Tyre patch</option>\n              <option value=\"animal\">Animal Crossing</option>\n              <option value=\"other\">Other</option>\n              </select></div>\n          </div>\n          <div className=\"form-group row\">\n          <div className=\"col-sm-3\"><label>Suburb </label></div>\n          <div className=\"col-sm-3\">\n          <select className=\"form-control\" onChange={this.onChangeSuburb}>\n              <option value=\"kottawa\">Kottawa</option>\n              <option value=\"kahathuduwa\">Kahathuduwa</option>\n              <option value=\"gelanigama\">Gelanigama</option>\n              <option value=\"dodangoda\">Dodangoda</option>\n              <option value=\"welipanna\">Welipanna</option>\n              <option value=\"kurundugahahetekma\">Kurundugahahetekma</option>\n              <option value=\"baddegama\">Baddegama</option>\n              <option value=\"pinnaduwa\">Pinnaduwa</option>\n              <option value=\"imaduwa\">Imaduwa</option>\n              <option value=\"kokmaduwa\">Kokmaduwa</option>\n              <option value=\"godagama\">Godagama</option>\n              </select></div>\n          </div>\n\n          <div className=\"form-group row\">\n          <div className=\"col-sm-3\"><label>KM Post </label></div>\n          <div className=\"col-sm-3\"><input  type=\"number\" step='0.1'\n              className=\"form-control\"\n              value={this.state.kmPost}\n              onChange={this.onChangeKmPost}\n              min='0'\n              max='127'\n              /></div>\n          </div>\n\n          <div className=\"form-group row\">\n          <div className=\"col-sm-3\"><label>Operated Speed (km/h) </label></div>\n          <div className=\"col-sm-3\"><input  type=\"number\"\n              className=\"form-control\"\n              value={this.state.operatedSpeed}\n              onChange={this.onChangeOperatedSpeed}\n              min='0'\n              /></div>\n          </div>\n\n\n\n          <div className=\"form\">\n            <br/>\n          <input type=\"submit\" value=\"Submit Report\" onSubmit={this.onSubmit} className=\"btn btn-primary\" /> {this.state.res}\n          <div>\n\n          </div>\n\n        </div>\n\n      </div>\n\n\n      </form>\n\n\n      </div>\n      )\n  }\n\n}\n","/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/addpolice.component.js",[],"/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/accidentlist.component.js",[],"/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/removepolice.component.js",[],"/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/eventsubmission.component.js",["74"],"import React, { Component } from 'react';\nimport axios from 'axios';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nexport default class EventSubmission extends Component {\n  constructor(props) {\n    super(props);\n\n\n    this.onChangeEventDate = this.onChangeEventDate.bind(this);\n    this.onChangeEventTime = this.onChangeEventTime.bind(this);\n    this.onChangeType = this.onChangeType.bind(this);\n\n\n\n    this.onChangeDrivingSide = this.onChangeDrivingSide.bind(this);\n    this.onChangeSeverity = this.onChangeSeverity.bind(this);\n\n    this.onChangeKmPost = this.onChangeKmPost.bind(this);\n    this.onChangeSuburb = this.onChangeSuburb.bind(this);\n\n    this.onSubmit = this.onSubmit.bind(this);\n\n    const d= new Date();\n\n    this.state = {\n      eventDate:d,\n      eventTime:d.toString().match(/(\\d\\d:\\d\\d)/)[0],\n      type: 'fallen tree',\n      drivingSide: 'colombo',\n      severity: 'minor',\n      kmPost: 0,\n      suburb: 'kottawa',\n      token:this.props.token,\n      res:''\n    }\n  }\n\n\n  onChangeEventDate(date) {\n      this.setState({\n        eventDate: date\n      })\n    }\n\n\n\n\n  onChangeEventTime(e) {\n    this.setState({\n      eventTime: e.target.value,\n      res:''\n    })\n  }\n\n\n  onChangeType(e) {\n    this.setState({\n      type: e.target.value,\n      res:''\n    })\n  }\n\n\n\n  onChangeDrivingSide(e) {\n    this.setState({\n      drivingSide: e.target.value,\n      res:''\n    })\n  }\n  onChangeSeverity(e) {\n    this.setState({\n      severity: e.target.value,\n      res:''\n    })\n  }\n\n  onChangeKmPost(e) {\n    this.setState({\n      kmPost: e.target.value,\n      res:''\n    })\n  }\n  onChangeSuburb(e) {\n    this.setState({\n      suburb: e.target.value,\n      res:''\n    })\n    switch(e.target.value){\n      case 'kottawa':\n      this.setState({kmPost:0})\n      break;\n      case 'kahathuduwa':\n      this.setState({kmPost:5.9})\n      break;\n      case 'gelanigama':\n      this.setState({kmPost:13.7})\n      break;\n      case 'dodangoda':\n      this.setState({kmPost:34.8})\n      break;\n      case 'welipanna':\n      this.setState({kmPost:46})\n      break;\n      case 'kurundugahahetekma':\n      this.setState({kmPost:67.6})\n      break;\n      case 'baddegama':\n      this.setState({kmPost:79.8})\n      break;\n      case 'pinnaduwa':\n      this.setState({kmPost:95.3})\n      break;\n      case 'imaduwa':\n      this.setState({kmPost:108})\n      break;\n      case 'kokmaduwa':\n      this.setState({kmPost:116.5})\n      break;\n      case 'godagama':\n      this.setState({kmPost:127})\n      break;\n    }\n  }\n\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    const datetime = new Date(this.state.eventDate.toString().replace(/(\\d\\d:\\d\\d:\\d\\d)/,this.state.eventTime))\n\n    const event = {\n      datetime:datetime,\n      type: this.state.type,\n      drivingSide: this.state.drivingSide,\n      severity: this.state.severity,\n      kmPost: this.state.kmPost,\n      suburb: this.state.suburb,\n      sessionToken: this.state.token,\n    }\n\n    console.log(event);\n\n    const d= new Date();\n\n    axios.post('http://localhost:5000/event/submit', event)\n      .then(res=>{\n        document.getElementById('event-report-from').reset();\n        this.setState({\n          res: res.data.message,\n          eventDate:d,\n          eventTime:d.toString().match(/(\\d\\d:\\d\\d)/)[0],\n          type: 'fallen tree',\n          drivingSide: 'colombo',\n          severity: 'minor',\n          kmPost: 0,\n          suburb: 'kottawa'\n        })\n      })\n\n  }\n\n\n  render() {\n      return (\n      <div className=\"acc\">\n\n\n      <form id=\"event-report-from\" onSubmit={this.onSubmit} >\n        <div className=\"header\"><h3>Event Report </h3></div>\n          <br/>\n        <div>\n\n        <div className=\"form-group row\">\n          <div className=\"col-sm-3\">\n            <label>Event Date: </label>\n          </div>\n         <div className=\"col-sm-3\">\n            <div>\n              <DatePicker className=\"form-control\"\n              selected={this.state.eventDate}\n              onChange={this.onChangeEventDate}\n              />\n            </div>\n          </div>\n          </div>\n\n          <div className=\"form-group row\">\n            <div className=\"col-sm-3\"><label>Event Time: </label>\n            </div>\n            <div className=\"col-sm-3\">\n              <input  type=\"time\"\n              className=\"form-control\"\n              value={this.state.eventTime}\n              onChange={this.onChangeEventTime}\n              />\n            </div>\n          </div>\n\n\n          <div className=\"form-group row\">\n          <div className=\"col-sm-3\"><label>Type </label></div>\n          <div className=\"col-sm-3\">\n              <select className=\"form-control\" onChange={this.onChangeType}>\n                  <option value=\"fallen tree\">Fallen Tree</option>\n                  <option value=\"landslide\">Landslide</option>\n                  <option value=\"flooding\">Flooding</option>\n                  <option value=\"mist\">Mist</option>\n              </select>\n              </div>\n          </div>\n\n          <div className=\"form-group row\">\n          <div className=\"col-sm-3\"><label>Side </label></div>\n          <div className=\"col-sm-3\"><select className=\"form-control\" onChange={this.onChangeDrivingSide}>\n              <option value=\"colombo\">Colombo to Matara</option>\n              <option value=\"matara\">Matara to Colombo</option>\n              </select>\n          </div>\n          </div>\n          <div className=\"form-group row\">\n          <div className=\"col-sm-3\"><label>Severity </label></div>\n          <div className=\"col-sm-3\"><select className=\"form-control\" onChange={this.onChangeSeverity}>\n              <option value=\"minor\">Minor</option>\n              <option value=\"intermediate \">Intermediate</option>\n              <option value=\"major\">Major</option>\n              </select></div>\n          </div>\n          <div className=\"form-group row\">\n          <div className=\"col-sm-3\"><label>Suburb </label></div>\n          <div className=\"col-sm-3\">\n          <select className=\"form-control\" onChange={this.onChangeSuburb}>\n              <option value=\"kottawa\">Kottawa</option>\n              <option value=\"kahathuduwa\">Kahathuduwa</option>\n              <option value=\"gelanigama\">Gelanigama</option>\n              <option value=\"dodangoda\">Dodangoda</option>\n              <option value=\"welipanna\">Welipanna</option>\n              <option value=\"kurundugahahetekma\">Kurundugahahetekma</option>\n              <option value=\"baddegama\">Baddegama</option>\n              <option value=\"pinnaduwa\">Pinnaduwa</option>\n              <option value=\"imaduwa\">Imaduwa</option>\n              <option value=\"kokmaduwa\">Kokmaduwa</option>\n              <option value=\"godagama\">Godagama</option>\n              </select></div>\n          </div>\n\n          <div className=\"form-group row\">\n          <div className=\"col-sm-3\"><label>KM Post </label></div>\n          <div className=\"col-sm-3\"><input  type=\"number\" step='0.1'\n              className=\"form-control\"\n              value={this.state.kmPost}\n              onChange={this.onChangeKmPost}\n              min='0'\n              max='127'\n              /></div>\n          </div>\n\n\n\n          <div className=\"form\">\n            <br/>\n          <input type=\"submit\" value=\"Submit Report\" onSubmit={this.onSubmit} className=\"btn btn-primary\" /> {this.state.res}\n          <div>\n\n          </div>\n\n        </div>\n\n      </div>\n\n\n      </form>\n\n\n      </div>\n      )\n  }\n\n}\n","/Users/skenospeniel/Desktop/L2S2 Project/raps_client/src/components/eventlist.component.js",[],{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","severity":1,"message":"80","line":64,"column":17,"nodeType":"81","endLine":69,"endColumn":19},{"ruleId":"82","severity":1,"message":"83","line":79,"column":19,"nodeType":"81","endLine":79,"endColumn":75},{"ruleId":"84","severity":1,"message":"85","line":2,"column":16,"nodeType":"86","messageId":"87","endLine":2,"endColumn":26},{"ruleId":"79","severity":1,"message":"80","line":83,"column":15,"nodeType":"81","endLine":88,"endColumn":17},{"ruleId":"82","severity":1,"message":"83","line":134,"column":15,"nodeType":"81","endLine":134,"endColumn":72},{"ruleId":"79","severity":1,"message":"80","line":37,"column":11,"nodeType":"81","endLine":42,"endColumn":13},{"ruleId":"82","severity":1,"message":"88","line":51,"column":15,"nodeType":"81","endLine":54,"endColumn":16},{"ruleId":"82","severity":1,"message":"88","line":63,"column":15,"nodeType":"81","endLine":66,"endColumn":16},{"ruleId":"82","severity":1,"message":"88","line":72,"column":15,"nodeType":"81","endLine":77,"endColumn":16},{"ruleId":"82","severity":1,"message":"88","line":83,"column":15,"nodeType":"81","endLine":86,"endColumn":16},{"ruleId":"82","severity":1,"message":"88","line":92,"column":15,"nodeType":"81","endLine":95,"endColumn":16},{"ruleId":"82","severity":1,"message":"88","line":101,"column":15,"nodeType":"81","endLine":104,"endColumn":16},{"ruleId":"89","severity":1,"message":"90","line":141,"column":5,"nodeType":"91","messageId":"92","endLine":175,"endColumn":6},{"ruleId":"89","severity":1,"message":"90","line":91,"column":5,"nodeType":"91","messageId":"92","endLine":125,"endColumn":6},"no-native-reassign",["93"],"no-negated-in-lhs",["94"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","no-unused-vars","'useHistory' is defined but never used.","Identifier","unusedVar","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","no-global-assign","no-unsafe-negation"]