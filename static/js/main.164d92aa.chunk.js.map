{"version":3,"sources":["utils/axios.js","icons/icon.png","components/navbar.component.js","components/addpolice.component.js","components/addeteam.component.js","components/common/pagination.jsx","components/common/loading.jsx","utils/paginate.js","utils/location.js","components/eteamlist.component.js","components/accidentsubmission.component.js","utils/displayformat.js","components/accidentlist.component.js","components/eventsubmission.component.js","components/eventlist.component.js","components/validateincident.component.js","components/holiday.component.js","components/changepassword.component.js","components/policelist.component.js","components/content.component.js","Assets/signin1.svg","utils/storage.js","components/signin.component.js","components/home.component.js","App.js","index.js"],"names":["instance","axios","create","baseURL","Navbar2","props","LogOut","bind","t","console","log","get","params","token","then","response","data","success","handleLogOut","adminRights","this","Navbar","bg","variant","className","fixed","Brand","src","logo","width","height","alt","Nav","fill","Dropdown","as","NavItem","style","display","Toggle","NavLink","icon","faUser","Menu","Item","onClick","handleNavigation","faUserPlus","faListAlt","faAmbulance","faCarCrash","faPlus","faExclamationTriangle","faEnvelopeOpenText","faCalendarAlt","faCog","alignRight","faSignOutAlt","faUserLock","Component","AddPolice","onChangeUsername","onChangeName","onChangePassword","onChangeAdminRights","onSubmit","state","username","name","password","password2","res","e","newusername","target","value","test","setState","newname","int","checked","preventDefault","police","sessionToken","post","message","class","type","required","onChange","minlength","maxlength","minLength","maxLength","onChangeContactNumber","contactNumber","newnum","eteam","Pagination","itemsCount","pageSize","onPageChange","currentPage","pagesCount","Math","ceil","pages","_","range","map","page","Loading","role","paginate","items","pageNumber","startIndex","slice","take","findNearestExit","userCoords","exitCoords","Kottawa","latitude","longitude","Kahathuduwa","Gelanigama","Dodangoda","Welipanna","Kurundugahahetekma","Baddegama","Pinnaduwa","Imaduwa","Kokmaduwa","Godagama","prev_exit","prev_distance","distance","exit","exitCoord","haversine","unit","ETeam","suburb","lat","lng","edit_username","edit_name","edit_contactNumber","availability","discardEdit","faBan","updateETeam","faSave","editETeam","faEdit","deleteETeam","faTrashAlt","ETeamList","getList","a","eteamlist","updateFlag","refresh","handlePageChange","delete","pattern","currenteteam","count","length","allETeam","faSyncAlt","eteamList","AccidentSubmission","onChangeAccidentDate","onChangeAccidentTime","onChangeDriverAge","onChangeDriverGender","onChangeWeather","onChangeRoadSurface","onChangeVehicleType","onChangeVehicleYOM","onChangeVehicleCondition","onChangeLicenseIssueDate","onChangeDrivingSide","onChangeSeverity","onChangeReason","onChangeKmPost","onChangeSuburb","onChangeOperatedSpeed","accidentDate","accident","accidentTime","driverAge","driverGender","weather","roadSurface","vehicleType","vehicleYOM","licenseIssueDate","drivingSide","severity","reason","kmPost","operatedSpeed","vehicle_condition","date","parseInt","d","Date","datetime","toString","replace","document","getElementById","reset","match","getFullYear","isModal","id","selected","min","max","step","getLocalTime","getLocalDate","getSuburbName","getSuburbInt","getKmCat","getKmPost","Accident","edit_id","edit_accidentDate","edit_accidentTime","edit_driverAge","edit_driverGender","edit_weather","edit_roadSurface","edit_vehicleType","edit_vehicleYOM","edit_licenseIssueDate","edit_drivingSide","edit_severity","edit_reason","edit_suburb","edit_kmPost","edit_operatedSpeed","edit_vehicle_condition","day_cat","hour_cat","month_cat","vision","age_cat","km_cat","drowsiness","enough_gap","animal_crossing_problem","updateAccident","editAccident","deleteAccident","AccidentList","accidentlist","loading","accDate","toISOString","currentaccident","allAccident","accidents","accidentList","EventSubmission","onChangeEventDate","onChangeEventTime","onChangeType","eventDate","event","eventTime","Event","edit_eventDate","edit_eventTime","onChangeEventType","edit_type","updateEvent","editEvent","deleteEvent","EventList","eventlist","currentevent","allEvents","events","eventList","Incident","incident","isAccident","validateIncident","deleteIncident","AccidentModal","showHideClassName","show","handleClose","children","EventModal","ValidateIncident","showAccidentModal","showAccident","showEventModal","showEvent","hideAccidentModal","hideEventModal","incidentlist","verifiedAccident","verifiedEvent","catch","error","parseFloat","parse","filter","el","currentIncident","allIncident","incidents","Holiday","holiday","onChangeEditName","edit_date","onChangeEditDate","updateHoliday","editHoliday","deleteHoliday","HolidayList","holidaylist","onChangeHolidayDate","holidayDate","currentholiday","allHolidays","holidays","colspan","holidayList","ChangePassword","oldpassword","body","newpassword","Police","edit_adminRights","updatePolice","editPolice","deletePolice","PoliceList","policelist","currentpolice","allPolice","faUsers","policeList","Content","defaultAccident","defaultEvent","nav","React","getFromStorage","key","valueStr","localStorage","getItem","JSON","err","Signin","onTextboxChangeUsername","onTextboxChangePassword","onSignin","isLoading","signInError","signInUsername","signInPassword","validUsername","validPassword","activateSubmit","r","cx","cy","stroke","stroke-width","Container","Row","SVGsign","placeholder","faLock","disabled","valid","psw_valid","uname_valid","json","obj","setItem","stringify","setInStorage","handleSignIn","Home","verifySession","signedin","str","navState","App","path","component","ReactDOM","render"],"mappings":"oSAMeA,E,OAJEC,EAAMC,OAAO,CAC5BC,QAAS,8DCHI,MAA0B,iC,yDCQpBC,E,kDACnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAEDC,OAAS,EAAKA,OAAOC,KAAZ,gBAHG,E,mDAMZC,GAAI,IAAD,OACRC,QAAQC,IAAI,cAGZT,EACGU,IAAI,iBAAkB,CAAEC,OAAQ,CAAEC,MAAOL,KACzCM,MAAK,SAACC,GAAD,OAAcA,EAASC,QAC5BF,MAAK,SAACE,GACFA,EAAKC,SACN,EAAKZ,MAAMa,oB,+BAKT,IAAD,OACDC,EAAcC,KAAKf,MAAMc,YACzBN,EAAQO,KAAKf,MAAMQ,MAEzB,OACE,eAACQ,EAAA,EAAD,CAAQC,GAAG,OAAOC,QAAQ,OAAOC,UAAU,SAASC,MAAM,MAA1D,UACE,eAACJ,EAAA,EAAOK,MAAR,WACE,qBAAKC,IAAKC,EAAMC,MAAM,KAAKC,OAAO,KAAKN,UAAU,2BAA2BO,IAAI,cADlF,QAES,sBAAMP,UAAU,kBAAhB,+CACP,sBAAMA,UAAU,wBAAhB,uBAEA,eAACQ,EAAA,EAAD,CAAKR,UAAU,gCAAgCS,MAAI,EAACV,QAAQ,QAA5D,UACA,eAACW,EAAA,EAAD,CAAUC,GAAIC,IAASC,MAAO,CAAEC,QAASnB,EAAc,QAAU,QAAjE,UACE,eAACe,EAAA,EAASK,OAAV,CAAiBJ,GAAIK,IAArB,UACA,cAAC,IAAD,CAAiBC,KAAMC,MADvB,OAEE,sBAAMlB,UAAU,iBAAhB,yBAEF,eAACU,EAAA,EAASS,KAAV,WACE,cAACT,EAAA,EAASU,KAAV,UACE,yBAAQC,QAAS,kBAAM,EAAKxC,MAAMyC,iBAAiB,cAActB,UAAU,gBAA3E,UACE,cAAC,IAAD,CAAiBiB,KAAMM,MADzB,qBAKF,cAACb,EAAA,EAASU,KAAV,UACE,yBAAQC,QAAS,kBAAM,EAAKxC,MAAMyC,iBAAiB,eAAetB,UAAU,gBAA5E,UACE,cAAC,IAAD,CAAiBiB,KAAMO,MADzB,4BAQN,eAACd,EAAA,EAAD,CAAUC,GAAIC,IAASC,MAAO,CAAEC,QAASnB,EAAc,QAAU,QAAjE,UACE,eAACe,EAAA,EAASK,OAAV,CAAiBJ,GAAIK,IAArB,UACA,cAAC,IAAD,CAAiBC,KAAMQ,MADvB,OAEE,sBAAMzB,UAAU,iBAAhB,kCAEF,eAACU,EAAA,EAASS,KAAV,WACE,cAACT,EAAA,EAASU,KAAV,UACE,yBAAQC,QAAS,kBAAM,EAAKxC,MAAMyC,iBAAiB,aAAatB,UAAU,gBAA1E,UACE,cAAC,IAAD,CAAiBiB,KAAMM,MADzB,+BAKF,cAACb,EAAA,EAASU,KAAV,UACE,yBAAQC,QAAS,kBAAM,EAAKxC,MAAMyC,iBAAiB,cAActB,UAAU,gBAA3E,UACE,cAAC,IAAD,CAAiBiB,KAAMO,MADzB,sCAQN,eAACd,EAAA,EAAD,CAAUC,GAAIC,IAAd,UACE,eAACF,EAAA,EAASK,OAAV,CAAiBJ,GAAIK,IAArB,UACA,cAAC,IAAD,CAAiBC,KAAMS,MADvB,OAEE,sBAAM1B,UAAU,iBAAhB,4BAEF,eAACU,EAAA,EAASS,KAAV,WACE,cAACT,EAAA,EAASU,KAAV,UACE,yBAAQC,QAAS,kBAAM,EAAKxC,MAAMyC,iBAAiB,uBAAuBtB,UAAU,gBAApF,UACE,cAAC,IAAD,CAAiBiB,KAAMU,MADzB,gCAKF,cAACjB,EAAA,EAASU,KAAV,UACE,yBAAQC,QAAS,kBAAM,EAAKxC,MAAMyC,iBAAiB,iBAAiBtB,UAAU,gBAA9E,UACE,cAAC,IAAD,CAAiBiB,KAAMO,MADzB,gCAQN,eAACd,EAAA,EAAD,CAAUC,GAAIC,IAAd,UACE,eAACF,EAAA,EAASK,OAAV,CAAiBJ,GAAIK,IAArB,UACA,cAAC,IAAD,CAAiBC,KAAMW,MADvB,OAEE,sBAAM5B,UAAU,iBAAhB,yBAEF,eAACU,EAAA,EAASS,KAAV,WACE,cAACT,EAAA,EAASU,KAAV,UACE,yBAAQC,QAAS,kBAAM,EAAKxC,MAAMyC,iBAAiB,oBAAoBtB,UAAU,gBAAjF,UACE,cAAC,IAAD,CAAiBiB,KAAMU,MADzB,6BAKF,cAACjB,EAAA,EAASU,KAAV,UACE,yBAAQC,QAAS,kBAAM,EAAKxC,MAAMyC,iBAAiB,cAActB,UAAU,gBAA3E,UACE,cAAC,IAAD,CAAiBiB,KAAMO,MADzB,6BAQJ,qBAAKb,GAAIC,IAASZ,UAAU,GAA5B,SACE,oBAAGqB,QAAS,kBAAM,EAAKxC,MAAMyC,iBAAiB,iBAAiBtB,UAAU,WAAzE,UACE,cAAC,IAAD,CAAiBiB,KAAMY,MADzB,OAEE,sBAAM7B,UAAU,iBAAhB,8BAIJ,qBAAKW,GAAIC,IAASZ,UAAU,GAA5B,SACE,oBAAGqB,QAAS,kBAAM,EAAKxC,MAAMyC,iBAAiB,YAAYtB,UAAU,WAApE,UACE,cAAC,IAAD,CAAiBiB,KAAMa,MADzB,OAEE,sBAAM9B,UAAU,iBAAhB,gCAKN,cAACQ,EAAA,EAAD,CAAKR,UAAU,UAAf,SACA,eAACU,EAAA,EAAD,CAAUC,GAAIC,IAAd,UACE,eAACF,EAAA,EAASK,OAAV,CAAiBJ,GAAIK,IAArB,UACA,cAAC,IAAD,CAAiBC,KAAMc,MADvB,OAEE,sBAAM/B,UAAU,iBAAhB,kBAEF,eAACU,EAAA,EAASS,KAAV,CAAea,YAAU,EAAzB,UACE,cAACtB,EAAA,EAASU,KAAV,UACI,yBACEC,QAASzB,KAAKd,OAAOC,KAAKa,KAAMP,GAChCW,UAAU,kBAFZ,UAIA,cAAC,IAAD,CAAiBiB,KAAMgB,MACvB,kDAGJ,cAACvB,EAAA,EAASU,KAAV,UACE,yBAAQC,QAAS,kBAAM,EAAKxC,MAAMyC,iBAAiB,mBAAmBtB,UAAU,MAAhF,UACE,cAAC,IAAD,CAAiBiB,KAAMiB,MADzB,2C,GArJqBC,aCLhBC,E,kDACnB,WAAYvD,GAAQ,IAAD,8BACjB,cAAMA,IAEDwD,iBAAmB,EAAKA,iBAAiBtD,KAAtB,gBACxB,EAAKuD,aAAe,EAAKA,aAAavD,KAAlB,gBACpB,EAAKwD,iBAAmB,EAAKA,iBAAiBxD,KAAtB,gBACxB,EAAKyD,oBAAsB,EAAKA,oBAAoBzD,KAAzB,gBAC3B,EAAK0D,SAAW,EAAKA,SAAS1D,KAAd,gBAEhB,EAAK2D,MAAQ,CACXC,SAAU,GACVC,KAAM,GACNC,SAAU,GACVC,UAAW,GACXnD,aAAa,EACbN,MAAO,EAAKR,MAAMQ,MAClB0D,IAAK,IAhBU,E,6DAoBFC,GACf,IAAIC,EAAcD,EAAEE,OAAOC,MACb,cACHC,KAAKH,IACdrD,KAAKyD,SAAS,CAACV,SAAUK,EAAEE,OAAOC,MAAOJ,IAAI,O,mCAIpCC,GACX,IAAIM,EAAUN,EAAEE,OAAOC,MACT,eACHC,KAAKE,IACd1D,KAAKyD,SAAS,CAACT,KAAMI,EAAEE,OAAOC,MAAOJ,IAAI,O,uCAI5BQ,EAAIP,GACX,GAALO,EACD3D,KAAKyD,SAAS,CAACR,SAAUG,EAAEE,OAAOC,MAAMJ,IAAK,KAE7CnD,KAAKyD,SAAS,CAACP,UAAWE,EAAEE,OAAOC,MAAMJ,IAAK,O,0CAI9BC,GAClBpD,KAAKyD,SAAS,CACZ1D,YAAaqD,EAAEE,OAAOM,QACtBT,IAAK,O,+BAIAC,GAAI,IAAD,OAGV,GAFAA,EAAES,iBAEC7D,KAAK8C,MAAMG,WAAWjD,KAAK8C,MAAMI,UAAU,CAC5C,IAAMY,EAAS,CACbf,SAAU/C,KAAK8C,MAAMC,SACrBC,KAAMhD,KAAK8C,MAAME,KACjBC,SAAUjD,KAAK8C,MAAMG,SACrBlD,YAAaC,KAAK8C,MAAM/C,YACxBgE,aAAc/D,KAAK8C,MAAMrD,OAE3BZ,EAAMmF,KAAK,gBAAiBF,GAAQpE,MAAK,SAACyD,GACxC,EAAKM,SAAS,CACZN,IAAKA,EAAIvD,KAAKqE,QACdlB,SAAU,GACVC,KAAM,GACNC,SAAU,GACVC,UAAW,GACXnD,aAAa,YAIfC,KAAKyD,SAAS,CACZN,IAAI,6C,+BASF,IAAD,OACP,OACE,gCACE,iDACA,sBAAMN,SAAU7C,KAAK6C,SAArB,SACA,sBAAKqB,MAAM,WAAX,UACE,sBAAK9D,UAAU,iDAAf,UACE,+CACA,uBACE+D,KAAK,OACLC,UAAQ,EACRhE,UAAU,eACVmD,MAAOvD,KAAK8C,MAAMC,SAClBsB,SAAUrE,KAAKyC,iBACf6B,UAAU,IACVC,UAAU,UAGd,sBAAKnE,UAAU,iDAAf,UACE,2CACA,uBACE+D,KAAK,OACLC,UAAQ,EACRhE,UAAU,eACVmD,MAAOvD,KAAK8C,MAAME,KAClBqB,SAAUrE,KAAK0C,aACf8B,UAAU,IACVC,UAAU,UAGd,sBAAKrE,UAAU,iDAAf,UACE,+CACA,uBACE+D,KAAK,WACLC,UAAQ,EACRhE,UAAU,eACVmD,MAAOvD,KAAK8C,MAAMG,SAClBoB,SAAU,SAACjB,GAAD,OAAO,EAAKT,iBAAiB,EAAES,IACzCkB,UAAU,IACVG,UAAU,UAGd,sBAAKrE,UAAU,iDAAf,UACE,wDACA,uBACE+D,KAAK,WACLC,UAAQ,EACRhE,UAAU,eACVmD,MAAOvD,KAAK8C,MAAMI,UAClBmB,SAAU,SAACjB,GAAD,OAAO,EAAKT,iBAAiB,EAAES,IACzCkB,UAAU,IACVG,UAAU,UAGd,sBAAKrE,UAAU,iDAAf,UACA,uBACE+D,KAAK,WACL/D,UAAU,mBACVmD,MAAOvD,KAAK8C,MAAM/C,YAClBsE,SAAUrE,KAAK4C,sBAEjB,uBAAOsB,MAAM,mBAAb,8BAEA,qBAAK9D,UAAU,iDAAf,SACE,uBACE+D,KAAK,SACLZ,MAAM,cACNnD,UAAU,2BAKhB,8BAAMJ,KAAK8C,MAAMK,a,GA5JcZ,aCAlBC,E,kDACnB,WAAYvD,GAAQ,IAAD,8BACjB,cAAMA,IAEDwD,iBAAmB,EAAKA,iBAAiBtD,KAAtB,gBACxB,EAAKuD,aAAe,EAAKA,aAAavD,KAAlB,gBACpB,EAAKuF,sBAAwB,EAAKA,sBAAsBvF,KAA3B,gBAC7B,EAAKwD,iBAAmB,EAAKA,iBAAiBxD,KAAtB,gBACxB,EAAK0D,SAAW,EAAKA,SAAS1D,KAAd,gBAEhB,EAAK2D,MAAQ,CACXC,SAAU,GACVC,KAAM,GACNC,SAAU,GACVC,UAAW,GACXyB,cAAe,GACflF,MAAO,EAAKR,MAAMQ,MAClB0D,IAAK,IAhBU,E,6DAoBFC,GACf,IAAIC,EAAcD,EAAEE,OAAOC,MACb,cACHC,KAAKH,IACdrD,KAAKyD,SAAS,CAACV,SAAUK,EAAEE,OAAOC,MAAOJ,IAAI,O,mCAIpCC,GACX,IAAIM,EAAUN,EAAEE,OAAOC,MACT,kBACHC,KAAKE,IACd1D,KAAKyD,SAAS,CAACT,KAAMI,EAAEE,OAAOC,MAAOJ,IAAI,O,4CAIvBC,GACpB,IAAIwB,EAASxB,EAAEE,OAAOC,MACR,WACHC,KAAKoB,IACd5E,KAAKyD,SAAS,CAACkB,cAAevB,EAAEE,OAAOC,MAAOJ,IAAI,O,uCAIrCQ,EAAIP,GACX,GAALO,EACD3D,KAAKyD,SAAS,CAACR,SAAUG,EAAEE,OAAOC,MAAMJ,IAAK,KAE7CnD,KAAKyD,SAAS,CAACP,UAAWE,EAAEE,OAAOC,MAAMJ,IAAK,O,+BAKzCC,GAAI,IAAD,OAGV,GAFAA,EAAES,iBAEC7D,KAAK8C,MAAMG,WAAWjD,KAAK8C,MAAMI,UAAU,CAC5C,IAAM2B,EAAQ,CACZ9B,SAAU/C,KAAK8C,MAAMC,SACrBC,KAAMhD,KAAK8C,MAAME,KACjBC,SAAUjD,KAAK8C,MAAMG,SACrB0B,cAAe3E,KAAK8C,MAAM6B,cAC1BZ,aAAc/D,KAAK8C,MAAMrD,OAE3BZ,EAAMmF,KAAK,mBAAoBa,GAAOnF,MAAK,SAACyD,GAC1C,EAAKM,SAAS,CACZN,IAAKA,EAAIvD,KAAKqE,QACdlB,SAAU,GACVC,KAAM,GACNC,SAAU,GACVC,UAAW,GACXyB,cAAe,aAIjB3E,KAAKyD,SAAS,CACZN,IAAI,6C,+BASF,IAAD,OACP,OACE,gCACE,2DACA,sBAAMN,SAAU7C,KAAK6C,SAArB,SACA,sBAAKqB,MAAM,WAAX,UACE,sBAAK9D,UAAU,iDAAf,UACE,+CACA,uBACE+D,KAAK,OACLC,UAAQ,EACRhE,UAAU,eACVmD,MAAOvD,KAAK8C,MAAMC,SAClBsB,SAAUrE,KAAKyC,iBACf6B,UAAU,IACVC,UAAU,UAGd,sBAAKnE,UAAU,iDAAf,UACE,2CACA,uBACE+D,KAAK,OACLC,UAAQ,EACRhE,UAAU,eACVmD,MAAOvD,KAAK8C,MAAME,KAClBqB,SAAUrE,KAAK0C,aACf8B,UAAU,IACVC,UAAU,UAGd,sBAAKrE,UAAU,iDAAf,UACE,qDACA,uBACE+D,KAAK,OACLC,UAAQ,EACRhE,UAAU,eACVmD,MAAOvD,KAAK8C,MAAM6B,cAClBN,SAAUrE,KAAK0E,sBACfF,UAAU,IACVC,UAAU,UAGd,sBAAKrE,UAAU,iDAAf,UACE,+CACA,uBACE+D,KAAK,WACLC,UAAQ,EACRhE,UAAU,eACVmD,MAAOvD,KAAK8C,MAAMG,SAClBoB,SAAU,SAACjB,GAAD,OAAO,EAAKT,iBAAiB,EAAES,IACzCkB,UAAU,IACVG,UAAU,UAGd,sBAAKrE,UAAU,iDAAf,UACE,wDACA,uBACE+D,KAAK,WACLC,UAAQ,EACRhE,UAAU,eACVmD,MAAOvD,KAAK8C,MAAMI,UAClBmB,SAAU,SAACjB,GAAD,OAAO,EAAKT,iBAAiB,EAAES,IACzCkB,UAAU,IACVG,UAAU,UAGd,qBAAKrE,UAAU,iDAAf,SACE,uBACE+D,KAAK,SACLZ,MAAM,wBACNnD,UAAU,2BAKhB,8BAAMJ,KAAK8C,MAAMK,a,GAjKcZ,a,yCC0BxBuC,EA1BI,SAAC7F,GAAW,IACrB8F,EAAoD9F,EAApD8F,WAAYC,EAAwC/F,EAAxC+F,SAAUC,EAA8BhG,EAA9BgG,aAAcC,EAAgBjG,EAAhBiG,YAC5C7F,QAAQC,IAAI4F,EAAaH,EAAYC,GAErC,IAAMG,EAAaC,KAAKC,KAAKN,EAAaC,GAC1C,GAAmB,IAAfG,EAAkB,OAAO,KAC7B,IAAMG,EAAQC,IAAEC,MAAM,EAAGL,EAAa,GAEtC,OACE,8BACE,oBAAIjB,MAAM,aAAV,SACGoB,EAAMG,KAAI,SAACC,GAAD,OACT,oBACExB,MAAOwB,IAASR,EAAc,mBAAqB,YADrD,SAIE,mBAAGhB,MAAM,YAAYzC,QAAS,kBAAMwD,EAAaS,IAAjD,SACGA,KAHEA,WCJFC,EAVC,WACd,OACE,qBAAKvF,UAAU,qCAAf,SACA,qBAAKA,UAAU,iBAAiBwF,KAAK,SAArC,SACI,sBAAMxF,UAAU,UAAhB,6BCLD,SAASyF,EAASC,EAAOC,EAAYf,GAC1C,IAAMgB,GAAcD,EAAa,GAAKf,EACtC,OAAOO,IAAEO,GAAOG,MAAMD,GAAYE,KAAKlB,GAAUzB,Q,qBCFtC4C,EAAkB,SAACC,GAS9B,IAAMC,EAAa,CACjBC,QAAS,CAAEC,SAAU,QAASC,UAAW,WACzCC,YAAa,CAAEF,SAAU,SAAUC,UAAW,WAC9CE,WAAY,CAAEH,SAAU,SAAUC,UAAW,WAC7CG,UAAW,CAAEJ,SAAU,SAAUC,UAAW,WAC5CI,UAAW,CAAEL,SAAU,SAAUC,UAAW,WAC5CK,mBAAoB,CAAEN,SAAU,SAAUC,UAAW,UACrDM,UAAW,CAAEP,SAAU,SAAUC,UAAW,UAC5CO,UAAW,CAAER,SAAU,SAAUC,UAAW,WAC5CQ,QAAS,CAAET,SAAU,SAAUC,UAAW,UAC1CS,UAAW,CAAEV,SAAU,SAAUC,UAAW,WAC5CU,SAAU,CAAEX,SAAU,SAAUC,UAAW,YAGzCW,EAAY,KACdC,EAAgB,KAChBC,EAAW,KACb,IAAK,IAAIC,KAAQjB,EAAY,CAC3B,IAAIkB,EAAY,CACdhB,SAAUF,EAAWiB,GAAMf,SAC3BC,UAAWH,EAAWiB,GAAMd,WAI9B,GAFAa,EAAWG,IAAUpB,EAAYmB,EAAW,CAAEE,KAAM,OAElC,OAAdN,GAAsBC,EAAgBC,EACxC,OAAOF,EAETA,EAAYG,EACZF,EAAgBC,ICrBdK,EAAQ,SAACzI,GACb,IAAI0I,EAASxB,EAAgB,CAC3BI,SAAUtH,EAAM4F,MAAM+C,IACtBpB,UAAWvH,EAAM4F,MAAMgD,MAEzB,OAAI5I,EAAM4F,MAAM9B,WAAa9D,EAAM6I,cAG/B,qBAAI1H,UAAU,kBAAd,UACE,6BAAKnB,EAAM4F,MAAM9B,WACjB,6BACE,uBACEoB,KAAK,OACLC,UAAQ,EACRhE,UAAU,eACVmD,MAAOtE,EAAM8I,UACb1D,SAAUpF,EAAMyD,aAChB8B,UAAU,IACVC,UAAU,SAGd,6BACE,uBACEN,KAAK,OACLZ,MAAOtE,EAAM+I,mBACb3D,SAAUpF,EAAMyF,0BAGpB,6BAAKzF,EAAM4F,MAAMoD,cAA+B,GAAjBhJ,EAAM4F,MAAM+C,KAA0B,GAAjB3I,EAAM4F,MAAMgD,KAASF,GAAgB,IAAI,KAAK1I,EAAM4F,MAAM+C,IAAI,IAAI3I,EAAM4F,MAAMgD,IAAI,IAAM,MAC5I,+BACE,wBACE1D,KAAK,SACL/D,UAAU,2BACVqB,QAAS,WACPxC,EAAMiJ,eAJV,SAOE,cAAC,IAAD,CAAiB7G,KAAM8G,QAR3B,OAWE,wBAAQhE,KAAK,SACX/D,UAAU,yBACVqB,QAAS,WACPxC,EAAMmJ,YACJnJ,EAAM4F,MAAM9B,SACZ9D,EAAM8I,UACN9I,EAAM+I,qBANZ,SAUE,cAAC,IAAD,CAAiB3G,KAAMgH,cAQ7B,+BACE,6BAAKpJ,EAAM4F,MAAM9B,WACjB,6BAAK9D,EAAM4F,MAAM7B,OACjB,6BAAK/D,EAAM4F,MAAMF,gBACjB,6BAAK1F,EAAM4F,MAAMoD,cAA+B,GAAjBhJ,EAAM4F,MAAM+C,KAA0B,GAAjB3I,EAAM4F,MAAMgD,KAASF,GAAgB,IAAI,KAAK1I,EAAM4F,MAAM+C,IAAI,IAAI3I,EAAM4F,MAAMgD,IAAI,IAAM,MAC5I,+BACE,wBACEzH,UAAU,sBACVqB,QAAS,WACPxC,EAAMqJ,UAAUrJ,EAAM4F,QAH1B,SAME,cAAC,IAAD,CAAiBxD,KAAMkH,QAP3B,OAUE,wBACEnI,UAAU,wBACVqB,QAAS,WACPxC,EAAMuJ,YAAYvJ,EAAM4F,MAAM9B,WAHlC,SAME,cAAC,IAAD,CAAiB1B,KAAMoH,eAQdC,E,kDACnB,WAAYzJ,GAAQ,IAAD,8BACjB,cAAMA,IA6BR0J,QA9BmB,sBA8BT,4BAAAC,EAAA,sEACQ/J,EAAMU,IAAI,cADlB,OACJ4D,EADI,OAER,EAAKM,SAAS,CAAEoF,UAAW1F,EAAIvD,KAAKA,KAAMkJ,YAAY,IACtDzJ,QAAQC,IAAI,cACZD,QAAQC,IAAI6D,EAAIvD,KAAKA,MAJb,2CA3BR,EAAK4I,YAAc,EAAKA,YAAYrJ,KAAjB,gBACnB,EAAKmJ,UAAY,EAAKA,UAAUnJ,KAAf,gBACjB,EAAKiJ,YAAc,EAAKA,YAAYjJ,KAAjB,gBACnB,EAAK+I,YAAc,EAAKA,YAAY/I,KAAjB,gBAEnB,EAAKuD,aAAe,EAAKA,aAAavD,KAAlB,gBACpB,EAAKuF,sBAAwB,EAAKA,sBAAsBvF,KAA3B,gBAC7B,EAAK4J,QAAU,EAAKA,QAAQ5J,KAAb,gBACf,EAAK6J,iBAAmB,EAAKA,iBAAiB7J,KAAtB,gBAExB,EAAK2D,MAAQ,CACX+F,UAAW,GACXC,YAAY,EACZhB,cAAe,KACf9C,SAAU,EAAK/F,MAAM+F,SACrBE,YAAa,GAlBE,E,0LAuBXlF,KAAK2I,U,6IAGIjD,GACf1F,KAAKyD,SAAS,CAAEyB,YAAaQ,M,yJAWC,IAA1B1F,KAAK8C,MAAMgG,W,gCACP9I,KAAK2I,U,OAEbtJ,QAAQC,IAAIU,KAAK8C,O,iLAGDC,G,iFACVlE,EACHoK,OAAO,uBAAwB,CAC9BrJ,KAAM,CAAEmD,SAAUA,EAAUgB,aAAc/D,KAAKf,MAAMQ,SAEtDC,MAAK,SAACC,GACLN,QAAQC,IAAIK,EAASC,S,OAGzBI,KAAKyD,SAAS,CACZqF,YAAY,IAEd9I,KAAK+I,U,kLAGWhG,EAAUC,EAAM2B,G,4FAE1B9F,EACHmF,KAAK,uBAAwB,CAC5BjB,SAAUA,EACVC,KAAMA,EACN2B,cAAeA,EACfZ,aAAc/D,KAAKf,MAAMQ,QAE1BC,MAAK,SAACC,GACLN,QAAQC,IAAIK,EAASC,MACrBP,QAAQC,IAAI,SAAW,EAAKL,MAAMQ,U,OAEtCO,KAAKyD,SAAS,CACZqF,YAAY,EACZhB,cAAe,KACfC,UAAW,KACXC,mBAAoB,OAEtBhI,KAAK+I,U,2IAGGlE,GACR7E,KAAKyD,SAAS,CACZqE,cAAejD,EAAM9B,SACrBgF,UAAWlD,EAAM7B,KACjBgF,mBAAoBnD,EAAMF,cAC1BmE,YAAY,M,oCAKd9I,KAAKyD,SAAS,CACZqE,cAAe,KACfC,UAAW,KACXC,mBAAoB,KACpBc,YAAY,M,gCAKd9I,KAAKyD,SAAS,CACZqF,YAAY,M,mCAIH1F,GACX,IAAIM,EAAUN,EAAEE,OAAOC,MACnB2F,EAAU,kBACd7J,QAAQC,IAAI4J,EAAQ1F,KAAKE,IACtBwF,EAAQ1F,KAAKE,IACd1D,KAAKyD,SAAS,CAACsE,UAAW3E,EAAEE,OAAOC,U,4CAIjBH,GACpB,IAAIwB,EAASxB,EAAEE,OAAOC,MACR,WACHC,KAAKoB,IACd5E,KAAKyD,SAAS,CAACuE,mBAAoB5E,EAAEE,OAAOC,U,gCAItCtE,GAAQ,IAAD,OACf,OAAOA,EAAMwG,KAAI,SAAC0D,GAChB,OACE,cAAC,EAAD,CACEtE,MAAOsE,EACPX,YAAa,EAAKA,YAClBF,UAAW,EAAKA,UAChBF,YAAa,EAAKA,YAClBF,YAAa,EAAKA,YAClBxF,aAAc,EAAKA,aACnBgC,sBAAuB,EAAKA,sBAE5BoD,cAAe,EAAKhF,MAAMgF,cAC1BC,UAAW,EAAKjF,MAAMiF,UACtBC,mBAAoB,EAAKlF,MAAMkF,oBAH1BmB,EAAapG,e,+BAShB,IAAD,OACSqG,EAAUpJ,KAAK8C,MAAM+F,UAA7BQ,OADD,EAEgDrJ,KAAK8C,MAApDkC,EAFD,EAECA,SAAUE,EAFX,EAEWA,YAAwBoE,EAFnC,EAEwBT,UAC/B,GAAI7I,KAAK8C,MAAMgG,WAAY,OAAO,cAAC,EAAD,IAClC,GAAc,IAAVM,EAAa,OAAO,yEAExB,IAAMvE,EAAQgB,EAASyD,EAAUpE,EAAaF,GAC9C,OACE,gCACE,+BACG,IACD,cAAC,IAAD,CAAiB3D,KAAMQ,MAFzB,kBAGE,wBACEzB,UAAU,uBACVqB,QAAS,WACP,EAAKsH,WAHT,SAME,cAAC,IAAD,CAAiB1H,KAAMkI,WAG3B,wBAAOnJ,UAAU,QAAjB,UACE,uBAAOA,UAAU,cAAjB,SACE,+BACE,0CACA,sCACA,gDACA,0CACA,8CAGJ,gCAAQJ,KAAKwJ,UAAU3E,QAEzB,cAAC,EAAD,CACEE,WAAYqE,EACZpE,SAAUA,EACVC,aAAcjF,KAAKgJ,iBACnB9D,YAAaA,W,GApLgB3C,a,QCpGlBkH,G,wDACnB,WAAYxK,GAAQ,IAAD,8BACjB,cAAMA,IAEDyK,qBAAuB,EAAKA,qBAAqBvK,KAA1B,gBAC5B,EAAKwK,qBAAuB,EAAKA,qBAAqBxK,KAA1B,gBAE5B,EAAKyK,kBAAoB,EAAKA,kBAAkBzK,KAAvB,gBACzB,EAAK0K,qBAAuB,EAAKA,qBAAqB1K,KAA1B,gBAE5B,EAAK2K,gBAAkB,EAAKA,gBAAgB3K,KAArB,gBACvB,EAAK4K,oBAAsB,EAAKA,oBAAoB5K,KAAzB,gBAE3B,EAAK6K,oBAAsB,EAAKA,oBAAoB7K,KAAzB,gBAC3B,EAAK8K,mBAAqB,EAAKA,mBAAmB9K,KAAxB,gBAC1B,EAAK+K,yBAA2B,EAAKA,yBAAyB/K,KAA9B,gBAEhC,EAAKgL,yBAA2B,EAAKA,yBAAyBhL,KAA9B,gBAEhC,EAAKiL,oBAAsB,EAAKA,oBAAoBjL,KAAzB,gBAC3B,EAAKkL,iBAAmB,EAAKA,iBAAiBlL,KAAtB,gBACxB,EAAKmL,eAAiB,EAAKA,eAAenL,KAApB,gBAEtB,EAAKoL,eAAiB,EAAKA,eAAepL,KAApB,gBACtB,EAAKqL,eAAiB,EAAKA,eAAerL,KAApB,gBACtB,EAAKsL,sBAAwB,EAAKA,sBAAsBtL,KAA3B,gBAC7B,EAAK4J,QAAU,EAAKA,QAAQ5J,KAAb,gBACf,EAAK0D,SAAW,EAAKA,SAAS1D,KAAd,gBAEhB,EAAK2D,MAAQ,CACX4H,aAAc,EAAKzL,MAAM0L,SAASD,aAClCE,aAAc,EAAK3L,MAAM0L,SAASC,aAClCC,UAAW,EAAK5L,MAAM0L,SAASE,UAC/BC,aAAc,EAAK7L,MAAM0L,SAASG,aAClCC,QAAS,EAAK9L,MAAM0L,SAASI,QAC7BC,YAAa,EAAK/L,MAAM0L,SAASK,YACjCC,YAAa,EAAKhM,MAAM0L,SAASM,YACjCC,WAAY,EAAKjM,MAAM0L,SAASO,WAChCC,iBAAkB,EAAKlM,MAAM0L,SAASQ,iBACtCC,YAAa,EAAKnM,MAAM0L,SAASS,YACjCC,SAAU,EAAKpM,MAAM0L,SAASU,SAC9BC,OAAQ,EAAKrM,MAAM0L,SAASW,OAC5BC,OAAQ,EAAKtM,MAAM0L,SAASY,OAC5B5D,OAAQ,EAAK1I,MAAM0L,SAAShD,OAC5B6D,cAAe,EAAKvM,MAAM0L,SAASa,cACnCC,kBAAmB,EAAKxM,MAAM0L,SAASc,kBACvChM,MAAO,EAAKR,MAAMQ,MAClB0D,IAAK,IA9CU,E,iEAkDEuI,GACnB1L,KAAKyD,SAAS,CACZiH,aAAcgB,M,+CAIOA,GACvB1L,KAAKyD,SAAS,CACZ0H,iBAAkBO,M,2CAIDtI,GACnBpD,KAAKyD,SAAS,CACZmH,aAAcxH,EAAEE,OAAOC,MACvBJ,IAAK,O,wCAISC,GAChBpD,KAAKyD,SAAS,CACZoH,UAAWzH,EAAEE,OAAOC,MACpBJ,IAAK,O,2CAGYC,GACnBpD,KAAKyD,SAAS,CACZqH,aAAiC,SAAnB1H,EAAEE,OAAOC,MACvBJ,IAAK,O,sCAIOC,GACdpD,KAAKyD,SAAS,CACZsH,QAA4B,UAAnB3H,EAAEE,OAAOC,MAClBJ,IAAK,O,0CAIWC,GAClBpD,KAAKyD,SAAS,CACZuH,YAAgC,QAAnB5H,EAAEE,OAAOC,MACtBJ,IAAK,O,+CAIgBC,GACvBpD,KAAKyD,SAAS,CACZgI,kBAAsC,SAAnBrI,EAAEE,OAAOC,MAC5BJ,IAAK,O,0CAIWC,GAClBpD,KAAKyD,SAAS,CACZwH,YAAaU,SAASvI,EAAEE,OAAOC,OAC/BJ,IAAK,O,yCAGUC,GACjBpD,KAAKyD,SAAS,CACZyH,WAAY9H,EAAEE,OAAOC,MACrBJ,IAAK,O,0CAIWC,GAClBpD,KAAKyD,SAAS,CACZ2H,YAAgC,YAAnBhI,EAAEE,OAAOC,MACtBJ,IAAK,O,uCAGQC,GACfpD,KAAKyD,SAAS,CACZ4H,SAAUM,SAASvI,EAAEE,OAAOC,OAC5BJ,IAAK,O,qCAGMC,GACbpD,KAAKyD,SAAS,CACZ6H,OAAQK,SAASvI,EAAEE,OAAOC,OAC1BJ,IAAK,O,qCAGMC,GACbpD,KAAKyD,SAAS,CACZ8H,OAAQnI,EAAEE,OAAOC,MACjBJ,IAAK,O,qCAGMC,GAKb,OAJApD,KAAKyD,SAAS,CACZkE,OAAQgE,SAASvI,EAAEE,OAAOC,OAC1BJ,IAAK,KAECwI,SAASvI,EAAEE,OAAOC,QACxB,KAAK,EACHvD,KAAKyD,SAAS,CAAE8H,OAAQ,IACxB,MACF,KAAK,EACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,MACxB,MACF,KAAK,EACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,OACxB,MACF,KAAK,EACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,OACxB,MACF,KAAK,EACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,KACxB,MACF,KAAK,EACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,OACxB,MACF,KAAK,EACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,OACxB,MACF,KAAK,EACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,OACxB,MACF,KAAK,EACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,MACxB,MACF,KAAK,EACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,QACxB,MACF,KAAK,GACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,S,4CAMRnI,GACpBpD,KAAKyD,SAAS,CACZ+H,cAAepI,EAAEE,OAAOC,MACxBJ,IAAK,O,+BAIAC,GAAI,IAAD,OACVA,EAAES,iBAEF,IAAM+H,EAAI,IAAIC,KAEd,GAAM7L,KAAK8C,MAAM4H,wBAAwBmB,KAMlC,CACL,IAMMlB,EAAW,CACfmB,SAPe,IAAID,KACnB7L,KAAK8C,MAAM4H,aACRqB,WACAC,QAAQ,mBAAoBhM,KAAK8C,MAAM8H,eAK1CC,UAAW7K,KAAK8C,MAAM+H,UACtBC,aAAc9K,KAAK8C,MAAMgI,aACzBC,QAAS/K,KAAK8C,MAAMiI,QACpBC,YAAahL,KAAK8C,MAAMkI,YACxBC,YAAajL,KAAK8C,MAAMmI,YACxBC,WAAYlL,KAAK8C,MAAMoI,WACvBO,kBAAmBzL,KAAK8C,MAAM2I,kBAC9BN,iBAAkBnL,KAAK8C,MAAMqI,iBAC7BC,YAAapL,KAAK8C,MAAMsI,YACxBC,SAAUrL,KAAK8C,MAAMuI,SACrBC,OAAQtL,KAAK8C,MAAMwI,OACnBC,OAAQvL,KAAK8C,MAAMyI,OACnB5D,OAAQ3H,KAAK8C,MAAM6E,OACnB6D,cAAexL,KAAK8C,MAAM0I,cAC1BzH,aAAc/D,KAAK8C,MAAMrD,OAG3BJ,QAAQC,IAAIqL,GAEZ,IAAMiB,EAAI,IAAIC,KAEdhN,EACGmF,KAAK,kBAAmB2G,GACxBjL,MAAK,SAACyD,GACL9D,QAAQC,IAAI,eACZD,QAAQC,IAAI6D,GACZ8I,SAASC,eAAe,wBAAwBC,QAChD,EAAK1I,SAAS,CACZN,IAAKA,EAAIvD,KAAKqE,QACdyG,aAAckB,EACdhB,aAAcgB,EAAEG,WAAWK,MAAM,eAAe,GAChDvB,UAAW,GACXC,cAAc,EACdC,SAAS,EACTC,aAAa,EACbC,YAAa,EACbC,WAAYU,EAAES,cACdlB,iBAAkBS,EAClBR,aAAa,EACbC,SAAU,EACVC,OAAQ,EACRC,OAAQ,EACR5D,OAAQ,EACR6D,cAAe,EACfC,mBAAmB,YA1DzBzL,KAAKyD,SAAS,CACZN,IAAK,oCACLuH,aAAckB,EACd5I,KAAM,O,gCA8DVhD,KAAKyD,SAAS,CACZiH,aAAc1K,KAAKf,MAAM0L,SAASD,aAClCE,aAAc5K,KAAKf,MAAM0L,SAASC,aAClCC,UAAW7K,KAAKf,MAAM0L,SAASE,UAC/BC,aAAc9K,KAAKf,MAAM0L,SAASG,aAClCC,QAAS/K,KAAKf,MAAM0L,SAASI,QAC7BC,YAAahL,KAAKf,MAAM0L,SAASK,YACjCC,YAAajL,KAAKf,MAAM0L,SAASM,YACjCC,WAAYlL,KAAKf,MAAM0L,SAASO,WAChCC,iBAAkBnL,KAAKf,MAAM0L,SAASQ,iBACtCC,YAAapL,KAAKf,MAAM0L,SAASS,YACjCC,SAAUrL,KAAKf,MAAM0L,SAASU,SAC9BC,OAAQtL,KAAKf,MAAM0L,SAASW,OAC5BC,OAAQvL,KAAKf,MAAM0L,SAASY,OAC5B5D,OAAQ3H,KAAKf,MAAM0L,SAAShD,OAC5B6D,cAAexL,KAAKf,MAAM0L,SAASa,cACnCC,kBAAmBzL,KAAKf,MAAM0L,SAASc,sB,+BAKzC,OACE,sBAAKrL,UAAU,MAAf,UACE,qBAAKA,UAAU,SAAf,SACE,oDAEDJ,KAAKf,MAAMqN,SACV,wBAAQlM,UAAU,sBAAsBqB,QAASzB,KAAK+I,QAAtD,yBAIF,uBAAMwD,GAAG,uBAAuB1J,SAAU7C,KAAK6C,SAA/C,UACE,uBACA,gCACE,sBAAKzC,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,sDAEF,qBAAKA,UAAU,WAAf,SACE,8BACE,cAAC,IAAD,CACEA,UAAU,eACVoM,SAAUxM,KAAK8C,MAAM4H,aACrBrG,SAAUrE,KAAK0J,8BAMvB,sBAAKtJ,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,sDAEF,qBAAKA,UAAU,WAAf,SACE,uBACE+D,KAAK,OACL/D,UAAU,eACVmD,MAAOvD,KAAK8C,MAAM8H,aAClBvG,SAAUrE,KAAK2J,4BAIrB,sBAAKvJ,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,kDAEF,qBAAKA,UAAU,WAAf,SACE,uBACE+D,KAAK,SACL/D,UAAU,eACVmD,MAAOvD,KAAK8C,MAAM+H,UAClBxG,SAAUrE,KAAK4J,kBACf6C,IAAI,KACJC,IAAI,YAIV,sBAAKtM,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,qDAEF,qBAAKA,UAAU,WAAf,SACE,yBACEA,UAAU,eACViE,SAAUrE,KAAK6J,qBAFjB,UAIE,wBAAQtG,MAAM,OAAd,kBACA,wBAAQA,MAAM,SAAd,4BAIN,sBAAKnD,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,+CAEF,qBAAKA,UAAU,WAAf,SACE,yBACEA,UAAU,eACViE,SAAUrE,KAAK8J,gBAFjB,UAIE,wBAAQvG,MAAM,QAAd,mBACA,wBAAQA,MAAM,QAAd,2BAIN,sBAAKnD,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,oDAEF,qBAAKA,UAAU,WAAf,SACE,yBACEA,UAAU,eACViE,SAAUrE,KAAK+J,oBAFjB,UAIE,wBAAQxG,MAAM,MAAd,iBACA,wBAAQA,MAAM,MAAd,yBAIN,sBAAKnD,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,oDAEF,qBAAKA,UAAU,WAAf,SACE,yBACEA,UAAU,eACViE,SAAUrE,KAAKgK,oBAFjB,UAIE,wBAAQzG,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,gBACA,wBAAQA,MAAM,IAAd,kCAIN,sBAAKnD,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,gEAEF,qBAAKA,UAAU,WAAf,SACE,uBACE+D,KAAK,SACL/D,UAAU,eACVmD,MAAOvD,KAAK8C,MAAMoI,WAClB7G,SAAUrE,KAAKiK,0BAIrB,sBAAK7J,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,yDAEF,qBAAKA,UAAU,WAAf,SACE,yBACEA,UAAU,eACViE,SAAUrE,KAAKkK,yBAFjB,UAIE,wBAAQ3G,MAAM,OAAd,kBACA,wBAAQA,MAAM,MAAd,yBAIN,sBAAKnD,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,0DAEF,qBAAKA,UAAU,WAAf,SACE,cAAC,IAAD,CACEA,UAAU,eACVoM,SAAUxM,KAAK8C,MAAMqI,iBACrB9G,SAAUrE,KAAKmK,gCAIrB,sBAAK/J,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,oDAEF,qBAAKA,UAAU,WAAf,SACE,yBACEA,UAAU,eACViE,SAAUrE,KAAKoK,oBACf7G,MAAOvD,KAAK8C,MAAMsI,YAAc,SAAW,UAH7C,UAKE,wBAAQ7H,MAAM,UAAd,+BACA,wBAAQA,MAAM,SAAd,uCAIN,sBAAKnD,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,gDAEF,qBAAKA,UAAU,WAAf,SACE,yBACEA,UAAU,eACViE,SAAUrE,KAAKqK,iBAFjB,UAIE,wBAAQ9G,MAAM,IAAd,6BACA,wBAAQA,MAAM,IAAd,oBACA,wBAAQA,MAAM,IAAd,8BAIN,sBAAKnD,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,8CAEF,qBAAKA,UAAU,WAAf,SACE,yBAAQA,UAAU,eAAeiE,SAAUrE,KAAKsK,eAAhD,UACE,wBAAQ/G,MAAM,IAAd,6BACA,wBAAQA,MAAM,IAAd,2BACA,wBAAQA,MAAM,IAAd,mBACA,wBAAQA,MAAM,IAAd,wBACA,wBAAQA,MAAM,IAAd,mBACA,wBAAQA,MAAM,IAAd,8BAIN,sBAAKnD,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,8CAEF,qBAAKA,UAAU,WAAf,SACE,yBACEA,UAAU,eACViE,SAAUrE,KAAKwK,eACfjH,MAAOvD,KAAK8C,MAAM6E,OAAOoE,WAH3B,UAKE,wBAAQxI,MAAM,IAAd,qBACA,wBAAQA,MAAM,IAAd,yBACA,wBAAQA,MAAM,IAAd,wBACA,wBAAQA,MAAM,IAAd,uBACA,wBAAQA,MAAM,IAAd,uBACA,wBAAQA,MAAM,IAAd,gCACA,wBAAQA,MAAM,IAAd,uBACA,wBAAQA,MAAM,IAAd,uBACA,wBAAQA,MAAM,IAAd,qBACA,wBAAQA,MAAM,IAAd,uBACA,wBAAQA,MAAM,KAAd,8BAKN,sBAAKnD,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,+CAEF,qBAAKA,UAAU,WAAf,SACE,uBACE+D,KAAK,SACLwI,KAAK,MACLvM,UAAU,eACVmD,MAAOvD,KAAK8C,MAAMyI,OAClBlH,SAAUrE,KAAKuK,eACfkC,IAAI,IACJC,IAAI,aAKV,sBAAKtM,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,6DAEF,qBAAKA,UAAU,WAAf,SACE,uBACE+D,KAAK,SACL/D,UAAU,eACVmD,MAAOvD,KAAK8C,MAAM0I,cAClBnH,SAAUrE,KAAKyK,sBACfgC,IAAI,WAKV,sBAAKrM,UAAU,OAAf,UACE,uBACA,uBACE+D,KAAK,SACLZ,MAAM,gBACNV,SAAU7C,KAAK6C,SACfzC,UAAU,oBACT,IACFJ,KAAK8C,MAAMK,IACZ,wC,GAliBkCZ,cCLzC,SAASqK,EAAad,GAE3B,OADQ,IAAID,KAAKC,EAASC,YACjBA,WAAWK,MAAM,aAAa,GAGlC,SAASS,EAAaf,GAE3B,OADQ,IAAID,KAAKC,EAASC,YACjBA,WAAWK,MAAM,mBAGrB,SAASU,EAAcnJ,GAC5B,OAAQA,GACN,KAAK,EACH,MAAO,UACT,KAAK,EACH,MAAO,cACT,KAAK,EACH,MAAO,aACT,KAAK,EACH,MAAO,YACT,KAAK,EACH,MAAO,YACT,KAAK,EACH,MAAO,qBACT,KAAK,EACH,MAAO,YACT,KAAK,EACH,MAAO,YACT,KAAK,EACH,MAAO,UACT,KAAK,EACH,MAAO,YACT,KAAK,GACH,MAAO,WACT,QACE,MAAO,aAIN,SAASoJ,EAAapF,GAC3B,OAAQA,GACN,IAAK,UACH,OAAO,EACT,IAAK,cACH,OAAO,EACT,IAAK,aACH,OAAO,EACT,IAAK,YACH,OAAO,EACT,IAAK,YACH,OAAO,EACT,IAAK,qBACH,OAAO,EACT,IAAK,YACH,OAAO,EACT,IAAK,YACH,OAAO,EACT,IAAK,UACH,OAAO,EACT,IAAK,YACH,OAAO,EACT,IAAK,WACH,OAAO,GACT,QACE,OAAO,GAIN,SAASqF,EAASrJ,GACvB,OAAQA,GACN,KAAK,EACH,MAAO,MACT,KAAK,EACH,MAAO,MACT,KAAK,EACH,MAAO,MACT,KAAK,EACH,MAAO,MACT,KAAK,EACH,MAAO,MACT,KAAK,EACH,MAAO,MACT,QACE,MAAO,aAIN,SAASsJ,EAAUtJ,GACxB,OAAQA,GACN,KAAK,EACH,OAAO,EACT,KAAK,EACH,OAAO,IACT,KAAK,EACH,OAAO,KACT,KAAK,EACH,OAAO,KACT,KAAK,EACH,OAAO,GACT,KAAK,EACH,OAAO,KACT,KAAK,EACH,OAAO,KACT,KAAK,EACH,OAAO,KACT,KAAK,EACH,OAAO,IACT,KAAK,EACH,OAAO,MACT,KAAK,GACH,OAAO,IACT,QACE,OAAO,MCzFb,IAAMuJ,EAAW,SAACjO,GAChB,OAAIA,EAAM0L,SAAS4B,KAAOtN,EAAMkO,QAG5B,qBAAI/M,UAAU,kBAAd,UACE,+BACGyM,EAAa5N,EAAMmO,mBACpB,uBACEjJ,KAAK,OACLZ,MAAOtE,EAAMmO,kBACb/I,SAAUpF,EAAMyK,0BAGpB,+BACGzK,EAAMoO,kBACP,uBACElJ,KAAK,OACL/D,UAAU,eACVmD,MAAOtE,EAAMoO,kBACbhJ,SAAUpF,EAAM0K,0BAGpB,6BACE,uBACExF,KAAK,SACL/D,UAAU,eACVmD,MAAOtE,EAAMqO,eACbjJ,SAAUpF,EAAM2K,kBAChB6C,IAAI,KACJC,IAAI,KACJzL,MAAO,CAAER,MAAO,QAGpB,6BACE,yBACEL,UAAU,eACViE,SAAUpF,EAAM4K,qBAFlB,UAIE,wBAAQtG,MAAM,OAAd,kBACA,wBAAQiJ,SAAUvN,EAAMsO,kBAAmBhK,MAAM,SAAjD,yBAKJ,6BACE,yBAAQnD,UAAU,eAAeiE,SAAUpF,EAAM6K,gBAAjD,UACE,wBAAQvG,MAAM,QAAd,mBACA,wBAAQiJ,SAAUvN,EAAMuO,aAAcjK,MAAM,QAA5C,wBAKJ,6BACE,yBAAQnD,UAAU,eAAeiE,SAAUpF,EAAM8K,oBAAjD,UACE,wBAAQxG,MAAM,MAAd,iBACA,wBAAQiJ,SAAUvN,EAAMwO,iBAAkBlK,MAAM,MAAhD,sBAKJ,6BACE,yBAAQnD,UAAU,eAAeiE,SAAUpF,EAAM+K,oBAAjD,UACE,wBAAQwC,SAAqC,IAA3BvN,EAAMyO,iBAAwBnK,MAAM,IAAtD,iBAGA,wBAAQiJ,SAAqC,IAA3BvN,EAAMyO,iBAAwBnK,MAAM,IAAtD,gBAGA,wBAAQiJ,SAAqC,IAA3BvN,EAAMyO,iBAAwBnK,MAAM,IAAtD,qBAKJ,6BACE,uBACEY,KAAK,SACL/D,UAAU,eACVmD,MAAOtE,EAAM0O,gBACbtJ,SAAUpF,EAAMgL,mBAChBhJ,MAAO,CAAER,MAAO,QAGpB,+BACGoM,EAAa5N,EAAM2O,uBACpB,uBACEzJ,KAAK,OACLZ,MAAOtE,EAAM2O,sBACbvJ,SAAUpF,EAAMkL,8BAGpB,6BACE,yBAAQ/J,UAAU,eAAeiE,SAAUpF,EAAMmL,oBAAjD,UACE,wBAAQ7G,MAAM,UAAd,qBACA,wBAAQiJ,SAAUvN,EAAM4O,iBAAkBtK,MAAM,SAAhD,yBAKJ,6BACE,yBACEnD,UAAU,eACVa,MAAO,CAAER,MAAO,KAChB4D,SAAUpF,EAAMoL,iBAHlB,UAKE,wBAAQmC,SAAkC,IAAxBvN,EAAM6O,cAAqBvK,MAAM,IAAnD,sBAGA,wBAAQiJ,SAAkC,IAAxBvN,EAAM6O,cAAqBvK,MAAM,IAAnD,oBAGA,wBAAQiJ,SAAkC,IAAxBvN,EAAM6O,cAAqBvK,MAAM,IAAnD,2BAKJ,6BACE,yBACEnD,UAAU,eACVa,MAAO,CAAER,MAAO,KAChB4D,SAAUpF,EAAMqL,eAHlB,UAKE,wBAAQkC,SAAgC,IAAtBvN,EAAM8O,YAAmBxK,MAAM,IAAjD,4BAGA,wBAAQiJ,SAAgC,IAAtBvN,EAAM8O,YAAmBxK,MAAM,IAAjD,0BAGA,wBAAQiJ,SAAgC,IAAtBvN,EAAM8O,YAAmBxK,MAAM,IAAjD,mBAGA,wBAAQiJ,SAAgC,IAAtBvN,EAAM8O,YAAmBxK,MAAM,IAAjD,yBAGA,wBAAQiJ,SAAgC,IAAtBvN,EAAM8O,YAAmBxK,MAAM,IAAjD,mBAGA,wBAAQiJ,SAAgC,IAAtBvN,EAAM8O,YAAmBxK,MAAM,IAAjD,2BAKJ,6BACE,yBACEnD,UAAU,eACVa,MAAO,CAAER,MAAO,KAChB4D,SAAUpF,EAAMuL,eAHlB,UAKE,wBAAQgC,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,KAAtBvN,EAAM+O,YAAoBzK,MAAM,KAAlD,SACGuJ,EAAc,WAIrB,6BACE,uBACE3I,KAAK,SACL/D,UAAU,eACVmD,MAAOtE,EAAMgP,YACb5J,SAAUpF,EAAMsL,eAChBtJ,MAAO,CAAER,MAAO,IAChBgM,IAAI,IACJC,IAAI,MACJC,KAAK,SAGT,6BACE,uBACExI,KAAK,SACL/D,UAAU,eACVmD,MAAOtE,EAAMiP,mBACb7J,SAAUpF,EAAMwL,sBAChBxJ,MAAO,CAAER,MAAO,IAChBgM,IAAI,QAGR,6BACE,yBACErM,UAAU,eACViE,SAAUpF,EAAMiL,yBAFlB,UAIE,wBAAQ3G,MAAM,OAAd,kBACA,wBAAQiJ,SAAUvN,EAAMkP,uBAAwB5K,MAAM,MAAtD,sBAMJ,oBAAInD,UAAU,aAAd,SAC8B,IAA3BnB,EAAM0L,SAASyD,QACZ,UAC2B,IAA3BnP,EAAM0L,SAASyD,QACf,UACA,eAEN,oBAAIhO,UAAU,aAAd,SAC+B,IAA5BnB,EAAM0L,SAAS0D,SACZ,OAC4B,IAA5BpP,EAAM0L,SAAS0D,SACf,OACA,WAEN,oBAAIjO,UAAU,aAAd,SACGnB,EAAM0L,SAAS2D,UAAY,WAAa,SAE3C,oBAAIlO,UAAU,aAAd,SAC6B,IAA1BnB,EAAM0L,SAAS4D,OACZ,OAC0B,IAA1BtP,EAAM0L,SAAS4D,OACf,QAC0B,IAA1BtP,EAAM0L,SAAS4D,OACf,SACA,YAEN,oBAAInO,UAAU,aAAd,SAC8B,IAA3BnB,EAAM0L,SAAS6D,QACZ,QAC2B,IAA3BvP,EAAM0L,SAAS6D,QACf,MACA,UAEN,oBAAIpO,UAAU,aAAd,SAA4B4M,EAAS/N,EAAM0L,SAAS8D,UACpD,oBAAIrO,UAAU,aAAd,SAA4BnB,EAAM0L,SAAS+D,WAAa,IAAM,MAC9D,oBAAItO,UAAU,aAAd,SAA4BnB,EAAM0L,SAASgE,WAAa,IAAM,MAC9D,oBAAIvO,UAAU,aAAd,SACGnB,EAAM0L,SAASiE,wBAA0B,IAAM,MAGlD,+BACE,wBACExO,UAAU,2BACVqB,QAAS,WACPxC,EAAMiJ,eAHV,SAME,cAAC,IAAD,CAAiB7G,KAAM8G,QAP3B,OAUE,wBACE/H,UAAU,yBACVqB,QAAS,WACPxC,EAAM4P,eACJ5P,EAAM0L,SAAS4B,GACftN,EAAMmO,kBACNnO,EAAMoO,kBACNpO,EAAMqO,eACNrO,EAAMsO,kBACNtO,EAAMuO,aACNvO,EAAMwO,iBACNxO,EAAMyO,iBACNzO,EAAM0O,gBACN1O,EAAM2O,sBACN3O,EAAM4O,iBACN5O,EAAM6O,cACN7O,EAAM8O,YACN9O,EAAMgP,YACNhP,EAAM+O,YACN/O,EAAMiP,mBACNjP,EAAMkP,yBApBZ,SAwBE,cAAC,IAAD,CAAiB9M,KAAMgH,cAQ7B,+BACE,6BAAKwE,EAAa5N,EAAM0L,SAASmB,YACjC,6BAAKc,EAAa3N,EAAM0L,SAASmB,YACjC,6BAAK7M,EAAM0L,SAASE,YAEpB,6BAAK5L,EAAM0L,SAASG,aAAe,SAAW,SAC9C,6BAAK7L,EAAM0L,SAASI,QAAU,OAAS,UACvC,6BAAK9L,EAAM0L,SAASK,YAAc,MAAQ,QAE1C,6BACkC,IAA/B/L,EAAM0L,SAASM,YACZ,MAC+B,IAA/BhM,EAAM0L,SAASM,YACf,KACA,OAEN,6BAAKhM,EAAM0L,SAASO,aACpB,6BAAK2B,EAAa5N,EAAM0L,SAASQ,oBAEjC,6BAAKlM,EAAM0L,SAASS,YAAc,SAAW,YAE7C,6BAC+B,IAA5BnM,EAAM0L,SAASU,SACZ,WAC4B,IAA5BpM,EAAM0L,SAASU,SACf,SACA,aAGN,6BAC6B,IAA1BpM,EAAM0L,SAASW,OACZ,iBAC0B,IAA1BrM,EAAM0L,SAASW,OACf,eAC0B,IAA1BrM,EAAM0L,SAASW,OACf,QAC0B,IAA1BrM,EAAM0L,SAASW,OACf,cAC0B,IAA1BrM,EAAM0L,SAASW,OACf,QACA,aAGN,6BAAKwB,EAAc7N,EAAM0L,SAAShD,UAClC,6BAAK1I,EAAM0L,SAASY,SAEpB,6BAAKtM,EAAM0L,SAASa,gBACpB,6BAAKvM,EAAM0L,SAASc,kBAAoB,MAAQ,SAEhD,oBAAIrL,UAAU,aAAd,SAC8B,IAA3BnB,EAAM0L,SAASyD,QACZ,UAC2B,IAA3BnP,EAAM0L,SAASyD,QACf,UACA,eAEN,oBAAIhO,UAAU,aAAd,SAC+B,IAA5BnB,EAAM0L,SAAS0D,SACZ,OAC4B,IAA5BpP,EAAM0L,SAAS0D,SACf,OACA,WAEN,oBAAIjO,UAAU,aAAd,SACGnB,EAAM0L,SAAS2D,UAAY,WAAa,SAE3C,oBAAIlO,UAAU,aAAd,SAC6B,IAA1BnB,EAAM0L,SAAS4D,OACZ,OAC0B,IAA1BtP,EAAM0L,SAAS4D,OACf,QAC0B,IAA1BtP,EAAM0L,SAAS4D,OACf,SACA,YAEN,oBAAInO,UAAU,aAAd,SAC8B,IAA3BnB,EAAM0L,SAAS6D,QACZ,QAC2B,IAA3BvP,EAAM0L,SAAS6D,QACf,MACA,UAEN,oBAAIpO,UAAU,aAAd,SAA4B4M,EAAS/N,EAAM0L,SAAS8D,UACpD,oBAAIrO,UAAU,aAAd,SAA4BnB,EAAM0L,SAAS+D,WAAa,IAAM,MAC9D,oBAAItO,UAAU,aAAd,SAA4BnB,EAAM0L,SAASgE,WAAa,IAAM,MAC9D,oBAAIvO,UAAU,aAAd,SACGnB,EAAM0L,SAASiE,wBAA0B,IAAM,MAGlD,+BACE,wBACExO,UAAU,sBACVqB,QAAS,WACPxC,EAAM6P,aAAa7P,EAAM0L,WAH7B,SAME,cAAC,IAAD,CAAiBtJ,KAAMkH,QAEzB,wBACEnI,UAAU,wBACVqB,QAAS,WACPxC,EAAM8P,eAAe9P,EAAM0L,SAAS4B,KAHxC,SAME,cAAC,IAAD,CAAiBlL,KAAMoH,eAQduG,E,kDACnB,WAAY/P,GAAQ,IAAD,8BACjB,cAAMA,IA4CR0J,QA7CmB,sBA6CT,4BAAAC,EAAA,sEACQ/J,EAAMU,IAAI,iBADlB,OACJ4D,EADI,OAER,EAAKM,SAAS,CAAEwL,aAAc9L,EAAIvD,KAAKA,KAAMkJ,YAAY,IACzDzJ,QAAQC,IAAI,cACZD,QAAQC,IAAI6D,EAAIvD,KAAKA,MAJb,2CA1CR,EAAKmP,eAAiB,EAAKA,eAAe5P,KAApB,gBACtB,EAAK2P,aAAe,EAAKA,aAAa3P,KAAlB,gBACpB,EAAK0P,eAAiB,EAAKA,eAAe1P,KAApB,gBACtB,EAAK+I,YAAc,EAAKA,YAAY/I,KAAjB,gBAEnB,EAAK4J,QAAU,EAAKA,QAAQ5J,KAAb,gBAEf,EAAKuK,qBAAuB,EAAKA,qBAAqBvK,KAA1B,gBAC5B,EAAKwK,qBAAuB,EAAKA,qBAAqBxK,KAA1B,gBAC5B,EAAKyK,kBAAoB,EAAKA,kBAAkBzK,KAAvB,gBACzB,EAAK0K,qBAAuB,EAAKA,qBAAqB1K,KAA1B,gBAC5B,EAAK2K,gBAAkB,EAAKA,gBAAgB3K,KAArB,gBACvB,EAAK4K,oBAAsB,EAAKA,oBAAoB5K,KAAzB,gBAC3B,EAAK6K,oBAAsB,EAAKA,oBAAoB7K,KAAzB,gBAC3B,EAAK8K,mBAAqB,EAAKA,mBAAmB9K,KAAxB,gBAC1B,EAAK+K,yBAA2B,EAAKA,yBAAyB/K,KAA9B,gBAChC,EAAKgL,yBAA2B,EAAKA,yBAAyBhL,KAA9B,gBAChC,EAAKiL,oBAAsB,EAAKA,oBAAoBjL,KAAzB,gBAC3B,EAAKkL,iBAAmB,EAAKA,iBAAiBlL,KAAtB,gBACxB,EAAKmL,eAAiB,EAAKA,eAAenL,KAApB,gBACtB,EAAKoL,eAAiB,EAAKA,eAAepL,KAApB,gBACtB,EAAKqL,eAAiB,EAAKA,eAAerL,KAApB,gBACtB,EAAKsL,sBAAwB,EAAKA,sBAAsBtL,KAA3B,gBAC7B,EAAK6J,iBAAmB,EAAKA,iBAAiB7J,KAAtB,gBAExB,EAAK2D,MAAQ,CACXmM,aAAc,GACdC,SAAS,EACTlK,SAAU,EAAK/F,MAAM+F,SACrBE,YAAa,EACb4D,YAAY,GAjCG,E,0LAsCX9I,KAAK2I,U,6IAGIjD,GACf1F,KAAKyD,SAAS,CAAEyB,YAAaQ,M,yJAWC,IAA1B1F,KAAK8C,MAAMgG,W,gCACP9I,KAAK2I,U,OAEbtJ,QAAQC,IAAIU,KAAK8C,O,oLAGEyJ,G,iFACb1N,EACHoK,OAAO,mBAAoB,CAC1BrJ,KAAM,CAAE2M,GAAIA,EAAIxI,aAAc/D,KAAKf,MAAMQ,SAE1CC,MAAK,SAACC,GACLN,QAAQC,IAAIK,EAASC,S,OAGzBI,KAAKyD,SAAS,CACZqF,YAAY,IAEd9I,KAAK+I,U,qLAILwD,EACA7B,EACAE,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACA5D,EACA6D,EACAC,G,gFAEApM,QAAQC,IAAI,sBACN6P,EAAU,IAAItD,KAAKnB,GACnBoB,EAAW,IAAID,KACnBsD,EACGC,cACApD,QAAQ,cAAepB,GACvB3E,MAAM,GAAI,IAEf5G,QAAQC,IAAI6P,EAAQC,eACpB/P,QAAQC,IAAIsL,GACZvL,QAAQC,IAAI,oBACZD,QAAQC,IAAIwM,G,SACNjN,EACHmF,KAAK,mBAAoB,CACxBuI,GAAIA,EACJT,SAAUA,EACVjB,UAAWA,EACXC,aAAcA,EACdC,QAASA,EACTC,YAAaA,EACbC,YAAaA,EACbC,WAAYA,EACZC,iBAAkBA,EAClBC,YAAaA,EACbC,SAAUA,EACVC,OAAQA,EACRC,OAAQA,EACR5D,OAAQA,EACR6D,cAAeA,EACfC,kBAAmBA,EACnB1H,aAAc/D,KAAKf,MAAMQ,QAE1BC,MAAK,SAACC,GACLN,QAAQC,IAAIK,EAASC,S,OAEzBI,KAAKyD,SAAS,CACZqF,YAAY,EACZqE,QAAS,KACTC,kBAAmB,KACnBC,kBAAmB,KACnBC,eAAgB,KAChBC,kBAAmB,KACnBC,aAAc,KACdC,iBAAkB,KAClBC,iBAAkB,KAClBC,gBAAiB,KACjBC,sBAAuB,KACvBC,iBAAkB,KAClBC,cAAe,KACfC,YAAa,KACbE,YAAa,KACbD,YAAa,KACbE,mBAAoB,KACpBC,uBAAwB,OAE1BnO,KAAK+I,U,oNAGY4B,G,iFACX3K,KAAKyD,SAAS,CAClBqF,YAAY,EACZqE,QAASxC,EAAS4B,GAClBa,kBAAmBzC,EAASmB,SAC5BuB,kBAAmBT,EAAajC,EAASmB,UACzCwB,eAAgB3C,EAASE,UACzB0C,kBAAmB5C,EAASG,aAC5B0C,aAAc7C,EAASI,QACvB0C,iBAAkB9C,EAASK,YAC3B0C,iBAAkB/C,EAASM,YAC3B0C,gBAAiBhD,EAASO,WAC1B0C,sBAAuBjD,EAASQ,iBAChC0C,iBAAkBlD,EAASS,YAC3B0C,cAAenD,EAASU,SACxB0C,YAAapD,EAASW,OACtB2C,YAAatD,EAASY,OACtByC,YAAarD,EAAShD,OACtBuG,mBAAoBvD,EAASa,cAC7B2C,uBAAwBxD,EAASc,oB,OAEnCpM,QAAQC,IAAI,iBACZD,QAAQC,IAAIU,KAAK8C,O,2IAIjB9C,KAAKyD,SAAS,CACZ0J,QAAS,KACTC,kBAAmB,KACnBC,kBAAmB,KACnBC,eAAgB,KAChBC,kBAAmB,KACnBC,aAAc,KACdC,iBAAkB,KAClBC,iBAAkB,KAClBC,gBAAiB,KACjBC,sBAAuB,KACvBC,iBAAkB,KAClBC,cAAe,KACfC,YAAa,KACbE,YAAa,KACbD,YAAa,KACbE,mBAAoB,KACpBC,uBAAwB,KACxBrF,YAAY,M,gCAKd9I,KAAKyD,SAAS,CACZqF,YAAY,M,2CAIK1F,GACnBpD,KAAKyD,SAAS,CACZ2J,kBAAmBhK,EAAEE,OAAOC,U,2CAIXH,GACnBpD,KAAKyD,SAAS,CACZ4J,kBAAmBjK,EAAEE,OAAOC,U,+CAIPH,GACvBpD,KAAKyD,SAAS,CACZmK,sBAAuBxK,EAAEE,OAAOC,U,wCAIlBH,GAChBpD,KAAKyD,SAAS,CACZ6J,eAAgBlK,EAAEE,OAAOC,U,2CAGRH,GACnBpD,KAAKyD,SAAS,CACZ8J,kBAAsC,SAAnBnK,EAAEE,OAAOC,U,sCAIhBH,GACdpD,KAAKyD,SAAS,CACZ+J,aAAiC,UAAnBpK,EAAEE,OAAOC,U,0CAIPH,GAClBpD,KAAKyD,SAAS,CACZgK,iBAAqC,QAAnBrK,EAAEE,OAAOC,U,+CAINH,GACvBpD,KAAKyD,SAAS,CACZ0K,uBAA2C,SAAnB/K,EAAEE,OAAOC,U,0CAIjBH,GAClBpD,KAAKyD,SAAS,CACZiK,iBAAkB/B,SAASvI,EAAEE,OAAOC,W,yCAGrBH,GACjBpD,KAAKyD,SAAS,CACZkK,gBAAiBvK,EAAEE,OAAOC,U,0CAIVH,GAClBpD,KAAKyD,SAAS,CACZoK,iBAAqC,YAAnBzK,EAAEE,OAAOC,U,uCAGdH,GACfpD,KAAKyD,SAAS,CACZqK,cAAenC,SAASvI,EAAEE,OAAOC,W,qCAGtBH,GACbpD,KAAKyD,SAAS,CACZsK,YAAapC,SAASvI,EAAEE,OAAOC,W,qCAGpBH,GACbpD,KAAKyD,SAAS,CACZwK,YAAa7K,EAAEE,OAAOC,U,qCAGXH,GAIb,OAHApD,KAAKyD,SAAS,CACZuK,YAAarC,SAASvI,EAAEE,OAAOC,SAEzBoI,SAASvI,EAAEE,OAAOC,QACxB,KAAK,EACHvD,KAAKyD,SAAS,CAAEwK,YAAa,IAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,MAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,OAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,OAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,KAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,OAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,OAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,OAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,MAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,QAC7B,MACF,KAAK,GACHjO,KAAKyD,SAAS,CAAEwK,YAAa,S,4CAMb7K,GACpBpD,KAAKyD,SAAS,CACZyK,mBAAoB9K,EAAEE,OAAOC,MAC7BJ,IAAK,O,mCAIIlE,GAAQ,IAAD,OAClB,OAAOA,EAAMwG,KAAI,SAAC4J,GAChB,OACE,cAAC,EAAD,CACE1E,SAAU0E,EACVN,eAAgB,EAAKA,eACrBD,aAAc,EAAKA,aACnBD,eAAgB,EAAKA,eACrB3G,YAAa,EAAKA,YAClBwB,qBAAsB,EAAKA,qBAC3BC,qBAAsB,EAAKA,qBAC3BC,kBAAmB,EAAKA,kBACxBC,qBAAsB,EAAKA,qBAC3BC,gBAAiB,EAAKA,gBACtBC,oBAAqB,EAAKA,oBAC1BC,oBAAqB,EAAKA,oBAC1BC,mBAAoB,EAAKA,mBACzBC,yBAA0B,EAAKA,yBAC/BC,yBAA0B,EAAKA,yBAC/BC,oBAAqB,EAAKA,oBAC1BC,iBAAkB,EAAKA,iBACvBC,eAAgB,EAAKA,eACrBC,eAAgB,EAAKA,eACrBC,eAAgB,EAAKA,eACrBC,sBAAuB,EAAKA,sBAE5B0C,QAAS,EAAKrK,MAAMqK,QACpBC,kBAAmB,EAAKtK,MAAMsK,kBAC9BC,kBAAmB,EAAKvK,MAAMuK,kBAC9BC,eAAgB,EAAKxK,MAAMwK,eAC3BC,kBAAmB,EAAKzK,MAAMyK,kBAC9BC,aAAc,EAAK1K,MAAM0K,aACzBC,iBAAkB,EAAK3K,MAAM2K,iBAC7BC,iBAAkB,EAAK5K,MAAM4K,iBAC7BC,gBAAiB,EAAK7K,MAAM6K,gBAC5BC,sBAAuB,EAAK9K,MAAM8K,sBAClCC,iBAAkB,EAAK/K,MAAM+K,iBAC7BC,cAAe,EAAKhL,MAAMgL,cAC1BC,YAAa,EAAKjL,MAAMiL,YACxBE,YAAa,EAAKnL,MAAMmL,YACxBD,YAAa,EAAKlL,MAAMkL,YACxBE,mBAAoB,EAAKpL,MAAMoL,mBAC/BC,uBAAwB,EAAKrL,MAAMqL,wBAjB9BkB,EAAgB9C,S,+BAuBnB,IAAD,OACSnD,EAAUpJ,KAAK8C,MAAMmM,aAA7B5F,OADD,EAEsDrJ,KAAK8C,MAA1DkC,EAFD,EAECA,SAAUE,EAFX,EAEWA,YAA2BoK,EAFtC,EAEwBL,aAC/B,GAAIjP,KAAK8C,MAAMgG,WAAY,OAAO,cAAC,EAAD,IAClC,GAAc,IAAVM,EAAa,OAAO,uEAExB,IAAMmG,EAAY1J,EAASyJ,EAAapK,EAAaF,GACrD,OACE,gCACE,+BACG,IACD,cAAC,IAAD,CAAiB3D,KAAMS,MAFzB,qBAGE,wBACE1B,UAAU,uBACVqB,QAAS,WACP,EAAKsH,WAHT,SAME,cAAC,IAAD,CAAiB1H,KAAMkI,WAG3B,wBAAOnJ,UAAU,mCAAjB,UACE,uBAAOA,UAAU,cAAjB,SACE,+BACE,+CACA,+CACA,4CACA,wCACA,yCACA,8CACA,8CACA,6CACA,oDACA,8CACA,0CACA,wCAEA,wCACA,yCAEA,gDACA,mDAEA,yCACA,0CACA,2CACA,wCACA,yCACA,wCACA,4CACA,4CACA,iDACA,8CAGJ,gCAAQJ,KAAKwP,aAAaD,QAE5B,cAAC,EAAD,CACExK,WAAYqE,EACZpE,SAAUA,EACVC,aAAcjF,KAAKgJ,iBACnB9D,YAAaA,W,GA1bmB3C,aC5arBkN,E,kDACnB,WAAYxQ,GAAQ,IAAD,uBACjB,cAAMA,IAEDyQ,kBAAoB,EAAKA,kBAAkBvQ,KAAvB,gBACzB,EAAKwQ,kBAAoB,EAAKA,kBAAkBxQ,KAAvB,gBACzB,EAAKyQ,aAAe,EAAKA,aAAazQ,KAAlB,gBAEpB,EAAKiL,oBAAsB,EAAKA,oBAAoBjL,KAAzB,gBAC3B,EAAKkL,iBAAmB,EAAKA,iBAAiBlL,KAAtB,gBAExB,EAAKoL,eAAiB,EAAKA,eAAepL,KAApB,gBACtB,EAAKqL,eAAiB,EAAKA,eAAerL,KAApB,gBACtB,EAAK4J,QAAU,EAAKA,QAAQ5J,KAAb,gBACf,EAAK0D,SAAW,EAAKA,SAAS1D,KAAd,gBAEN,IAAI0M,KAfG,OAiBjB,EAAK/I,MAAQ,CACX+M,UAAW,EAAK5Q,MAAM6Q,MAAMD,UAC5BE,UAAW,EAAK9Q,MAAM6Q,MAAMC,UAC5B5L,KAAM,EAAKlF,MAAM6Q,MAAM3L,KACvBiH,YAAa,EAAKnM,MAAM6Q,MAAM1E,YAC9BC,SAAU,EAAKpM,MAAM6Q,MAAMzE,SAC3BE,OAAQ,EAAKtM,MAAM6Q,MAAMvE,OACzB5D,OAAQ,EAAK1I,MAAM6Q,MAAMnI,OACzBlI,MAAO,EAAKR,MAAMQ,MAClB0D,IAAK,IA1BU,E,8DA8BDuI,GAChB1L,KAAKyD,SAAS,CACZoM,UAAWnE,M,wCAIGtI,GAChBpD,KAAKyD,SAAS,CACZsM,UAAW3M,EAAEE,OAAOC,MACpBJ,IAAK,O,mCAIIC,GACXpD,KAAKyD,SAAS,CACZU,KAAMf,EAAEE,OAAOC,MACfJ,IAAK,O,0CAIWC,GAClBpD,KAAKyD,SAAS,CACZ2H,YAAahI,EAAEE,OAAOC,MACtBJ,IAAK,O,uCAGQC,GACfpD,KAAKyD,SAAS,CACZ4H,SAAUjI,EAAEE,OAAOC,MACnBJ,IAAK,O,qCAIMC,GACbpD,KAAKyD,SAAS,CACZ8H,OAAQnI,EAAEE,OAAOC,MACjBJ,IAAK,O,qCAGMC,GAKb,OAJApD,KAAKyD,SAAS,CACZkE,OAAQvE,EAAEE,OAAOC,MACjBJ,IAAK,KAECC,EAAEE,OAAOC,OACf,IAAK,IACHvD,KAAKyD,SAAS,CAAE8H,OAAQ,IACxB,MACF,IAAK,IACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,MACxB,MACF,IAAK,IACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,OACxB,MACF,IAAK,IACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,OACxB,MACF,IAAK,IACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,KACxB,MACF,IAAK,IACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,OACxB,MACF,IAAK,IACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,OACxB,MACF,IAAK,IACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,OACxB,MACF,IAAK,IACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,MACxB,MACF,IAAK,IACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,QACxB,MACF,IAAK,KACHvL,KAAKyD,SAAS,CAAE8H,OAAQ,S,+BAKrBnI,GAAI,IAAD,OACVA,EAAES,iBAEF,IAAM+H,EAAI,IAAIC,KAEd,GAAM7L,KAAK8C,MAAM+M,qBAAqBhE,KAM/B,CACL,IAMMiE,EAAQ,CACZhE,SAPe,IAAID,KACnB7L,KAAK8C,MAAM+M,UACR9D,WACAC,QAAQ,mBAAoBhM,KAAK8C,MAAMiN,YAK1C5L,KAAMnE,KAAK8C,MAAMqB,KACjBiH,YAAapL,KAAK8C,MAAMsI,YACxBC,SAAUrL,KAAK8C,MAAMuI,SACrBE,OAAQvL,KAAK8C,MAAMyI,OACnB5D,OAAQ3H,KAAK8C,MAAM6E,OACnB5D,aAAc/D,KAAK8C,MAAMrD,OAG3BJ,QAAQC,IAAIwQ,GAEZ,IAAMlE,EAAI,IAAIC,KAEdhN,EAAMmF,KAAK,eAAgB8L,GAAOpQ,MAAK,SAACyD,GACtC8I,SAASC,eAAe,qBAAqBC,QAC7C,EAAK1I,SAAS,CACZN,IAAKA,EAAIvD,KAAKqE,QACd4L,UAAWjE,EACXmE,UAAWnE,EAAEG,WAAWK,MAAM,eAAe,GAC7CjI,KAAM,EACNiH,aAAa,EACbC,SAAU,EACVE,OAAQ,EACR5D,OAAQ,YApCZ3H,KAAKyD,SAAS,CACZN,IAAK,oCACL0M,UAAWjE,EACX5I,KAAM,O,gCAwCVhD,KAAKyD,SAAS,CACZoM,UAAW7P,KAAKf,MAAM6Q,MAAMD,UAC5BE,UAAW/P,KAAKf,MAAM6Q,MAAMC,UAC5B5L,KAAMnE,KAAKf,MAAM6Q,MAAM3L,KACvBiH,YAAapL,KAAKf,MAAM6Q,MAAM1E,YAC9BC,SAAUrL,KAAKf,MAAM6Q,MAAMzE,SAC3BE,OAAQvL,KAAKf,MAAM6Q,MAAMvE,OACzB5D,OAAQ3H,KAAKf,MAAM6Q,MAAMnI,W,+BAK3B,OACE,sBAAKvH,UAAU,MAAf,UACE,qBAAKA,UAAU,SAAf,SACE,iDAEDJ,KAAKf,MAAMqN,SACV,wBAAQlM,UAAU,sBAAsBqB,QAASzB,KAAK+I,QAAtD,yBAIF,uBAAMwD,GAAG,oBAAoB1J,SAAU7C,KAAK6C,SAA5C,UACE,uBACA,gCACE,sBAAKzC,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,mDAEF,qBAAKA,UAAU,WAAf,SACE,8BACE,cAAC,IAAD,CACEA,UAAU,eACVoM,SAAUxM,KAAK8C,MAAM+M,UACrBxL,SAAUrE,KAAK0P,2BAMvB,sBAAKtP,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,mDAEF,qBAAKA,UAAU,WAAf,SACE,uBACE+D,KAAK,OACL/D,UAAU,eACVmD,MAAOvD,KAAK8C,MAAMiN,UAClB1L,SAAUrE,KAAK2P,yBAKrB,sBAAKvP,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,4CAEF,qBAAKA,UAAU,WAAf,SACE,yBAAQA,UAAU,eAAeiE,SAAUrE,KAAK4P,aAAhD,UACE,wBAAQrM,MAAM,IAAd,yBACA,wBAAQA,MAAM,IAAd,uBACA,wBAAQA,MAAM,IAAd,sBACA,wBAAQA,MAAM,IAAd,2BAKN,sBAAKnD,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,4CAEF,qBAAKA,UAAU,WAAf,SACE,yBACEA,UAAU,eACViE,SAAUrE,KAAKoK,oBACf7G,MAAOvD,KAAK8C,MAAMsI,YAAc,OAAS,QAH3C,UAKE,wBAAQ7H,MAAM,QAAd,+BACA,wBAAQA,MAAM,OAAd,uCAIN,sBAAKnD,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,gDAEF,qBAAKA,UAAU,WAAf,SACE,yBACEA,UAAU,eACViE,SAAUrE,KAAKqK,iBAFjB,UAIE,wBAAQ9G,MAAM,IAAd,mBACA,wBAAQA,MAAM,KAAd,0BACA,wBAAQA,MAAM,IAAd,2BAIN,sBAAKnD,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,8CAEF,qBAAKA,UAAU,WAAf,SACE,yBACEA,UAAU,eACViE,SAAUrE,KAAKwK,eACfjH,MAAOvD,KAAK8C,MAAM6E,OAAOoE,WAH3B,UAKE,wBAAQxI,MAAM,IAAd,qBACA,wBAAQA,MAAM,IAAd,yBACA,wBAAQA,MAAM,IAAd,wBACA,wBAAQA,MAAM,IAAd,uBACA,wBAAQA,MAAM,IAAd,uBACA,wBAAQA,MAAM,IAAd,gCACA,wBAAQA,MAAM,IAAd,uBACA,wBAAQA,MAAM,IAAd,uBACA,wBAAQA,MAAM,IAAd,qBACA,wBAAQA,MAAM,IAAd,uBACA,wBAAQA,MAAM,KAAd,8BAKN,sBAAKnD,UAAU,iBAAf,UACE,qBAAKA,UAAU,WAAf,SACE,+CAEF,qBAAKA,UAAU,WAAf,SACE,uBACE+D,KAAK,SACLwI,KAAK,MACLvM,UAAU,eACVmD,MAAOvD,KAAK8C,MAAMyI,OAClBlH,SAAUrE,KAAKuK,eACfkC,IAAI,IACJC,IAAI,aAKV,sBAAKtM,UAAU,OAAf,UACE,uBACA,uBACE+D,KAAK,SACLZ,MAAM,gBACNV,SAAU7C,KAAK6C,SACfzC,UAAU,oBACT,IACFJ,KAAK8C,MAAMK,IACZ,wC,GAtT+BZ,aCkBvCyN,EAAQ,SAAC/Q,GACb,OAAIA,EAAM6Q,MAAMvD,KAAOtN,EAAMkO,QAGzB,qBAAI/M,UAAU,kBAAd,UACE,+BACGyM,EAAa5N,EAAMgR,gBACpB,uBACA,uBACE9L,KAAK,OACLZ,MAAOtE,EAAMgR,eACb5L,SAAUpF,EAAMyQ,uBAGpB,+BACGzQ,EAAMiR,eACP,uBACA,uBACE/L,KAAK,OACL/D,UAAU,kBACVmD,MAAOtE,EAAMiR,eACb7L,SAAUpF,EAAM0Q,kBAChB1O,MAAO,CAAER,MAAO,UAGpB,6BACE,yBAAQL,UAAU,eAAeiE,SAAUpF,EAAMkR,kBAAjD,UACE,wBAAQ3D,SAA8B,IAApBvN,EAAMmR,UAAiB7M,MAAM,IAA/C,yBAGA,wBAAQiJ,SAA8B,IAApBvN,EAAMmR,UAAiB7M,MAAM,IAA/C,uBAGA,wBAAQiJ,SAA8B,IAApBvN,EAAMmR,UAAiB7M,MAAM,IAA/C,sBAGA,wBAAQiJ,SAA8B,IAApBvN,EAAMmR,UAAiB7M,MAAM,IAA/C,wBAKJ,6BACE,yBAAQnD,UAAU,eAAeiE,SAAUpF,EAAMmL,oBAAjD,UACE,wBAAQ7G,MAAM,UAAd,qBACA,wBAAQiJ,SAAUvN,EAAM4O,iBAAkBtK,MAAM,SAAhD,yBAKJ,6BACE,yBACEnD,UAAU,eACVa,MAAO,CAAER,MAAO,KAChB4D,SAAUpF,EAAMoL,iBAHlB,UAKE,wBAAQmC,SAAkC,IAAxBvN,EAAM6O,cAAqBvK,MAAM,IAAnD,mBAGA,wBAAQiJ,SAAkC,IAAxBvN,EAAM6O,cAAqBvK,MAAM,IAAnD,0BAGA,wBAAQiJ,SAAkC,IAAxBvN,EAAM6O,cAAqBvK,MAAM,IAAnD,wBAKJ,6BACE,yBACEnD,UAAU,eACVa,MAAO,CAAER,MAAO,KAChB4D,SAAUpF,EAAMuL,eAHlB,UAKE,wBAAQgC,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,IAAtBvN,EAAM+O,YAAmBzK,MAAM,IAAjD,SACGuJ,EAAc,KAEjB,wBAAQN,SAAgC,KAAtBvN,EAAM+O,YAAoBzK,MAAM,KAAlD,SACGuJ,EAAc,WAIrB,oBAAI1M,UAAU,aAAd,SACE,uBACE+D,KAAK,SACL/D,UAAU,eACVmD,MAAOtE,EAAMgP,YACb5J,SAAUpF,EAAMsL,eAChBtJ,MAAO,CAAER,MAAO,IAChBgM,IAAI,IACJC,IAAI,MACJC,KAAK,SAGT,+BACE,wBACEvM,UAAU,2BACVqB,QAAS,WACPxC,EAAMiJ,eAHV,SAME,cAAC,IAAD,CAAiB7G,KAAM8G,QAP3B,OAUE,wBACE/H,UAAU,yBACVqB,QAAS,WACPxC,EAAMoR,YACJpR,EAAM6Q,MAAMvD,GACZtN,EAAMgR,eACNhR,EAAMiR,eACNjR,EAAMmR,UACNnR,EAAM4O,iBACN5O,EAAM6O,cACN7O,EAAMgP,YACNhP,EAAM+O,cAXZ,SAeE,cAAC,IAAD,CAAiB3M,KAAMgH,cAO7B,+BACE,6BAAKwE,EAAa5N,EAAM6Q,MAAMhE,YAC9B,6BAAKc,EAAa3N,EAAM6Q,MAAMhE,YAC9B,6BACwB,IAArB7M,EAAM6Q,MAAM3L,KACT,cACqB,IAArBlF,EAAM6Q,MAAM3L,KACZ,YACqB,IAArBlF,EAAM6Q,MAAM3L,KACZ,WACA,UAEN,6BAAKlF,EAAM6Q,MAAM1E,YAAc,SAAW,YAC1C,6BAC4B,IAAzBnM,EAAM6Q,MAAMzE,SACT,QACyB,IAAzBpM,EAAM6Q,MAAMzE,SACZ,eACA,UAEN,6BAAKyB,EAAc7N,EAAM6Q,MAAMnI,UAC/B,6BAAK1I,EAAM6Q,MAAMvE,SACjB,+BACE,wBACEnL,UAAU,sBACVqB,QAAS,WACPxC,EAAMqR,UAAUrR,EAAM6Q,QAH1B,SAME,cAAC,IAAD,CAAiBzO,KAAMkH,QAEzB,wBACEnI,UAAU,wBACVqB,QAAS,WACPxC,EAAMsR,YAAYtR,EAAM6Q,MAAMvD,KAHlC,SAME,cAAC,IAAD,CAAiBlL,KAAMoH,eAQd+H,E,kDACnB,WAAYvR,GAAQ,IAAD,8BACjB,cAAMA,IAkCR0J,QAnCmB,sBAmCT,4BAAAC,EAAA,sEACQ/J,EAAMU,IAAI,cADlB,OACJ4D,EADI,OAER,EAAKM,SAAS,CAAEgN,UAAWtN,EAAIvD,KAAKA,KAAMkJ,YAAY,IACtDzJ,QAAQC,IAAI,cACZD,QAAQC,IAAI6D,EAAIvD,KAAKA,MAJb,2CAhCR,EAAK0Q,UAAY,EAAKA,UAAUnR,KAAf,gBACjB,EAAKkR,YAAc,EAAKA,YAAYlR,KAAjB,gBACnB,EAAK+I,YAAc,EAAKA,YAAY/I,KAAjB,gBACnB,EAAKoR,YAAc,EAAKA,YAAYpR,KAAjB,gBACnB,EAAK4J,QAAU,EAAKA,QAAQ5J,KAAb,gBAEf,EAAKuQ,kBAAoB,EAAKA,kBAAkBvQ,KAAvB,gBACzB,EAAKwQ,kBAAoB,EAAKA,kBAAkBxQ,KAAvB,gBACzB,EAAKgR,kBAAoB,EAAKA,kBAAkBhR,KAAvB,gBACzB,EAAKiL,oBAAsB,EAAKA,oBAAoBjL,KAAzB,gBAC3B,EAAKkL,iBAAmB,EAAKA,iBAAiBlL,KAAtB,gBACxB,EAAKoL,eAAiB,EAAKA,eAAepL,KAApB,gBACtB,EAAKqL,eAAiB,EAAKA,eAAerL,KAApB,gBACtB,EAAK6J,iBAAmB,EAAKA,iBAAiB7J,KAAtB,gBAExB,EAAK2D,MAAQ,CACXgG,YAAY,EACZ2H,UAAW,GACXvB,SAAS,EACTlK,SAAU,EAAK/F,MAAM+F,SACrBE,YAAa,GAvBE,E,6DA2BFQ,GACf1F,KAAKyD,SAAS,CAAEyB,YAAaQ,M,oKAIvB1F,KAAK2I,U,+PAWmB,IAA1B3I,KAAK8C,MAAMgG,W,gCACP9I,KAAK2I,U,OAEbtJ,QAAQC,IAAIU,KAAK8C,O,iLAGDyJ,G,iFACV1N,EACHoK,OAAO,gBAAiB,CACvBrJ,KAAM,CAAE2M,GAAIA,EAAIxI,aAAc/D,KAAKf,MAAMQ,SAE1CC,MAAK,SAACC,GACLN,QAAQC,IAAIK,EAASC,S,OAMzBI,KAAK+I,U,kLAILwD,EACAsD,EACAE,EACA5L,EACAiH,EACAC,EACAE,EACA5D,G,gFAEAtI,QAAQC,IAAI,sBACN6P,EAAU,IAAItD,KAAKgE,GACnB/D,EAAW,IAAID,KACnBsD,EACGC,cACApD,QAAQ,cAAe+D,GACvB9J,MAAM,GAAI,IAEf5G,QAAQC,IAAI6P,EAAQC,eACpB/P,QAAQC,IAAIyQ,GACZ1Q,QAAQC,IAAI,oBACZD,QAAQC,IAAIwM,GACZzM,QAAQC,IAAI,eACZD,QAAQC,IAAIiN,EAAK,IAAMT,EAAW,IAAM3H,G,UAClCtF,EACHmF,KAAK,gBAAiB,CACrBuI,GAAIA,EACJT,SAAUA,EACV3H,KAAMA,EACNiH,YAAaA,EACbC,SAAUA,EACVE,OAAQA,EACR5D,OAAQA,EACR5D,aAAc/D,KAAKf,MAAMQ,QAE1BC,MAAK,SAACC,GACLN,QAAQC,IAAIK,EAASC,S,QAEzBI,KAAKyD,SAAS,CACZqF,YAAY,EACZqE,QAAS,KACT8C,eAAgB,KAChBC,eAAgB,KAChBE,UAAW,KACXvC,iBAAkB,KAClBC,cAAe,KACfG,YAAa,KACbD,YAAa,OAEfhO,KAAK+I,U,+LAGS+G,G,iFACR9P,KAAKyD,SAAS,CAClBqF,YAAY,EACZqE,QAAS2C,EAAMvD,GACf0D,eAAgBH,EAAMhE,SACtBoE,eAAgBtD,EAAakD,EAAMhE,UACnCsE,UAAWN,EAAM3L,KACjB0J,iBAAkBiC,EAAM1E,YACxB0C,cAAegC,EAAMzE,SACrB4C,YAAa6B,EAAMvE,OACnByC,YAAa8B,EAAMnI,S,OAErBtI,QAAQC,IAAI,iBACZD,QAAQC,IAAIU,KAAK8C,O,2IAIjB9C,KAAKyD,SAAS,CACZ0J,QAAS,KACT8C,eAAgB,KAChBC,eAAgB,KAChBE,UAAW,KACXvC,iBAAkB,KAClBC,cAAe,KACfG,YAAa,KACbD,YAAa,KACblF,YAAY,M,gCAKd9I,KAAKyD,SAAS,CACZqF,YAAY,M,wCAIE1F,GAChBpD,KAAKyD,SAAS,CACZwM,eAAgB7M,EAAEE,OAAOC,U,wCAIXH,GAChBpD,KAAKyD,SAAS,CACZyM,eAAgB9M,EAAEE,OAAOC,U,wCAIXH,GAChBpD,KAAKyD,SAAS,CACZ2M,UAAWzE,SAASvI,EAAEE,OAAOC,W,0CAIbH,GAClBpD,KAAKyD,SAAS,CACZoK,iBAAqC,YAAnBzK,EAAEE,OAAOC,U,uCAGdH,GACfpD,KAAKyD,SAAS,CACZqK,cAAenC,SAASvI,EAAEE,OAAOC,W,qCAItBH,GACbpD,KAAKyD,SAAS,CACZwK,YAAa7K,EAAEE,OAAOC,U,qCAGXH,GAIb,OAHApD,KAAKyD,SAAS,CACZuK,YAAarC,SAASvI,EAAEE,OAAOC,SAEzBoI,SAASvI,EAAEE,OAAOC,QACxB,KAAK,EACHvD,KAAKyD,SAAS,CAAEwK,YAAa,IAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,MAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,OAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,OAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,KAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,OAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,OAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,OAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,MAC7B,MACF,KAAK,EACHjO,KAAKyD,SAAS,CAAEwK,YAAa,QAC7B,MACF,KAAK,GACHjO,KAAKyD,SAAS,CAAEwK,YAAa,S,gCASzBhP,GAAQ,IAAD,OACf,OAAOA,EAAMwG,KAAI,SAACiL,GAChB,OACE,cAAC,EAAD,CACEZ,MAAOY,EACPH,YAAa,EAAKA,YAClBD,UAAW,EAAKA,UAChBD,YAAa,EAAKA,YAClBnI,YAAa,EAAKA,YAClBwH,kBAAmB,EAAKA,kBACxBC,kBAAmB,EAAKA,kBACxBQ,kBAAmB,EAAKA,kBACxB/F,oBAAqB,EAAKA,oBAC1BC,iBAAkB,EAAKA,iBACvBE,eAAgB,EAAKA,eACrBC,eAAgB,EAAKA,eAErB2C,QAAS,EAAKrK,MAAMqK,QACpB8C,eAAgB,EAAKnN,MAAMmN,eAC3BC,eAAgB,EAAKpN,MAAMoN,eAC3BE,UAAW,EAAKtN,MAAMsN,UACtBvC,iBAAkB,EAAK/K,MAAM+K,iBAC7BC,cAAe,EAAKhL,MAAMgL,cAC1BG,YAAa,EAAKnL,MAAMmL,YACxBD,YAAa,EAAKlL,MAAMkL,aARnB0C,EAAanE,S,+BAchB,IAAD,OACSnD,EAAUpJ,KAAK8C,MAAM2N,UAA7BpH,OADD,EAEiDrJ,KAAK8C,MAArDkC,EAFD,EAECA,SAAUE,EAFX,EAEWA,YAAwByL,EAFnC,EAEwBF,UAC/B,GAAIzQ,KAAK8C,MAAMgG,WAAY,OAAO,cAAC,EAAD,IAClC,GAAc,IAAVM,EAAa,OAAO,oEAExB,IAAMwH,EAAS/K,EAAS8K,EAAWzL,EAAaF,GAEhD,OACE,gCACE,+BACG,IACD,cAAC,IAAD,CAAiB3D,KAAMW,MAFzB,kBAGE,wBACE5B,UAAU,uBACVqB,QAAS,WACP,EAAKsH,WAHT,SAME,cAAC,IAAD,CAAiB1H,KAAMkI,WAG3B,wBAAOnJ,UAAU,QAAjB,UACE,uBAAOA,UAAU,cAAjB,SACE,+BACE,sCACA,sCACA,sCACA,8CACA,0CACA,wCACA,yCACA,4BAGJ,gCAAQJ,KAAK6Q,UAAUD,QAEzB,cAAC,EAAD,CACE7L,WAAYqE,EACZpE,SAAUA,EACVC,aAAcjF,KAAKgJ,iBACnB9D,YAAaA,W,GA/SgB3C,aC7MjCuO,I,OAAW,SAAC7R,GAAD,OACf,+BACE,+BACG4N,EAAa5N,EAAM8R,SAASjF,UAC7B,uBACCc,EAAa3N,EAAM8R,SAASjF,aAE/B,6BAAK7M,EAAM8R,SAASC,WAAa,WAAa,UAC9C,6BAAK/R,EAAM8R,SAAS3F,YAAc,YAAc,eAChD,6BAAKnM,EAAM8R,SAASnJ,MACpB,6BAAK3I,EAAM8R,SAASlJ,MACpB,6BACG1B,EAAgB,CACfI,SAAUtH,EAAM8R,SAASnJ,IACzBpB,UAAWvH,EAAM8R,SAASlJ,QAG9B,+BACE,wBACEzH,UAAU,6BACVqB,QAAS,WACPxC,EAAMgS,iBAAiBhS,EAAM8R,WAHjC,sBAQA,wBACE3Q,UAAU,4BACVqB,QAAS,WACPxC,EAAMiS,eAAejS,EAAM8R,SAASxE,KAHxC,4BAYA4E,GAAgB,SAAClS,GACrB,IAAMmS,EAAoBnS,EAAMoS,KAC5B,sBACA,qBAEJ,OACE,qBAAKjR,UAAWgR,EAAhB,SACE,0BAAShR,UAAU,cAAnB,UACE,wBAAQ+D,KAAK,yBAAyB1C,QAASxC,EAAMqS,YAArD,eAGCrS,EAAMsS,eAMTC,GAAa,SAACvS,GAClB,IAAMmS,EAAoBnS,EAAMoS,KAC5B,sBACA,qBAEJ,OACE,qBAAKjR,UAAWgR,EAAhB,SACE,0BAAShR,UAAU,aAAnB,UACE,wBAAQ+D,KAAK,yBAAyB1C,QAASxC,EAAMqS,YAArD,eAGCrS,EAAMsS,eAMME,G,kDACnB,WAAYxS,GAAQ,IAAD,8BACjB,cAAMA,IA2JRyS,kBAAoB,WAClB,EAAKjO,SAAS,CAAEkO,cAAc,IAC9BtS,QAAQC,IAAI,2BA9JK,EAiKnBsS,eAAiB,WACf,EAAKnO,SAAS,CAAEoO,WAAW,IAC3BxS,QAAQC,IAAI,wBAnKK,EAsKnBwS,kBAAoB,WAClB,EAAKrO,SAAS,CAAEkO,cAAc,IAC9BtS,QAAQC,IAAI,0BAxKK,EA2KnByS,eAAiB,WACf,EAAKtO,SAAS,CAAEoO,WAAW,IAC3BxS,QAAQC,IAAI,wBA1KZ,EAAK4R,eAAiB,EAAKA,eAAe/R,KAApB,gBACtB,EAAK8R,iBAAmB,EAAKA,iBAAiB9R,KAAtB,gBAExB,EAAKuS,kBAAoB,EAAKA,kBAAkBvS,KAAvB,gBACzB,EAAKyS,eAAiB,EAAKA,eAAezS,KAApB,gBACtB,EAAK2S,kBAAoB,EAAKA,kBAAkB3S,KAAvB,gBACzB,EAAK4S,eAAiB,EAAKA,eAAe5S,KAApB,gBACtB,EAAK6J,iBAAmB,EAAKA,iBAAiB7J,KAAtB,gBAExB,EAAK2D,MAAQ,CACXkP,aAAc,GACdL,cAAc,EACdE,WAAW,EACX7M,SAAU,EAAK/F,MAAM+F,SACrBE,YAAa,EACb+M,iBAAkB,CAChBvH,aAAc,IAAImB,KAClBjB,cAAc,IAAIiB,MAAOE,WAAWK,MAAM,eAAe,GACzDvB,UAAW,GACXC,cAAc,EACdC,SAAS,EACTC,aAAa,EACbC,YAAa,EACbC,YAAY,IAAIW,MAAOQ,cACvBlB,iBAAkB,IAAIU,KACtBT,aAAa,EACbC,SAAU,EACVC,OAAQ,EACRC,OAAQ,EACR5D,OAAQ,EACR6D,cAAe,EACfC,mBAAmB,EACnBhM,MAAO,EAAKR,MAAMQ,MAClB0D,IAAK,IAEP+O,cAAe,CACbrC,UAAW,IAAIhE,KACfkE,WAAW,IAAIlE,MAAOE,WAAWK,MAAM,eAAe,GACtDjI,KAAM,EACNiH,aAAa,EACbC,SAAU,EACVE,OAAQ,EACR5D,OAAQ,EACRlI,MAAO,EAAKR,MAAMQ,MAClB0D,IAAK,KA/CQ,E,gEAoDE,IAAD,OAClBtE,EACGU,IAAI,iBACJG,MAAK,SAACC,GACL,EAAK8D,SAAS,CAAEuO,aAAcrS,EAASC,KAAKA,OAC5CP,QAAQC,IAAIK,EAASC,KAAKA,SAE3BuS,OAAM,SAACC,GACN/S,QAAQC,IAAI8S,Q,uCAID1M,GACf1F,KAAKyD,SAAS,CAAEyB,YAAaQ,M,gFAGRqL,G,oFACfxK,EAAW8L,WAAWtB,EAASnJ,KAC/BpB,EAAY6L,WAAWtB,EAASlJ,KAChCF,EAASoF,EACb5G,EAAgB,CACdI,SAAUA,EACVC,UAAWA,KAGT+E,EAAS0B,EAAUtF,IAErBoJ,EAASC,W,wBACLiB,EAAmB,CACvBvH,aAAc,IAAImB,KAAKA,KAAKyG,MAAMvB,EAASjF,WAC3ClB,aAAc,IAAIiB,KAAKA,KAAKyG,MAAMvB,EAASjF,WACxCC,WACAK,MAAM,eAAe,GACxBvB,UAAW,GACXC,cAAc,EACdC,SAAS,EACTC,aAAa,EACbC,YAAa,EACbC,YAAY,IAAIW,MAAOQ,cACvBlB,iBAAkB,IAAIU,KACtBT,YAAa2F,EAAS3F,YACtBC,SAAU,EACVC,OAAQ,EACRC,OAAQA,EACR5D,OAAQA,EACR6D,cAAe,EACfC,mBAAmB,EACnBhM,MAAOO,KAAKf,MAAMQ,MAClB0D,IAAK,I,SAEDnD,KAAKyD,SAAS,CAAEwO,iBAAkBA,IAAoB,WAC1D5S,QAAQC,IAAI,uB,OAEdU,KAAK0R,oB,+BAECQ,EAAgB,CACpBrC,UAAW,IAAIhE,KAAKA,KAAKyG,MAAMvB,EAASjF,WACxCiE,UAAW,IAAIlE,KAAKA,KAAKyG,MAAMvB,EAASjF,WACrCC,WACAK,MAAM,eAAe,GACxBjI,KAAM,EACNiH,YAAa2F,EAAS3F,YACtBC,SAAU,EACVE,OAAQA,EACR5D,OAAQA,EACRlI,MAAOO,KAAKf,MAAMQ,MAClB0D,IAAK,I,UAEDnD,KAAKyD,SAAS,CAAEyO,cAAeA,IAAiB,WACpD7S,QAAQC,IAAI,oB,QAGdU,KAAK4R,iB,6IAIMrF,GACb1N,EACGoK,OAAO,0BAA2B,CACjCrJ,KAAM,CAAE2M,GAAIA,EAAIxI,aAAc/D,KAAKf,MAAMQ,SAE1CC,MAAK,SAACC,GACLN,QAAQC,IAAI,MAAOiN,GACnBlN,QAAQC,IAAIK,EAASC,SAGzBI,KAAKyD,SAAS,CACZuO,aAAchS,KAAK8C,MAAMkP,aAAaO,QAAO,SAACC,GAAD,OAAQA,EAAGjG,KAAOA,S,mCAItDtN,GAAQ,IAAD,OAClB,OAAOA,EAAMwG,KAAI,SAACgN,GAChB,OACE,cAAC,GAAD,CACE1B,SAAU0B,EACVvB,eAAgB,EAAKA,eACrBD,iBAAkB,EAAKA,kBAClBwB,EAAgBlG,S,+BA0BnB,IACQnD,EAAUpJ,KAAK8C,MAAMkP,aAA7B3I,OADD,EAEsDrJ,KAAK8C,MAA1DkC,EAFD,EAECA,SAAUE,EAFX,EAEWA,YAA2BwN,EAFtC,EAEwBV,aAE/B,GAAc,IAAV5I,EACF,OAAO,cAAC,EAAD,IAET,IAAMuJ,EAAY9M,EAAS6M,EAAaxN,EAAaF,GAErD,OACE,gCACE,+CACA,wBAAO5E,UAAU,QAAjB,UACE,uBAAOA,UAAU,cAAjB,SACE,+BACE,2CACA,+CACA,8CACA,qCACA,qCACA,wCACA,8CAGJ,gCAAQJ,KAAKgS,aAAaW,QAE5B,cAAC,GAAD,CACEtB,KAAMrR,KAAK8C,MAAM6O,aACjBL,YAAatR,KAAK8R,kBAFpB,SAIE,cAAC,EAAD,CACErS,MAAOO,KAAKf,MAAMQ,MAClBkL,SAAU3K,KAAK8C,MAAMmP,iBACrB3F,SAAS,MAGb,cAAC,GAAD,CACE+E,KAAMrR,KAAK8C,MAAM+O,UACjBP,YAAatR,KAAK+R,eAFpB,SAIE,cAAC,EAAD,CACEtS,MAAOO,KAAKf,MAAMQ,MAClBqQ,MAAO9P,KAAK8C,MAAMoP,cAClB5F,SAAS,MAGb,cAAC,EAAD,CACEvH,WAAYqE,EACZpE,SAAUA,EACVC,aAAcjF,KAAKgJ,iBACnB9D,YAAaA,W,GAnOuB3C,aCnExCqQ,GAAU,SAAC3T,GACf,OAAIA,EAAM4T,QAAQtG,KAAOtN,EAAMkO,QAG3B,qBAAI/M,UAAU,kBAAd,UACE,6BACE,uBACE+D,KAAK,OACLC,UAAQ,EACRhE,UAAU,eACVmD,MAAOtE,EAAM8I,UACb1D,SAAUpF,EAAM6T,iBAChBxO,UAAU,QAGd,+BACGuI,EAAa5N,EAAM8T,WACpB,uBACE5O,KAAK,OACLZ,MAAOtE,EAAM8T,UACb1O,SAAUpF,EAAM+T,sBAGpB,+BACE,wBACE5S,UAAU,2BACVqB,QAAS,WACPxC,EAAMiJ,eAHV,SAME,cAAC,IAAD,CAAiB7G,KAAM8G,QAP3B,OAUE,wBACE/H,UAAU,yBACVqB,QAAS,WACPxC,EAAMgU,cACJhU,EAAM4T,QAAQtG,GACdtN,EAAM8I,UACN9I,EAAM8T,YANZ,SAUE,cAAC,IAAD,CAAiB1R,KAAMgH,cAQ7B,+BACE,6BAAKpJ,EAAM4T,QAAQ7P,OACnB,6BAAK6J,EAAa5N,EAAM4T,QAAQnH,QAChC,+BACE,wBACEtL,UAAU,sBACVqB,QAAS,WACPxC,EAAMiU,YAAYjU,EAAM4T,UAH5B,SAME,cAAC,IAAD,CAAiBxR,KAAMkH,QAP3B,OAUE,wBACEnI,UAAU,wBACVqB,QAAS,WACPxC,EAAMkU,cAAclU,EAAM4T,QAAQtG,KAHtC,SAME,cAAC,IAAD,CAAiBlL,KAAMoH,eAQd2K,G,kDACnB,WAAYnU,GAAQ,IAAD,uBACjB,cAAMA,IAyCR0J,QA1CmB,sBA0CT,4BAAAC,EAAA,sEACQ/J,EAAMU,IAAI,gBADlB,OACJ4D,EADI,OAER,EAAKM,SAAS,CAAE4P,YAAalQ,EAAIvD,KAAKA,KAAMkJ,YAAY,IACxDzJ,QAAQC,IAAI,cACZD,QAAQC,IAAI6D,EAAIvD,KAAKA,MAJb,2CAvCR,EAAKuT,cAAgB,EAAKA,cAAchU,KAAnB,gBACrB,EAAK+T,YAAc,EAAKA,YAAY/T,KAAjB,gBACnB,EAAK8T,cAAgB,EAAKA,cAAc9T,KAAnB,gBACrB,EAAK+I,YAAc,EAAKA,YAAY/I,KAAjB,gBAEnB,EAAK2T,iBAAmB,EAAKA,iBAAiB3T,KAAtB,gBACxB,EAAK6T,iBAAmB,EAAKA,iBAAiB7T,KAAtB,gBACxB,EAAK4J,QAAU,EAAKA,QAAQ5J,KAAb,gBAEf,EAAKmU,oBAAsB,EAAKA,oBAAoBnU,KAAzB,gBAC3B,EAAKuD,aAAe,EAAKA,aAAavD,KAAlB,gBAEpB,EAAK0D,SAAW,EAAKA,SAAS1D,KAAd,gBAChB,EAAK6J,iBAAmB,EAAKA,iBAAiB7J,KAAtB,gBAExB,IAAMyM,EAAI,IAAIC,KAlBG,OAoBjB,EAAK/I,MAAQ,CACXuQ,YAAa,GACbnE,SAAS,EACT/B,QAAS,KACToG,YAAa3H,EACb5I,KAAM,GACNvD,MAAO,EAAKR,MAAMQ,MAClB0D,IAAK,GACL6B,SAAU,EAAK/F,MAAM+F,SACrBE,YAAa,EACb4D,YAAY,GA9BG,E,0LAmCX9I,KAAK2I,U,6IAGIjD,GACf1F,KAAKyD,SAAS,CAAEyB,YAAaQ,M,yJAWC,IAA1B1F,KAAK8C,MAAMgG,W,gCACP9I,KAAK2I,U,OAEbtJ,QAAQC,IAAIU,KAAK8C,O,mLAGCyJ,G,iFACZ1N,EACHoK,OAAO,kBAAmB,CACzBrJ,KAAM,CAAE2M,GAAIA,EAAIxI,aAAc/D,KAAKf,MAAMQ,SAE1CC,MAAK,SAACC,GACLN,QAAQC,IAAIK,EAASC,S,OAGzBI,KAAKyD,SAAS,CACZqF,YAAY,IAEd9I,KAAK+I,U,oLAGawD,EAAIvJ,EAAM0I,G,iFACtB7M,EACHmF,KAAK,kBAAmB,CACvBuI,GAAIA,EACJvJ,KAAMA,EACN0I,KAAMA,EACN3H,aAAc/D,KAAKf,MAAMQ,QAE1BC,MAAK,SAACC,GACLN,QAAQC,IAAIK,EAASC,S,OAEzBI,KAAKyD,SAAS,CACZqF,YAAY,EACZqE,QAAS,KACTpF,UAAW,KACXgL,UAAW,OAEb/S,KAAK+I,U,6IAGK8J,GACV7S,KAAKyD,SAAS,CACZ0J,QAAS0F,EAAQtG,GACjBxE,UAAW8K,EAAQ7P,KACnB+P,UAAWF,EAAQnH,KACnB5C,YAAY,M,oCAKd9I,KAAKyD,SAAS,CACZ0J,QAAS,KACTpF,UAAW,KACXgL,UAAW,KACXjK,YAAY,M,gCAKd9I,KAAKyD,SAAS,CACZqF,YAAY,M,uCAIC1F,GACfpD,KAAKyD,SAAS,CACZsE,UAAW3E,EAAEE,OAAOC,U,uCAIPH,GACfpD,KAAKyD,SAAS,CACZsP,UAAW3P,EAAEE,OAAOC,U,0CAIJmI,GAClB1L,KAAKyD,SAAS,CACZ8P,YAAa7H,M,mCAIJtI,GACXpD,KAAKyD,SAAS,CACZT,KAAMI,EAAEE,OAAOC,MACfJ,IAAK,O,wEAIMC,G,mFACbA,EAAES,iBAEI+H,EAAI,IAAIC,KAER7L,KAAK8C,MAAMyQ,uBAAuB1H,K,gBACtC7L,KAAKyD,SAAS,CACZN,IAAK,oCACLoQ,YAAa3H,EACb5I,KAAM,K,6BAGF6P,EAAU,CACdnH,KAAM1L,KAAK8C,MAAMyQ,YACdxH,WACAC,QAAQ,mBAAoB,YAC/BhJ,KAAMhD,KAAK8C,MAAME,KACjBe,aAAc/D,KAAK8C,MAAMrD,O,SAErBZ,EACHmF,KAAK,cAAe6O,GACpBnT,MAAK,SAACyD,GACL8I,SAASC,eAAe,uBAAuBC,QAC/C,EAAK1I,SAAS,CACZN,IAAKA,EAAIvD,KAAKqE,QACdsP,YAAa3H,EACb5I,KAAM,Q,OAIdhD,KAAK+I,U,0IAGK9J,GAAQ,IAAD,OACjB,OAAOA,EAAMwG,KAAI,SAAC+N,GAChB,OACE,cAAC,GAAD,CACEX,QAASW,EACTL,cAAe,EAAKA,cACpBD,YAAa,EAAKA,YAClBD,cAAe,EAAKA,cACpB/K,YAAa,EAAKA,YAClB4K,iBAAkB,EAAKA,iBACvBE,iBAAkB,EAAKA,iBAEvB7F,QAAS,EAAKrK,MAAMqK,QACpBpF,UAAW,EAAKjF,MAAMiF,UACtBgL,UAAW,EAAKjQ,MAAMiQ,WAHjBS,EAAejH,S,+BASlB,IAAD,OACSnD,EAAUpJ,KAAK8C,MAAMuQ,YAA7BhK,OADD,EAEqDrJ,KAAK8C,MAAzDkC,EAFD,EAECA,SAAUE,EAFX,EAEWA,YAA0BuO,EAFrC,EAEwBJ,YAC/B,GAAIrT,KAAK8C,MAAMgG,WAAY,OAAO,cAAC,EAAD,IAClC,GAAe,IAAVM,EAAa,OAAO,6EAEzB,IAAMsK,EAAW7N,EAAS4N,EAAavO,EAAaF,GAEpD,OACE,sBAAK5E,UAAU,kBAAf,UACE,+BACG,IACD,cAAC,IAAD,CAAiBiB,KAAMa,MAFzB,qBAIA,uBACA,sBAAK9B,UAAU,MAAf,UACE,qBAAKA,UAAU,qBAAf,SACE,qBAAKA,UAAU,cAAf,SACE,uBAAMmM,GAAG,sBAAsB1J,SAAU7C,KAAK6C,SAA9C,UACE,qBAAKzC,UAAU,SAAf,SACE,uDAEF,uBACA,gCACE,sBAAKA,UAAU,aAAf,UACE,qBAAKA,UAAU,YAAf,SACE,qDAEF,qBAAKA,UAAU,YAAf,SACE,8BACE,cAAC,IAAD,CACEA,UAAU,eACVoM,SAAUxM,KAAK8C,MAAMyQ,YACrBlP,SAAUrE,KAAKsT,6BAMvB,sBAAKlT,UAAU,aAAf,UACE,qBAAKA,UAAU,YAAf,SACE,2CAEF,qBAAKA,UAAU,YAAf,SACE,uBACE+D,KAAK,OACL/D,UAAU,wBACVmD,MAAOvD,KAAK8C,MAAME,KAClBqB,SAAUrE,KAAK0C,oBAKrB,sBAAKtC,UAAU,OAAf,UACE,uBACA,uBACE+D,KAAK,SACLZ,MAAM,cACNV,SAAU7C,KAAK6C,SACfzC,UAAU,oBACT,IACFJ,KAAK8C,MAAMK,IACZ,8BACE,sCAQZ,sBAAK/C,UAAU,qBAAf,UACE,wBAAOA,UAAU,uBAAjB,UACE,wBAAOA,UAAU,cAAjB,UACE,6BACE,qBAAIuT,QAAQ,IAAZ,6BAEE,wBACEvT,UAAU,uBACVqB,QAAS,WACP,EAAKsH,WAHT,SAME,cAAC,IAAD,CAAiB1H,KAAMkI,aAI7B,+BACE,sCACA,sCACA,+CAGJ,gCAAQvJ,KAAK4T,YAAYF,QAE3B,cAAC,EAAD,CACE3O,WAAYqE,EACZpE,SAAUA,EACVC,aAAcjF,KAAKgJ,iBACnB9D,YAAaA,iB,GArSc3C,aC9FpBsR,G,kDACnB,WAAY5U,GAAQ,IAAD,8BACjB,cAAMA,IAED0D,iBAAmB,EAAKA,iBAAiBxD,KAAtB,gBACxB,EAAK0D,SAAW,EAAKA,SAAS1D,KAAd,gBAEhB,EAAK2D,MAAQ,CACXgR,YAAY,GACZ7Q,SAAU,GACVC,UAAW,GACXzD,MAAO,EAAKR,MAAMQ,MAClB0D,IAAK,IAXU,E,6DAgBFQ,EAAIP,GACX,GAALO,EACD3D,KAAKyD,SAAS,CAACR,SAAUG,EAAEE,OAAOC,MAAMJ,IAAK,KACjC,GAALQ,EACP3D,KAAKyD,SAAS,CAACP,UAAWE,EAAEE,OAAOC,MAAMJ,IAAK,KAE9CnD,KAAKyD,SAAS,CAACqQ,YAAa1Q,EAAEE,OAAOC,MAAMJ,IAAK,O,+BAI3CC,GAAI,IAAD,OAGV,GAFAA,EAAES,iBAEC7D,KAAK8C,MAAMG,WAAWjD,KAAK8C,MAAMI,UAAU,CAC5C,IAAM6Q,EAAO,CACXD,YAAa9T,KAAK8C,MAAMgR,YACxBE,YAAahU,KAAK8C,MAAMG,SACxBc,aAAc/D,KAAK8C,MAAMrD,OAE3BZ,EAAMmF,KAAK,wBAAyB+P,GAAMrU,MAAK,SAACyD,GAC9C,EAAKM,SAAS,CACZN,IAAKA,EAAIvD,KAAKqE,QACd6P,YAAa,GACb7Q,SAAU,GACVC,UAAW,aAIblD,KAAKyD,SAAS,CACZN,IAAI,6C,+BASF,IAAD,OACP,OACE,gCACE,iDACA,sBAAMN,SAAU7C,KAAK6C,SAArB,SACA,sBAAKqB,MAAM,WAAX,UACE,sBAAK9D,UAAU,iDAAf,UACE,mDACA,uBACE+D,KAAK,WACLC,UAAQ,EACRhE,UAAU,eACVmD,MAAOvD,KAAK8C,MAAMgR,YAClBzP,SAAU,SAACjB,GAAD,OAAO,EAAKT,iBAAiB,EAAES,IACzCkB,UAAU,IACVC,UAAU,UAGd,sBAAKnE,UAAU,iDAAf,UACE,+CACA,uBACE+D,KAAK,WACLC,UAAQ,EACRhE,UAAU,eACVmD,MAAOvD,KAAK8C,MAAMG,SAClBoB,SAAU,SAACjB,GAAD,OAAO,EAAKT,iBAAiB,EAAES,IACzCkB,UAAU,IACVG,UAAU,UAGd,sBAAKrE,UAAU,iDAAf,UACE,wDACA,uBACE+D,KAAK,WACLC,UAAQ,EACRhE,UAAU,eACVmD,MAAOvD,KAAK8C,MAAMI,UAClBmB,SAAU,SAACjB,GAAD,OAAO,EAAKT,iBAAiB,EAAES,IACzCkB,UAAU,IACVG,UAAU,UAGd,qBAAKrE,UAAU,iDAAf,SACE,uBACE+D,KAAK,SACLZ,MAAM,kBACNnD,UAAU,2BAKhB,8BAAMJ,KAAK8C,MAAMK,a,GA1GmBZ,aCatC0R,GAAS,SAAChV,GACd,OAAIA,EAAM6E,OAAOf,WAAa9D,EAAM6I,cAGhC,qBAAI1H,UAAU,kBAAd,UACE,6BAAKnB,EAAM6E,OAAOf,WAClB,6BACE,uBACEoB,KAAK,OACLC,UAAQ,EACRhE,UAAU,eACVmD,MAAOtE,EAAM8I,UACb1D,SAAUpF,EAAMyD,aAChB4B,UAAU,IACV4E,QAAQ,mBAGZ,6BACE,uBACE/E,KAAK,WACLZ,MAAOtE,EAAMiV,iBACbtQ,QAAS3E,EAAMiV,iBACf7P,SAAUpF,EAAM2D,wBAGpB,+BACE,wBACExC,UAAU,2BACVqB,QAAS,WACPxC,EAAMiJ,eAHV,SAME,cAAC,IAAD,CAAiB7G,KAAM8G,QAP3B,OAUE,wBACE/H,UAAU,yBACVqB,QAAS,WACPxC,EAAMkV,aACJlV,EAAM6E,OAAOf,SACb9D,EAAM8I,UACN9I,EAAMiV,mBANZ,SAUE,cAAC,IAAD,CAAiB7S,KAAMgH,cAQ7B,+BACE,6BAAKpJ,EAAM6E,OAAOf,WAClB,6BAAK9D,EAAM6E,OAAOd,OAClB,6BAAK/D,EAAM6E,OAAO/D,YAAc,QAAU,SAC1C,+BACE,wBACEK,UAAU,sBACVqB,QAAS,WACPxC,EAAMmV,WAAWnV,EAAM6E,SAH3B,SAME,cAAC,IAAD,CAAiBzC,KAAMkH,QAP3B,OAUE,wBACEnI,UAAU,wBACVqB,QAAS,WACPxC,EAAMoV,aAAapV,EAAM6E,OAAOf,WAHpC,SAME,cAAC,IAAD,CAAiB1B,KAAMoH,eAQd6L,G,kDACnB,WAAYrV,GAAQ,IAAD,8BACjB,cAAMA,IA6BR0J,QA9BmB,sBA8BT,4BAAAC,EAAA,sEACQ/J,EAAMU,IAAI,eADlB,OACJ4D,EADI,OAER,EAAKM,SAAS,CAAE8Q,WAAYpR,EAAIvD,KAAKA,KAAMkJ,YAAY,IACvDzJ,QAAQC,IAAI,cACZD,QAAQC,IAAI6D,EAAIvD,KAAKA,MAJb,2CA3BR,EAAKyU,aAAe,EAAKA,aAAalV,KAAlB,gBACpB,EAAKiV,WAAa,EAAKA,WAAWjV,KAAhB,gBAClB,EAAKgV,aAAe,EAAKA,aAAahV,KAAlB,gBACpB,EAAK+I,YAAc,EAAKA,YAAY/I,KAAjB,gBAEnB,EAAKuD,aAAe,EAAKA,aAAavD,KAAlB,gBACpB,EAAKyD,oBAAsB,EAAKA,oBAAoBzD,KAAzB,gBAC3B,EAAK4J,QAAU,EAAKA,QAAQ5J,KAAb,gBACf,EAAK6J,iBAAmB,EAAKA,iBAAiB7J,KAAtB,gBAExB,EAAK2D,MAAQ,CACXyR,WAAY,GACZzL,YAAY,EACZhB,cAAe,KACf9C,SAAU,EAAK/F,MAAM+F,SACrBE,YAAa,GAlBE,E,0LAuBXlF,KAAK2I,U,6IAGIjD,GACf1F,KAAKyD,SAAS,CAAEyB,YAAaQ,M,yJAWC,IAA1B1F,KAAK8C,MAAMgG,W,gCACP9I,KAAK2I,U,OAEbtJ,QAAQC,IAAIU,KAAK8C,O,kLAGAC,G,iFACXlE,EACHoK,OAAO,iBAAkB,CACxBrJ,KAAM,CAAEmD,SAAUA,EAAUgB,aAAc/D,KAAKf,MAAMQ,SAEtDC,MAAK,SAACC,GACLN,QAAQC,IAAIK,EAASC,S,OAGzBI,KAAKyD,SAAS,CACZqF,YAAY,IAEd9I,KAAK+I,U,mLAGYhG,EAAUC,EAAMjD,G,4FAC3BlB,EACHmF,KAAK,iBAAkB,CACtBjB,SAAUA,EACVC,KAAMA,EACNjD,YAAaA,EACbgE,aAAc/D,KAAKf,MAAMQ,QAE1BC,MAAK,SAACC,GACLN,QAAQC,IAAIK,EAASC,MACrBP,QAAQC,IAAI,SAAW,EAAKL,MAAMQ,U,OAEtCO,KAAKyD,SAAS,CACZqF,YAAY,EACZhB,cAAe,KACfC,UAAW,KACXmM,iBAAkB,OAEpBlU,KAAK+I,U,4IAGIjF,GACT9D,KAAKyD,SAAS,CACZqE,cAAehE,EAAOf,SACtBgF,UAAWjE,EAAOd,KAClBkR,iBAAkBpQ,EAAO/D,YACzB+I,YAAY,M,oCAKd9I,KAAKyD,SAAS,CACZqE,cAAe,KACfC,UAAW,KACXmM,iBAAkB,KAClBpL,YAAY,M,gCAKd9I,KAAKyD,SAAS,CACZqF,YAAY,M,mCAIH1F,GACX,IAAIM,EAAUN,EAAEE,OAAOC,MACnB2F,EAAU,eACd7J,QAAQC,IAAI4J,EAAQ1F,KAAKE,IACrBwF,EAAQ1F,KAAKE,IACf1D,KAAKyD,SAAS,CAAEsE,UAAW3E,EAAEE,OAAOC,U,0CAIpBH,GAClBpD,KAAKyD,SAAS,CACZyQ,iBAAkB9Q,EAAEE,OAAOM,Y,iCAIpB3E,GAAQ,IAAD,OAChB,OAAOA,EAAMwG,KAAI,SAAC+O,GAChB,OACE,cAAC,GAAD,CACE1Q,OAAQ0Q,EACRH,aAAc,EAAKA,aACnBD,WAAY,EAAKA,WACjBD,aAAc,EAAKA,aACnBjM,YAAa,EAAKA,YAClBxF,aAAc,EAAKA,aACnBE,oBAAqB,EAAKA,oBAE1BkF,cAAe,EAAKhF,MAAMgF,cAC1BC,UAAW,EAAKjF,MAAMiF,UACtBmM,iBAAkB,EAAKpR,MAAMoR,kBAHxBM,EAAczR,e,+BASjB,IAAD,OACSqG,EAAUpJ,KAAK8C,MAAMyR,WAA7BlL,OADD,EAEkDrJ,KAAK8C,MAAtDkC,EAFD,EAECA,SAAUE,EAFX,EAEWA,YAAyBuP,EAFpC,EAEwBF,WAC/B,GAAIvU,KAAK8C,MAAMgG,WAAY,OAAO,cAAC,EAAD,IAClC,GAAc,IAAVM,EACF,OACE,8BACE,6DAIN,IAAMtF,EAAS+B,EAAS4O,EAAWvP,EAAaF,GAChD,OACE,gCACE,+BACG,IACD,cAAC,IAAD,CAAiB3D,KAAMqT,MAFzB,mBAGE,wBACEtU,UAAU,uBACVqB,QAAS,WACP,EAAKsH,WAHT,SAME,cAAC,IAAD,CAAiB1H,KAAMkI,WAG3B,wBAAOnJ,UAAU,QAAjB,UACE,uBAAOA,UAAU,cAAjB,SACE,+BACE,0CACA,sCACA,8CACA,8CAGJ,gCAAQJ,KAAK2U,WAAW7Q,QAE1B,cAAC,EAAD,CACEiB,WAAYqE,EACZpE,SAAUA,EACVC,aAAcjF,KAAKgJ,iBACnB9D,YAAaA,W,GArLiB3C,aClFnBqS,G,uKAEjB,IACMhJ,EAAI,IAAIC,KAERgJ,EAAkB,CACtBnK,aAAckB,EACdhB,aAAcgB,EAAEG,WAAWK,MAAM,eAAe,GAChDvB,UAAW,GACXC,cAAc,EACdC,SAAS,EACTC,aAAa,EACbC,YAAa,EACbC,WAAYU,EAAES,cACdlB,iBAAkBS,EAClBR,aAAa,EACbC,SAAU,EACVC,OAAQ,EACRC,OAAQ,EACR5D,OAAQ,EACR6D,cAAe,EACfC,mBAAmB,EACnBhM,MAAOO,KAAKf,MAAMQ,MAClB0D,IAAK,IAGD2R,EAAe,CACnBjF,UAAWjE,EACXmE,UAAWnE,EAAEG,WAAWK,MAAM,eAAe,GAC7CjI,KAAM,EACNiH,aAAa,EACbC,SAAU,EACVE,OAAQ,EACR5D,OAAQ,EACRlI,MAAOO,KAAKf,MAAMQ,MAClB0D,IAAK,IAGP,OAAQnD,KAAKf,MAAM8V,KACjB,IAAK,YACH,OAAO,cAAC,EAAD,CAAWtV,MAAOO,KAAKf,MAAMQ,QACtC,IAAK,WACH,OAAO,cAAC,EAAD,CAAUA,MAAOO,KAAKf,MAAMQ,QACrC,IAAK,YACH,OAAO,cAAC,EAAD,CAAWA,MAAOO,KAAKf,MAAMQ,MAAOuF,SA1C9B,IA2Cf,IAAK,qBACH,OACE,cAAC,EAAD,CACEvF,MAAOO,KAAKf,MAAMQ,MAClBkL,SAAUkK,EACVvI,SAAS,IAGf,IAAK,eACH,OAAO,cAAC,EAAD,CAAc7M,MAAOO,KAAKf,MAAMQ,MAAOuF,SAAUA,MAC1D,IAAK,kBACH,OACE,cAAC,EAAD,CACEvF,MAAOO,KAAKf,MAAMQ,MAClBqQ,MAAOgF,EACPxI,SAAS,IAGf,IAAK,YACH,OAAO,cAAC,EAAD,CAAW7M,MAAOO,KAAKf,MAAMQ,MAAOuF,SA9D9B,IA+Df,IAAK,eACH,OACE,cAAC,GAAD,CAAkBvF,MAAOO,KAAKf,MAAMQ,MAAOuF,SAjEhC,IAmEf,IAAK,aACH,OAAO,cAAC,GAAD,CAAYvF,MAAOO,KAAKf,MAAMQ,MAAOuF,SApE/B,IAqEf,IAAK,UACH,OAAO,cAAC,GAAD,CAASvF,MAAOO,KAAKf,MAAMQ,MAAOuF,SAtE5B,IAuEf,IAAK,iBACH,OAAO,cAAC,GAAD,CAAgBvF,MAAOO,KAAKf,MAAMQ,QAC3C,QACE,OAAO,+BAAKO,KAAKf,MAAM8V,IAAhB,Y,GA5EsBC,IAAMzS,W,6BCf5B,OAA0B,oCCAlC,SAAS0S,GAAeC,GAC7B,IAAIA,EACF,OAAO,KAET,IACE,IAAMC,EAAWC,aAAaC,QAAQH,GACtC,OAAGC,EACMG,KAAKhD,MAAM6C,GAEb,KACR,MAAMI,GACL,OAAO,M,ICAUC,G,kDACnB,WAAYvW,GAAQ,IAAD,8BACjB,cAAMA,IAEDwW,wBAA0B,EAAKA,wBAAwBtW,KAA7B,gBAC/B,EAAKuW,wBAA0B,EAAKA,wBAAwBvW,KAA7B,gBAC/B,EAAKwW,SAAW,EAAKA,SAASxW,KAAd,gBAEhB,EAAK2D,MAAQ,CACX8S,WAAW,EACXnW,MAAO,GACPoW,YAAa,GACbC,eAAgB,GAChBC,eAAgB,GAChBC,eAAe,EACfC,eAAe,EACfC,gBAAgB,GAfD,E,gEAoBjB7W,QAAQC,IAAI,kBACE2V,GAAe,6CAI3BjV,KAAKyD,SAAS,CAAEmS,WAAW,M,+BAItB,IAAD,EAQF5V,KAAK8C,MANP8S,EAFI,EAEJA,UACAnW,EAHI,EAGJA,MACAoW,EAJI,EAIJA,YACAC,EALI,EAKJA,eACAC,EANI,EAMJA,eACAG,EAPI,EAOJA,eAGF,OAAIN,EAEA,qBAAKxV,UAAU,UAAf,SACE,8BACE,wBAAQ+V,EAAE,KAAKC,GAAG,MAAMC,GAAG,KAAKC,OAAO,OAAOC,eAAa,OAAO1V,KAAK,aAM1EpB,OAAL,EAEI,qBAAKW,UAAU,UAAf,SACE,qBAAKA,UAAU,aAAf,SACE,qBAAKA,UAAU,GAAf,SACE,cAACoW,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,sBAAKrW,UAAU,WAAf,UACE,cAACqW,GAAA,EAAD,UAEE,sBAAKrW,UAAU,gBAAf,UAA+B,qBAAKG,IAAKC,EAAMC,MAAM,KAAKC,OAAO,KAAKN,UAAU,2BAA2BO,IAAI,cAA/G,wCAEF,qBAAKP,UAAU,8BAA8BG,IAAKmW,GAAShW,OAAO,aAEpE,qBAAKN,UAAU,gBAAf,SACE,qBAAKA,UAAU,WAAf,SACE,sBAAKA,UAAU,0BAAf,UACE,iCACA,yCACE,qBAAKA,UAAU,gBAAf,SACE,+BACE,6BACE,cAAC,IAAD,CACEA,UAAU,QACViB,KAAMC,QAGV,6BACE,uBACE6C,KAAK,OACL/D,UAAU,YACVmD,MAAOuS,EACPzR,SAAUrE,KAAKyV,wBACfkB,YAAY,oBAKpB,qBAAKvW,UAAU,gBAAf,SACE,+BACE,6BACE,cAAC,IAAD,CACEA,UAAU,QACViB,KAAMuV,QAGV,6BACE,uBACEzS,KAAK,WACL/D,UAAU,YACVmD,MAAOwS,EACP1R,SAAUrE,KAAK0V,wBACfiB,YAAY,oBAKpB,qBAAKvW,UAAU,cAAf,SACE,oBAAGA,UAAU,sBAAb,iBAA0CyV,UAG9C,wBACEzV,UAAU,kCACVyW,UAAWX,EACXzU,QAASzB,KAAK2V,SAHhB,qBAOA,+BACE,uBACA,uBACA,8C,8CAcA7F,GACtB,IAAMgH,EAAQhH,EAAMxM,OAAOC,MAAM8F,QAAU,EACrC0N,EAAY/W,KAAK8C,MAAMiT,eAAe1M,QAAU,EACtDrJ,KAAKyD,SAAS,CACZqS,eAAgBhG,EAAMxM,OAAOC,MAC7ByS,cAAec,EACfZ,eAAgBa,GAAaD,M,8CAIThH,GACtB,IAAMgH,EAAQhH,EAAMxM,OAAOC,MAAM8F,QAAU,EACrC2N,EAAchX,KAAK8C,MAAMgT,eAAezM,QAAU,EACxDrJ,KAAKyD,SAAS,CACZsS,eAAgBjG,EAAMxM,OAAOC,MAC7B0S,cAAea,EACfZ,eAAgBc,GAAeF,M,iCAIvB,IAAD,OAGTjY,EACGmF,KAAK,sCAAuC,CAC3CjB,SAAU/C,KAAK8C,MAAMgT,eACrB7S,SAAUjD,KAAK8C,MAAMiT,iBAEtBrW,MAAK,SAACyD,GAAD,OAASA,EAAIvD,QAClBF,MAAK,SAACuX,GACDA,EAAKpX,UDjKV,SAAsBqV,EAAKgC,GAC5BhC,GACF7V,QAAQ+S,MAAM,wCAEhB,IACEgD,aAAa+B,QAAQjC,EAAKI,KAAK8B,UAAUF,IAE3C,MAAM3B,GACJlW,QAAQ+S,MAAM,uDC0JRiF,CAAa,2CAA4CJ,EAAKxX,OAC9D,EAAKR,MAAMqY,aAAaL,EAAKlX,YAAYkX,EAAKxX,QAE9C,EAAKgE,SAAS,CACZoS,YAAaoB,EAAKhT,iB,GA1KM1B,aCCfgV,G,kDACnB,aAAe,IAAD,8BACZ,gBACK7V,iBAAmB,EAAKA,iBAAiBvC,KAAtB,gBACxB,EAAKmY,aAAc,EAAKA,aAAanY,KAAlB,gBACnB,EAAKW,aAAc,EAAKA,aAAaX,KAAlB,gBACnB,EAAKqY,cAAgB,EAAKA,cAAcrY,KAAnB,gBACrB,EAAK2D,MAAQ,CACX2U,UAAU,EACVvI,SAAS,EACTtP,KAAM,GACNH,MAAO,EACPsV,IAAK,sBAXK,E,gEAgBZ/U,KAAKwX,kB,sCAGS,IAAD,OACbxX,KAAKyD,SAAS,CAAEyL,SAAS,IACzB,IAAMzP,EAAQwV,GAAe,4CAC7B5V,QAAQC,IAAI,SAAWG,GACvBZ,EACGU,IAAI,wBAAyB,CAC5BC,OAAQ,CAAEC,MAAOA,KAElBC,MAAK,SAACC,GAAD,OAAcA,EAASC,QAC5BF,MAAK,SAACE,GACFA,EAAKC,QACN,EAAK4D,SAAS,CACZgU,UAAU,EACVvI,SAAS,EACTnP,YAAaH,EAAKG,YAClBN,MAAOA,IAGT,EAAKgE,SAAS,CACZgU,UAAU,EACVvI,SAAS,S,uCAMFwI,GACf1X,KAAKyD,SAAS,CAAEsR,IAAK2C,M,mCAGV3X,EAAYN,GACvBO,KAAKyD,SAAS,CAAEgU,UAAU,EAAM1X,YAAaA,EAAaN,MAAOA,EAAOsV,IAAI,yB,mCAGjE2C,GACX1X,KAAKyD,SAAS,CAAEgU,UAAU,EAAO1X,YAAa,KAAMN,MAAO,KAAMsV,IAAI,yB,+BAKrE,OAAI/U,KAAK8C,MAAMoM,QAEX,8BACA,cAAC,EAAD,MAKGlP,KAAK8C,MAAM2U,SAUZ,gCACE,cAAC,EAAD,CACE1X,YAAaC,KAAK8C,MAAM/C,YACxBN,MAAOO,KAAK8C,MAAMrD,MAClBkY,SAAU3X,KAAK8C,MAAMiS,IACrBrT,iBAAkB1B,KAAK0B,iBACvB5B,aAAcE,KAAKF,eAErB,qBAAKM,UAAU,UAAf,SACE,cAAC,GAAD,CAAS2U,IAAK/U,KAAK8C,MAAMiS,IAAKtV,MAAOO,KAAK8C,MAAMrD,aAjBpD,8BACA,cAAC,GAAD,CACE6X,aAActX,KAAKsX,qB,GAxEG/U,aCOnBqV,OAVf,WACE,OACI,cAAC,IAAD,UACI,qBAAKxX,UAAU,GAAf,SACA,cAAC,IAAD,CAAOyX,KAAK,IAAIC,UAAWP,U,OCPrCQ,IAASC,OAAO,cAAC,GAAD,CAAK5X,UAAU,QAAS6L,SAASC,eAAe,W","file":"static/js/main.164d92aa.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://us-central1-test-l2sw.cloudfunctions.net/backend/'\r\n})\r\n\r\nexport default instance\r\n","export default __webpack_public_path__ + \"static/media/icon.ea2967a8.png\";","import React, { Component } from \"react\";\r\nimport axios from \"../utils/axios\";\r\nimport logo from \"../icons/icon.png\";\r\nimport { Navbar, Nav, NavItem, Dropdown, NavLink } from 'react-bootstrap';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {faUser, faUserPlus, faPlus, faAmbulance, faCarCrash, faListAlt, faExclamationTriangle, faEnvelopeOpenText,faCalendarAlt, faSignOutAlt, faCog, faUserLock } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default class Navbar2 extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.LogOut = this.LogOut.bind(this);\r\n  }\r\n\r\n  LogOut(t) {\r\n    console.log(\"logged out\");\r\n    //window.location.reload(true);\r\n\r\n    axios\r\n      .get(\"police/logout/\", { params: { token: t } })\r\n      .then((response) => response.data)\r\n      .then((data) => {\r\n        if(data.success){\r\n          this.props.handleLogOut();\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const adminRights = this.props.adminRights;\r\n    const token = this.props.token;\r\n\r\n    return (\r\n      <Navbar bg=\"dark\" variant=\"dark\" className=\"d-flex\" fixed=\"top\">\r\n        <Navbar.Brand>\r\n          <img src={logo} width=\"30\" height=\"30\" className=\"d-inline-block align-top\" alt=\"RAPS icon\"/>\r\n          &nbsp; <span className=\"nav_brand_label\"> Road Accident Prevention System </span>\r\n          <span className=\"nav_brand_label_short\"> RAPS </span>\r\n        </Navbar.Brand>\r\n          <Nav className=\"d-flex justify-content-center\" fill variant=\"pills\">\r\n          <Dropdown as={NavItem} style={{ display: adminRights ? \"block\" : \"none\" }}>\r\n            <Dropdown.Toggle as={NavLink}>\r\n            <FontAwesomeIcon icon={faUser} />&nbsp;\r\n              <span className=\"nav_item_label\"> Police </span>\r\n            </Dropdown.Toggle>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item>\r\n                <button onClick={() => this.props.handleNavigation(\"addpolice\")} className=\"dropdown-item\">\r\n                  <FontAwesomeIcon icon={faUserPlus} />&nbsp;\r\n                  Add User\r\n                </button>\r\n              </Dropdown.Item>\r\n              <Dropdown.Item>\r\n                <button onClick={() => this.props.handleNavigation(\"policelist\")} className=\"dropdown-item\">\r\n                  <FontAwesomeIcon icon={faListAlt} />&nbsp;\r\n                  User List\r\n                </button>\r\n              </Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n\r\n          <Dropdown as={NavItem} style={{ display: adminRights ? \"block\" : \"none\" }}>\r\n            <Dropdown.Toggle as={NavLink}>\r\n            <FontAwesomeIcon icon={faAmbulance} />&nbsp;\r\n              <span className=\"nav_item_label\"> Emergency Teams </span>\r\n            </Dropdown.Toggle>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item>\r\n                <button onClick={() => this.props.handleNavigation(\"addeteam\")} className=\"dropdown-item\">\r\n                  <FontAwesomeIcon icon={faUserPlus} />&nbsp;\r\n                  Add Emergency Team\r\n                </button>\r\n              </Dropdown.Item>\r\n              <Dropdown.Item>\r\n                <button onClick={() => this.props.handleNavigation(\"eteamlist\")} className=\"dropdown-item\">\r\n                  <FontAwesomeIcon icon={faListAlt} />&nbsp;\r\n                  Emergency Team List\r\n                </button>\r\n              </Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n\r\n          <Dropdown as={NavItem}>\r\n            <Dropdown.Toggle as={NavLink}>\r\n            <FontAwesomeIcon icon={faCarCrash} />&nbsp;\r\n              <span className=\"nav_item_label\"> Accidents </span>\r\n            </Dropdown.Toggle>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item>\r\n                <button onClick={() => this.props.handleNavigation(\"accidentsubmission\")} className=\"dropdown-item\">\r\n                  <FontAwesomeIcon icon={faPlus} />&nbsp;\r\n                  Accident Submission\r\n                </button>\r\n              </Dropdown.Item>\r\n              <Dropdown.Item>\r\n                <button onClick={() => this.props.handleNavigation(\"accidentlist\")} className=\"dropdown-item\">\r\n                  <FontAwesomeIcon icon={faListAlt} />&nbsp;\r\n                  Accident List\r\n                </button>\r\n              </Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n\r\n          <Dropdown as={NavItem}>\r\n            <Dropdown.Toggle as={NavLink}>\r\n            <FontAwesomeIcon icon={faExclamationTriangle} />&nbsp;\r\n              <span className=\"nav_item_label\"> Events </span>\r\n            </Dropdown.Toggle>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item>\r\n                <button onClick={() => this.props.handleNavigation(\"eventsubmission\")} className=\"dropdown-item\">\r\n                  <FontAwesomeIcon icon={faPlus} />&nbsp;\r\n                  Event Submission\r\n                </button>\r\n              </Dropdown.Item>\r\n              <Dropdown.Item>\r\n                <button onClick={() => this.props.handleNavigation(\"eventlist\")} className=\"dropdown-item\">\r\n                  <FontAwesomeIcon icon={faListAlt} />&nbsp;\r\n                  Event List\r\n                </button>\r\n              </Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n\r\n            <div as={NavItem} className=\"\">\r\n              <a onClick={() => this.props.handleNavigation(\"incidentlist\")} className=\"nav-link\">\r\n                <FontAwesomeIcon icon={faEnvelopeOpenText} />&nbsp;\r\n                <span className=\"nav_item_label\"> Incidents </span>\r\n              </a>\r\n            </div>\r\n\r\n            <div as={NavItem} className=\"\">\r\n              <a onClick={() => this.props.handleNavigation(\"holiday\")} className=\"nav-link\">\r\n                <FontAwesomeIcon icon={faCalendarAlt} />&nbsp;\r\n                <span className=\"nav_item_label\"> Holidays </span>\r\n              </a>\r\n            </div>\r\n\r\n          </Nav>\r\n          <Nav className=\"ml-auto\">\r\n          <Dropdown as={NavItem}>\r\n            <Dropdown.Toggle as={NavLink}>\r\n            <FontAwesomeIcon icon={faCog} />&nbsp;\r\n              <span className=\"nav_item_label\"> </span>\r\n            </Dropdown.Toggle>\r\n            <Dropdown.Menu alignRight>\r\n              <Dropdown.Item>\r\n                  <button\r\n                    onClick={this.LogOut.bind(this, token)}\r\n                    className=\"btn text-danger\"\r\n                  >\r\n                  <FontAwesomeIcon icon={faSignOutAlt} />\r\n                  <span> Log Out </span>\r\n                  </button>\r\n              </Dropdown.Item>\r\n              <Dropdown.Item>\r\n                <button onClick={() => this.props.handleNavigation(\"changepassword\")} className=\"btn\">\r\n                  <FontAwesomeIcon icon={faUserLock} />&nbsp;\r\n                   Change password\r\n                </button>\r\n              </Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n          </Nav>\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"../utils/axios\";\r\n\r\nexport default class AddPolice extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeUsername = this.onChangeUsername.bind(this);\r\n    this.onChangeName = this.onChangeName.bind(this);\r\n    this.onChangePassword = this.onChangePassword.bind(this);\r\n    this.onChangeAdminRights = this.onChangeAdminRights.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      name: \"\",\r\n      password: \"\",\r\n      password2: \"\",\r\n      adminRights: false,\r\n      token: this.props.token,\r\n      res: \"\",\r\n    };\r\n  }\r\n\r\n  onChangeUsername(e) {\r\n    var newusername = e.target.value;\r\n    var pattern = /^[a-z0-9]*$/;\r\n    if(pattern.test(newusername)){\r\n      this.setState({username: e.target.value, res:\"\"});\r\n    }\r\n  }\r\n\r\n  onChangeName(e) {\r\n    var newname = e.target.value;\r\n    var pattern = /^[A-Za-z ]*$/;\r\n    if(pattern.test(newname)){\r\n      this.setState({name: e.target.value, res:\"\"});\r\n    }\r\n  }\r\n\r\n  onChangePassword(int,e) {\r\n    if(int==1){\r\n      this.setState({password: e.target.value,res: \"\"});\r\n    }else{\r\n      this.setState({password2: e.target.value,res: \"\"});\r\n    }\r\n  }\r\n\r\n  onChangeAdminRights(e) {\r\n    this.setState({\r\n      adminRights: e.target.checked,\r\n      res: \"\",\r\n    });\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    //validation\r\n    if(this.state.password===this.state.password2){\r\n      const police = {\r\n        username: this.state.username,\r\n        name: this.state.name,\r\n        password: this.state.password,\r\n        adminRights: this.state.adminRights,\r\n        sessionToken: this.state.token,\r\n      };\r\n      axios.post(\"police/signup\", police).then((res) => {\r\n        this.setState({\r\n          res: res.data.message,\r\n          username: \"\",\r\n          name: \"\",\r\n          password: \"\",\r\n          password2: \"\",\r\n          adminRights: false,\r\n        });\r\n      });\r\n    }else{\r\n        this.setState({\r\n          res:\"Passwords mismatched. Please re-check.\"\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h3>Create New User</h3>\r\n        <form onSubmit={this.onSubmit}>\r\n        <div class=\"form-col\">\r\n          <div className=\"form-group col-sm-9 col-md-7 col-lg-6 col-xl-4\">\r\n            <label>Username: </label>\r\n            <input\r\n              type=\"text\"\r\n              required\r\n              className=\"form-control\"\r\n              value={this.state.username}\r\n              onChange={this.onChangeUsername}\r\n              minlength=\"4\"\r\n              maxlength=\"15\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-sm-9 col-md-7 col-lg-6 col-xl-4\">\r\n            <label>Name: </label>\r\n            <input\r\n              type=\"text\"\r\n              required\r\n              className=\"form-control\"\r\n              value={this.state.name}\r\n              onChange={this.onChangeName}\r\n              minLength=\"5\"\r\n              maxLength=\"30\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-sm-9 col-md-7 col-lg-6 col-xl-4\">\r\n            <label>Password: </label>\r\n            <input\r\n              type=\"password\"\r\n              required\r\n              className=\"form-control\"\r\n              value={this.state.password}\r\n              onChange={(e) => this.onChangePassword(1,e)}\r\n              minlength=\"4\"\r\n              maxLength=\"20\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-sm-9 col-md-7 col-lg-6 col-xl-4\">\r\n            <label>Re-Enter Password: </label>\r\n            <input\r\n              type=\"password\"\r\n              required\r\n              className=\"form-control\"\r\n              value={this.state.password2}\r\n              onChange={(e) => this.onChangePassword(2,e)}\r\n              minlength=\"4\"\r\n              maxLength=\"20\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-sm-9 col-md-7 col-lg-6 col-xl-4\">\r\n          <input\r\n            type=\"checkbox\"\r\n            className=\"form-check-input\"\r\n            value={this.state.adminRights}\r\n            onChange={this.onChangeAdminRights}\r\n          />\r\n          <label class=\"form-check-label\">Admin Rights </label>\r\n          </div>\r\n          <div className=\"form-group col-sm-9 col-md-7 col-lg-6 col-xl-4\">\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Create User\"\r\n              className=\"btn btn-primary\"\r\n            />\r\n          </div>\r\n          </div>\r\n        </form>\r\n        <div>{this.state.res}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"../utils/axios\";\r\n\r\nexport default class AddPolice extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeUsername = this.onChangeUsername.bind(this);\r\n    this.onChangeName = this.onChangeName.bind(this);\r\n    this.onChangeContactNumber = this.onChangeContactNumber.bind(this);\r\n    this.onChangePassword = this.onChangePassword.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      name: \"\",\r\n      password: \"\",\r\n      password2: \"\",\r\n      contactNumber: \"\",\r\n      token: this.props.token,\r\n      res: \"\",\r\n    };\r\n  }\r\n\r\n  onChangeUsername(e) {\r\n    var newusername = e.target.value;\r\n    var pattern = /^[a-z0-9]*$/;\r\n    if(pattern.test(newusername)){\r\n      this.setState({username: e.target.value, res:\"\"});\r\n    }\r\n  }\r\n\r\n  onChangeName(e) {\r\n    var newname = e.target.value;\r\n    var pattern = /^[A-Za-z0-9 ]*$/;\r\n    if(pattern.test(newname)){\r\n      this.setState({name: e.target.value, res:\"\"});\r\n    }\r\n  }\r\n\r\n  onChangeContactNumber(e) {\r\n    var newnum = e.target.value;\r\n    var pattern = /^[0-9]*$/;\r\n    if(pattern.test(newnum)){\r\n      this.setState({contactNumber: e.target.value, res:\"\"});\r\n    }\r\n  }\r\n\r\n  onChangePassword(int,e) {\r\n    if(int==1){\r\n      this.setState({password: e.target.value,res: \"\"});\r\n    }else{\r\n      this.setState({password2: e.target.value,res: \"\"});\r\n    }\r\n  }\r\n\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    //validation\r\n    if(this.state.password===this.state.password2){\r\n      const eteam = {\r\n        username: this.state.username,\r\n        name: this.state.name,\r\n        password: this.state.password,\r\n        contactNumber: this.state.contactNumber,\r\n        sessionToken: this.state.token,\r\n      };\r\n      axios.post(\"police/eteam/add\", eteam).then((res) => {\r\n        this.setState({\r\n          res: res.data.message,\r\n          username: \"\",\r\n          name: \"\",\r\n          password: \"\",\r\n          password2: \"\",\r\n          contactNumber: \"\",\r\n        });\r\n      });\r\n    }else{\r\n        this.setState({\r\n          res:\"Passwords mismatched. Please re-check.\"\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h3>Create New Emergency Team</h3>\r\n        <form onSubmit={this.onSubmit}>\r\n        <div class=\"form-col\">\r\n          <div className=\"form-group col-sm-9 col-md-7 col-lg-6 col-xl-4\">\r\n            <label>Username: </label>\r\n            <input\r\n              type=\"text\"\r\n              required\r\n              className=\"form-control\"\r\n              value={this.state.username}\r\n              onChange={this.onChangeUsername}\r\n              minlength=\"4\"\r\n              maxlength=\"15\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-sm-9 col-md-7 col-lg-6 col-xl-4\">\r\n            <label>Name: </label>\r\n            <input\r\n              type=\"text\"\r\n              required\r\n              className=\"form-control\"\r\n              value={this.state.name}\r\n              onChange={this.onChangeName}\r\n              minLength=\"5\"\r\n              maxLength=\"30\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-sm-9 col-md-7 col-lg-6 col-xl-4\">\r\n            <label>Contact Number: </label>\r\n            <input\r\n              type=\"text\"\r\n              required\r\n              className=\"form-control\"\r\n              value={this.state.contactNumber}\r\n              onChange={this.onChangeContactNumber}\r\n              minLength=\"3\"\r\n              maxLength=\"10\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-sm-9 col-md-7 col-lg-6 col-xl-4\">\r\n            <label>Password: </label>\r\n            <input\r\n              type=\"password\"\r\n              required\r\n              className=\"form-control\"\r\n              value={this.state.password}\r\n              onChange={(e) => this.onChangePassword(1,e)}\r\n              minlength=\"4\"\r\n              maxLength=\"20\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-sm-9 col-md-7 col-lg-6 col-xl-4\">\r\n            <label>Re-Enter Password: </label>\r\n            <input\r\n              type=\"password\"\r\n              required\r\n              className=\"form-control\"\r\n              value={this.state.password2}\r\n              onChange={(e) => this.onChangePassword(2,e)}\r\n              minlength=\"4\"\r\n              maxLength=\"20\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-sm-9 col-md-7 col-lg-6 col-xl-4\">\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Create Emergency Team\"\r\n              className=\"btn btn-primary\"\r\n            />\r\n          </div>\r\n          </div>\r\n        </form>\r\n        <div>{this.state.res}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\n\r\nconst Pagination = (props) => {\r\n  const { itemsCount, pageSize, onPageChange, currentPage } = props;\r\n  console.log(currentPage, itemsCount, pageSize);\r\n\r\n  const pagesCount = Math.ceil(itemsCount / pageSize);\r\n  if (pagesCount === 1) return null;\r\n  const pages = _.range(1, pagesCount + 1);\r\n\r\n  return (\r\n    <nav>\r\n      <ul class=\"pagination\">\r\n        {pages.map((page) => (\r\n          <li\r\n            class={page === currentPage ? \"page-item active\" : \"page-item\"}\r\n            key={page}\r\n          >\r\n            <a class=\"page-link\" onClick={() => onPageChange(page)}>\r\n              {page}\r\n            </a>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\n\r\n\r\nconst Loading = ()=>{\r\n  return (\r\n    <div className=\"d-flex justify-content-center mt-5\">\r\n    <div className=\"spinner-border\" role=\"status\">\r\n        <span className=\"sr-only\">Loading...</span>\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import _ from \"lodash\";\r\n\r\nexport function paginate(items, pageNumber, pageSize) {\r\n  const startIndex = (pageNumber - 1) * pageSize;\r\n  return _(items).slice(startIndex).take(pageSize).value();\r\n}\r\n","import haversine from \"haversine\";\r\n\r\nexport const findNearestExit = (userCoords) => {\r\n  /*\r\n    userCoords should be an object with location and latitude\r\n    e.g. userCoords = {\r\n      latitude:6.123123,\r\n      longitude:7.3435\r\n    }\r\n    */\r\n\r\n  const exitCoords = {\r\n    Kottawa: { latitude: 6.84049, longitude: 79.980573 },\r\n    Kahathuduwa: { latitude: 6.784015, longitude: 79.980355 },\r\n    Gelanigama: { latitude: 6.715369, longitude: 80.000144 },\r\n    Dodangoda: { latitude: 6.542138, longitude: 80.043321 },\r\n    Welipanna: { latitude: 6.453122, longitude: 80.088722 },\r\n    Kurundugahahetekma: { latitude: 6.271763, longitude: 80.13916 },\r\n    Baddegama: { latitude: 6.180164, longitude: 80.19423 },\r\n    Pinnaduwa: { latitude: 6.069075, longitude: 80.264147 },\r\n    Imaduwa: { latitude: 6.035074, longitude: 80.36598 },\r\n    Kokmaduwa: { latitude: 6.022619, longitude: 80.432987 },\r\n    Godagama: { latitude: 5.976512, longitude: 80.518374 },\r\n  };\r\n\r\n  let prev_exit = null,\r\n    prev_distance = null,\r\n    distance = null;\r\n  for (let exit in exitCoords) {\r\n    let exitCoord = {\r\n      latitude: exitCoords[exit].latitude,\r\n      longitude: exitCoords[exit].longitude,\r\n    };\r\n    distance = haversine(userCoords, exitCoord, { unit: \"km\" }); //need haversine package to do this\r\n\r\n    if (prev_exit !== null && prev_distance < distance) {\r\n      return prev_exit;\r\n    }\r\n    prev_exit = exit;\r\n    prev_distance = distance;\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\r\nimport axios from \"../utils/axios\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faAmbulance,\r\n  faUsers,\r\n  faEdit,\r\n  faBan,\r\n  faTrashAlt,\r\n  faSave,\r\n  faSyncAlt,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Pagination from \"./common/pagination\";\r\nimport Loading from \"./common/loading\";\r\nimport { paginate } from \"../utils/paginate\";\r\nimport { findNearestExit } from \"../utils/location\";\r\n\r\nconst ETeam = (props) => {\r\n  let suburb = findNearestExit({\r\n    latitude: props.eteam.lat,\r\n    longitude: props.eteam.lng,\r\n  })\r\n  if (props.eteam.username === props.edit_username) {\r\n    //edit mode\r\n    return (\r\n      <tr className=\"table-secondary\">\r\n        <td>{props.eteam.username}</td>\r\n        <td>\r\n          <input\r\n            type=\"text\"\r\n            required\r\n            className=\"form-control\"\r\n            value={props.edit_name}\r\n            onChange={props.onChangeName}\r\n            minLength=\"4\"\r\n            maxLength=\"20\"\r\n          ></input>\r\n        </td>\r\n        <td>\r\n          <input\r\n            type=\"text\"\r\n            value={props.edit_contactNumber}\r\n            onChange={props.onChangeContactNumber}\r\n          />\r\n        </td>\r\n        <td>{props.eteam.availability&&props.eteam.lat!=0 &&props.eteam.lng!=0? (suburb? suburb: \"\")+\" (\"+props.eteam.lat+\",\"+props.eteam.lng+\")\" : \"-\"}</td>\r\n        <td>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-sm btn-secondary\"\r\n            onClick={() => {\r\n              props.discardEdit();\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faBan} />\r\n          </button>\r\n          &nbsp;\r\n          <button type=\"submit\"\r\n            className=\"btn btn-sm btn-success\"\r\n            onClick={() => {\r\n              props.updateETeam(\r\n                props.eteam.username,\r\n                props.edit_name,\r\n                props.edit_contactNumber\r\n              );\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faSave} />\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    );\r\n  } else {\r\n    //normal mode\r\n    return (\r\n      <tr>\r\n        <td>{props.eteam.username}</td>\r\n        <td>{props.eteam.name}</td>\r\n        <td>{props.eteam.contactNumber}</td>\r\n        <td>{props.eteam.availability&&props.eteam.lat!=0 &&props.eteam.lng!=0? (suburb? suburb: \"\")+\" (\"+props.eteam.lat+\",\"+props.eteam.lng+\")\" : \"-\"}</td>\r\n        <td>\r\n          <button\r\n            className=\"btn btn-sm btn-info\"\r\n            onClick={() => {\r\n              props.editETeam(props.eteam);\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faEdit} />\r\n          </button>\r\n          &nbsp;\r\n          <button\r\n            className=\"btn btn-sm btn-danger\"\r\n            onClick={() => {\r\n              props.deleteETeam(props.eteam.username);\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faTrashAlt} />\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    );\r\n  }\r\n};\r\n\r\nexport default class ETeamList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.deleteETeam = this.deleteETeam.bind(this);\r\n    this.editETeam = this.editETeam.bind(this);\r\n    this.updateETeam = this.updateETeam.bind(this);\r\n    this.discardEdit = this.discardEdit.bind(this);\r\n\r\n    this.onChangeName = this.onChangeName.bind(this);\r\n    this.onChangeContactNumber = this.onChangeContactNumber.bind(this);\r\n    this.refresh = this.refresh.bind(this);\r\n    this.handlePageChange = this.handlePageChange.bind(this);\r\n\r\n    this.state = {\r\n      eteamlist: [],\r\n      updateFlag: true,\r\n      edit_username: null,\r\n      pageSize: this.props.pageSize,\r\n      currentPage: 1,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.getList();\r\n  }\r\n\r\n  handlePageChange(page) {\r\n    this.setState({ currentPage: page });\r\n  }\r\n\r\n  getList = async () => {\r\n    let res = await axios.get(\"eteam/list\");\r\n    this.setState({ eteamlist: res.data.data, updateFlag: false });\r\n    console.log(\"state_set:\");\r\n    console.log(res.data.data);\r\n  };\r\n\r\n  async componentDidUpdate() {\r\n    if (this.state.updateFlag === true) {\r\n      await this.getList();\r\n    }\r\n    console.log(this.state);\r\n  }\r\n\r\n  async deleteETeam(username) {\r\n    await axios\r\n      .delete(\"police/eteam/delete/\", {\r\n        data: { username: username, sessionToken: this.props.token },\r\n      })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n      });\r\n\r\n    this.setState({\r\n      updateFlag: true,\r\n    });\r\n    this.refresh();\r\n  }\r\n\r\n  async updateETeam(username, name, contactNumber) {\r\n\r\n    await axios\r\n      .post(\"police/eteam/update/\", {\r\n        username: username,\r\n        name: name,\r\n        contactNumber: contactNumber,\r\n        sessionToken: this.props.token,\r\n      })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        console.log(\"token:\" + this.props.token);\r\n      });\r\n    this.setState({\r\n      updateFlag: true,\r\n      edit_username: null,\r\n      edit_name: null,\r\n      edit_contactNumber: null,\r\n    });\r\n    this.refresh();\r\n  }\r\n\r\n  editETeam(eteam) {\r\n    this.setState({\r\n      edit_username: eteam.username,\r\n      edit_name: eteam.name,\r\n      edit_contactNumber: eteam.contactNumber,\r\n      updateFlag: true,\r\n    });\r\n  }\r\n\r\n  discardEdit() {\r\n    this.setState({\r\n      edit_username: null,\r\n      edit_name: null,\r\n      edit_contactNumber: null,\r\n      updateFlag: true,\r\n    });\r\n  }\r\n\r\n  refresh() {\r\n    this.setState({\r\n      updateFlag: true,\r\n    });\r\n  }\r\n\r\n  onChangeName(e) {\r\n    var newname = e.target.value;\r\n    var pattern = /^[A-Za-z0-9 ]+$/;\r\n    console.log(pattern.test(newname));\r\n    if(pattern.test(newname)){\r\n      this.setState({edit_name: e.target.value});\r\n    }\r\n  }\r\n\r\n  onChangeContactNumber(e) {\r\n    var newnum = e.target.value;\r\n    var pattern = /^[0-9]+$/;\r\n    if(pattern.test(newnum)){\r\n      this.setState({edit_contactNumber: e.target.value});\r\n    }\r\n  }\r\n\r\n  eteamList(props) {\r\n    return props.map((currenteteam) => {\r\n      return (\r\n        <ETeam\r\n          eteam={currenteteam}\r\n          deleteETeam={this.deleteETeam}\r\n          editETeam={this.editETeam}\r\n          updateETeam={this.updateETeam}\r\n          discardEdit={this.discardEdit}\r\n          onChangeName={this.onChangeName}\r\n          onChangeContactNumber={this.onChangeContactNumber}\r\n          key={currenteteam.username}\r\n          edit_username={this.state.edit_username}\r\n          edit_name={this.state.edit_name}\r\n          edit_contactNumber={this.state.edit_contactNumber}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { length: count } = this.state.eteamlist;\r\n    const { pageSize, currentPage, eteamlist: allETeam } = this.state;\r\n    if (this.state.updateFlag) return <Loading/>;\r\n    if (count === 0) return <p>There are no ETeam Users in the database</p>;\r\n\r\n    const eteam = paginate(allETeam, currentPage, pageSize);\r\n    return (\r\n      <div>\r\n        <h3>\r\n          {\" \"}\r\n          <FontAwesomeIcon icon={faAmbulance} /> ETeam List&nbsp;\r\n          <button\r\n            className=\"btn btn-sm btn-light\"\r\n            onClick={() => {\r\n              this.refresh();\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faSyncAlt} />\r\n          </button>\r\n        </h3>\r\n        <table className=\"table\">\r\n          <thead className=\"thead-light\">\r\n            <tr>\r\n              <th>Username</th>\r\n              <th>Name</th>\r\n              <th>Contact Number</th>\r\n              <th>Location</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{this.eteamList(eteam)}</tbody>\r\n        </table>\r\n        <Pagination\r\n          itemsCount={count}\r\n          pageSize={pageSize}\r\n          onPageChange={this.handlePageChange}\r\n          currentPage={currentPage}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"../utils/axios\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nexport default class AccidentSubmission extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeAccidentDate = this.onChangeAccidentDate.bind(this);\r\n    this.onChangeAccidentTime = this.onChangeAccidentTime.bind(this);\r\n\r\n    this.onChangeDriverAge = this.onChangeDriverAge.bind(this);\r\n    this.onChangeDriverGender = this.onChangeDriverGender.bind(this);\r\n\r\n    this.onChangeWeather = this.onChangeWeather.bind(this);\r\n    this.onChangeRoadSurface = this.onChangeRoadSurface.bind(this);\r\n\r\n    this.onChangeVehicleType = this.onChangeVehicleType.bind(this);\r\n    this.onChangeVehicleYOM = this.onChangeVehicleYOM.bind(this);\r\n    this.onChangeVehicleCondition = this.onChangeVehicleCondition.bind(this);\r\n\r\n    this.onChangeLicenseIssueDate = this.onChangeLicenseIssueDate.bind(this);\r\n\r\n    this.onChangeDrivingSide = this.onChangeDrivingSide.bind(this);\r\n    this.onChangeSeverity = this.onChangeSeverity.bind(this);\r\n    this.onChangeReason = this.onChangeReason.bind(this);\r\n\r\n    this.onChangeKmPost = this.onChangeKmPost.bind(this);\r\n    this.onChangeSuburb = this.onChangeSuburb.bind(this);\r\n    this.onChangeOperatedSpeed = this.onChangeOperatedSpeed.bind(this);\r\n    this.refresh = this.refresh.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      accidentDate: this.props.accident.accidentDate,\r\n      accidentTime: this.props.accident.accidentTime,\r\n      driverAge: this.props.accident.driverAge,\r\n      driverGender: this.props.accident.driverGender,\r\n      weather: this.props.accident.weather,\r\n      roadSurface: this.props.accident.roadSurface,\r\n      vehicleType: this.props.accident.vehicleType,\r\n      vehicleYOM: this.props.accident.vehicleYOM,\r\n      licenseIssueDate: this.props.accident.licenseIssueDate,\r\n      drivingSide: this.props.accident.drivingSide,\r\n      severity: this.props.accident.severity,\r\n      reason: this.props.accident.reason,\r\n      kmPost: this.props.accident.kmPost,\r\n      suburb: this.props.accident.suburb,\r\n      operatedSpeed: this.props.accident.operatedSpeed,\r\n      vehicle_condition: this.props.accident.vehicle_condition,\r\n      token: this.props.token,\r\n      res: \"\",\r\n    };\r\n  }\r\n\r\n  onChangeAccidentDate(date) {\r\n    this.setState({\r\n      accidentDate: date,\r\n    });\r\n  }\r\n\r\n  onChangeLicenseIssueDate(date) {\r\n    this.setState({\r\n      licenseIssueDate: date,\r\n    });\r\n  }\r\n\r\n  onChangeAccidentTime(e) {\r\n    this.setState({\r\n      accidentTime: e.target.value,\r\n      res: \"\",\r\n    });\r\n  }\r\n\r\n  onChangeDriverAge(e) {\r\n    this.setState({\r\n      driverAge: e.target.value,\r\n      res: \"\",\r\n    });\r\n  }\r\n  onChangeDriverGender(e) {\r\n    this.setState({\r\n      driverGender: e.target.value === \"male\" ? false : true,\r\n      res: \"\",\r\n    });\r\n  }\r\n\r\n  onChangeWeather(e) {\r\n    this.setState({\r\n      weather: e.target.value === \"clear\" ? false : true,\r\n      res: \"\",\r\n    });\r\n  }\r\n\r\n  onChangeRoadSurface(e) {\r\n    this.setState({\r\n      roadSurface: e.target.value === \"dry\" ? false : true,\r\n      res: \"\",\r\n    });\r\n  }\r\n\r\n  onChangeVehicleCondition(e) {\r\n    this.setState({\r\n      vehicle_condition: e.target.value === \"good\" ? false : true,\r\n      res: \"\",\r\n    });\r\n  }\r\n\r\n  onChangeVehicleType(e) {\r\n    this.setState({\r\n      vehicleType: parseInt(e.target.value),\r\n      res: \"\",\r\n    });\r\n  }\r\n  onChangeVehicleYOM(e) {\r\n    this.setState({\r\n      vehicleYOM: e.target.value,\r\n      res: \"\",\r\n    });\r\n  }\r\n\r\n  onChangeDrivingSide(e) {\r\n    this.setState({\r\n      drivingSide: e.target.value === \"colombo\" ? false : true,\r\n      res: \"\",\r\n    });\r\n  }\r\n  onChangeSeverity(e) {\r\n    this.setState({\r\n      severity: parseInt(e.target.value),\r\n      res: \"\",\r\n    });\r\n  }\r\n  onChangeReason(e) {\r\n    this.setState({\r\n      reason: parseInt(e.target.value),\r\n      res: \"\",\r\n    });\r\n  }\r\n  onChangeKmPost(e) {\r\n    this.setState({\r\n      kmPost: e.target.value,\r\n      res: \"\",\r\n    });\r\n  }\r\n  onChangeSuburb(e) {\r\n    this.setState({\r\n      suburb: parseInt(e.target.value),\r\n      res: \"\",\r\n    });\r\n    switch (parseInt(e.target.value)) {\r\n      case 0:\r\n        this.setState({ kmPost: 0 });\r\n        break;\r\n      case 1:\r\n        this.setState({ kmPost: 5.9 });\r\n        break;\r\n      case 2:\r\n        this.setState({ kmPost: 13.7 });\r\n        break;\r\n      case 3:\r\n        this.setState({ kmPost: 34.8 });\r\n        break;\r\n      case 4:\r\n        this.setState({ kmPost: 46 });\r\n        break;\r\n      case 5:\r\n        this.setState({ kmPost: 67.6 });\r\n        break;\r\n      case 6:\r\n        this.setState({ kmPost: 79.8 });\r\n        break;\r\n      case 7:\r\n        this.setState({ kmPost: 95.3 });\r\n        break;\r\n      case 8:\r\n        this.setState({ kmPost: 108 });\r\n        break;\r\n      case 9:\r\n        this.setState({ kmPost: 116.5 });\r\n        break;\r\n      case 10:\r\n        this.setState({ kmPost: 127 });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  onChangeOperatedSpeed(e) {\r\n    this.setState({\r\n      operatedSpeed: e.target.value,\r\n      res: \"\",\r\n    });\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const d = new Date();\r\n\r\n    if (!(this.state.accidentDate instanceof Date)) {\r\n      this.setState({\r\n        res: \"Validation Error: Date is invalid\",\r\n        accidentDate: d,\r\n        name: \"\",\r\n      });\r\n    } else {\r\n      const datetime = new Date(\r\n        this.state.accidentDate\r\n          .toString()\r\n          .replace(/(\\d\\d:\\d\\d:\\d\\d)/, this.state.accidentTime)\r\n      );\r\n\r\n      const accident = {\r\n        datetime: datetime,\r\n        driverAge: this.state.driverAge,\r\n        driverGender: this.state.driverGender,\r\n        weather: this.state.weather,\r\n        roadSurface: this.state.roadSurface,\r\n        vehicleType: this.state.vehicleType,\r\n        vehicleYOM: this.state.vehicleYOM,\r\n        vehicle_condition: this.state.vehicle_condition,\r\n        licenseIssueDate: this.state.licenseIssueDate,\r\n        drivingSide: this.state.drivingSide,\r\n        severity: this.state.severity,\r\n        reason: this.state.reason,\r\n        kmPost: this.state.kmPost,\r\n        suburb: this.state.suburb,\r\n        operatedSpeed: this.state.operatedSpeed,\r\n        sessionToken: this.state.token,\r\n      };\r\n\r\n      console.log(accident);\r\n\r\n      const d = new Date();\r\n\r\n      axios\r\n        .post(\"accident/submit\", accident)\r\n        .then((res) => {\r\n          console.log(\"submit res:\");\r\n          console.log(res);\r\n          document.getElementById(\"accident-report-from\").reset();\r\n          this.setState({\r\n            res: res.data.message,\r\n            accidentDate: d,\r\n            accidentTime: d.toString().match(/(\\d\\d:\\d\\d)/)[0],\r\n            driverAge: 17,\r\n            driverGender: false,\r\n            weather: false,\r\n            roadSurface: false,\r\n            vehicleType: 0,\r\n            vehicleYOM: d.getFullYear(),\r\n            licenseIssueDate: d,\r\n            drivingSide: false,\r\n            severity: 0,\r\n            reason: 0,\r\n            kmPost: 0,\r\n            suburb: 0,\r\n            operatedSpeed: 0,\r\n            vehicle_condition: false,\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  refresh() {\r\n    this.setState({\r\n      accidentDate: this.props.accident.accidentDate,\r\n      accidentTime: this.props.accident.accidentTime,\r\n      driverAge: this.props.accident.driverAge,\r\n      driverGender: this.props.accident.driverGender,\r\n      weather: this.props.accident.weather,\r\n      roadSurface: this.props.accident.roadSurface,\r\n      vehicleType: this.props.accident.vehicleType,\r\n      vehicleYOM: this.props.accident.vehicleYOM,\r\n      licenseIssueDate: this.props.accident.licenseIssueDate,\r\n      drivingSide: this.props.accident.drivingSide,\r\n      severity: this.props.accident.severity,\r\n      reason: this.props.accident.reason,\r\n      kmPost: this.props.accident.kmPost,\r\n      suburb: this.props.accident.suburb,\r\n      operatedSpeed: this.props.accident.operatedSpeed,\r\n      vehicle_condition: this.props.accident.vehicle_condition,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"acc\">\r\n        <div className=\"header\">\r\n          <h3>Accident Report </h3>\r\n        </div>\r\n        {this.props.isModal && (\r\n          <button className=\"badge badge-primary\" onClick={this.refresh}>\r\n            Update form\r\n          </button>\r\n        )}\r\n        <form id=\"accident-report-from\" onSubmit={this.onSubmit}>\r\n          <br />\r\n          <div>\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Accident Date: </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <div>\r\n                  <DatePicker\r\n                    className=\"form-control\"\r\n                    selected={this.state.accidentDate}\r\n                    onChange={this.onChangeAccidentDate}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Accident Time: </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <input\r\n                  type=\"time\"\r\n                  className=\"form-control\"\r\n                  value={this.state.accidentTime}\r\n                  onChange={this.onChangeAccidentTime}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Driver Age </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <input\r\n                  type=\"number\"\r\n                  className=\"form-control\"\r\n                  value={this.state.driverAge}\r\n                  onChange={this.onChangeDriverAge}\r\n                  min=\"17\"\r\n                  max=\"76\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Driver Gender </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  onChange={this.onChangeDriverGender}\r\n                >\r\n                  <option value=\"male\">Male</option>\r\n                  <option value=\"female\">Female</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Weather </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  onChange={this.onChangeWeather}\r\n                >\r\n                  <option value=\"clear\">Clear</option>\r\n                  <option value=\"rainy\">Rainy</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Road Surface </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  onChange={this.onChangeRoadSurface}\r\n                >\r\n                  <option value=\"dry\">Dry</option>\r\n                  <option value=\"wet\">Wet</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Vehicle Type </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  onChange={this.onChangeVehicleType}\r\n                >\r\n                  <option value=\"0\">Car</option>\r\n                  <option value=\"1\">HV</option>\r\n                  <option value=\"2\">Dual Purpose</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Vehicle manufacture year </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <input\r\n                  type=\"number\"\r\n                  className=\"form-control\"\r\n                  value={this.state.vehicleYOM}\r\n                  onChange={this.onChangeVehicleYOM}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Vehicle Condition </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  onChange={this.onChangeVehicleCondition}\r\n                >\r\n                  <option value=\"good\">Good</option>\r\n                  <option value=\"bad\">Bad</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>License Issue Date </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <DatePicker\r\n                  className=\"form-control\"\r\n                  selected={this.state.licenseIssueDate}\r\n                  onChange={this.onChangeLicenseIssueDate}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Driving Side </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  onChange={this.onChangeDrivingSide}\r\n                  value={this.state.drivingSide ? \"matara\" : \"colombo\"}\r\n                >\r\n                  <option value=\"colombo\">Colombo to Matara</option>\r\n                  <option value=\"matara\">Matara to Colombo</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Severity </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  onChange={this.onChangeSeverity}\r\n                >\r\n                  <option value=\"0\">Property Damage</option>\r\n                  <option value=\"1\">Injury</option>\r\n                  <option value=\"2\">Fatality</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Reason </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <select className=\"form-control\" onChange={this.onChangeReason}>\r\n                  <option value=\"0\">Animal Crossing</option>\r\n                  <option value=\"1\">Vehicle Issue</option>\r\n                  <option value=\"2\">Speed</option>\r\n                  <option value=\"3\">Tailgating</option>\r\n                  <option value=\"4\">Sleep</option>\r\n                  <option value=\"5\">Slipping</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Suburb </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  onChange={this.onChangeSuburb}\r\n                  value={this.state.suburb.toString()}\r\n                >\r\n                  <option value=\"0\">Kottawa</option>\r\n                  <option value=\"1\">Kahathuduwa</option>\r\n                  <option value=\"2\">Gelanigama</option>\r\n                  <option value=\"3\">Dodangoda</option>\r\n                  <option value=\"4\">Welipanna</option>\r\n                  <option value=\"5\">Kurundugahahetekma</option>\r\n                  <option value=\"6\">Baddegama</option>\r\n                  <option value=\"7\">Pinnaduwa</option>\r\n                  <option value=\"8\">Imaduwa</option>\r\n                  <option value=\"9\">Kokmaduwa</option>\r\n                  <option value=\"10\">Godagama</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>KM Post </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <input\r\n                  type=\"number\"\r\n                  step=\"0.1\"\r\n                  className=\"form-control\"\r\n                  value={this.state.kmPost}\r\n                  onChange={this.onChangeKmPost}\r\n                  min=\"0\"\r\n                  max=\"127\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Operated Speed (km/h) </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <input\r\n                  type=\"number\"\r\n                  className=\"form-control\"\r\n                  value={this.state.operatedSpeed}\r\n                  onChange={this.onChangeOperatedSpeed}\r\n                  min=\"0\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form\">\r\n              <br />\r\n              <input\r\n                type=\"submit\"\r\n                value=\"Submit Report\"\r\n                onSubmit={this.onSubmit}\r\n                className=\"btn btn-primary\"\r\n              />{\" \"}\r\n              {this.state.res}\r\n              <div></div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export function getLocalTime(datetime) {\r\n  var d = new Date(datetime.toString());\r\n  return d.toString().match(/\\d\\d:\\d\\d/)[0];\r\n}\r\n\r\nexport function getLocalDate(datetime) {\r\n  var d = new Date(datetime.toString());\r\n  return d.toString().match(/\\w+ \\w+ \\d+ \\d+/);\r\n}\r\n\r\nexport function getSuburbName(int) {\r\n  switch (int) {\r\n    case 0:\r\n      return \"Kottawa\";\r\n    case 1:\r\n      return \"Kahathuduwa\";\r\n    case 2:\r\n      return \"Gelanigama\";\r\n    case 3:\r\n      return \"Dodangoda\";\r\n    case 4:\r\n      return \"Welipanna\";\r\n    case 5:\r\n      return \"Kurundugahahetekma\";\r\n    case 6:\r\n      return \"Baddegama\";\r\n    case 7:\r\n      return \"Pinnaduwa\";\r\n    case 8:\r\n      return \"Imaduwa\";\r\n    case 9:\r\n      return \"Kokmaduwa\";\r\n    case 10:\r\n      return \"Godagama\";\r\n    default:\r\n      return \"Undefined\";\r\n  }\r\n}\r\n\r\nexport function getSuburbInt(suburb) {\r\n  switch (suburb) {\r\n    case \"Kottawa\":\r\n      return 0;\r\n    case \"Kahathuduwa\":\r\n      return 1;\r\n    case \"Gelanigama\":\r\n      return 2;\r\n    case \"Dodangoda\":\r\n      return 3;\r\n    case \"Welipanna\":\r\n      return 4;\r\n    case \"Kurundugahahetekma\":\r\n      return 5;\r\n    case \"Baddegama\":\r\n      return 6;\r\n    case \"Pinnaduwa\":\r\n      return 7;\r\n    case \"Imaduwa\":\r\n      return 8;\r\n    case \"Kokmaduwa\":\r\n      return 9;\r\n    case \"Godagama\":\r\n      return 10;\r\n    default:\r\n      return 0;\r\n  }\r\n}\r\n\r\nexport function getKmCat(int) {\r\n  switch (int) {\r\n    case 0:\r\n      return \"KM1\";\r\n    case 1:\r\n      return \"KM2\";\r\n    case 2:\r\n      return \"KM3\";\r\n    case 3:\r\n      return \"KM4\";\r\n    case 4:\r\n      return \"KM5\";\r\n    case 5:\r\n      return \"KM6\";\r\n    default:\r\n      return \"Undefined\";\r\n  }\r\n}\r\n\r\nexport function getKmPost(int) {\r\n  switch (int) {\r\n    case 0:\r\n      return 0;\r\n    case 1:\r\n      return 5.9;\r\n    case 2:\r\n      return 13.7;\r\n    case 3:\r\n      return 34.8;\r\n    case 4:\r\n      return 46;\r\n    case 5:\r\n      return 67.6;\r\n    case 6:\r\n      return 79.8;\r\n    case 7:\r\n      return 95.3;\r\n    case 8:\r\n      return 108;\r\n    case 9:\r\n      return 116.5;\r\n    case 10:\r\n      return 127;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"../utils/axios\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCarCrash,\r\n  faEdit,\r\n  faBan,\r\n  faTrashAlt,\r\n  faSave,\r\n  faSyncAlt,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {\r\n  getLocalDate,\r\n  getLocalTime,\r\n  getSuburbName,\r\n  getKmCat,\r\n} from \"../utils/displayformat\";\r\n\r\nimport Pagination from \"./common/pagination\";\r\nimport { paginate } from \"../utils/paginate\";\r\nimport Loading from \"./common/loading\";\r\n\r\nconst Accident = (props) => {\r\n  if (props.accident.id === props.edit_id) {\r\n    //edit mode\r\n    return (\r\n      <tr className=\"table-secondary\">\r\n        <td>\r\n          {getLocalDate(props.edit_accidentDate)}\r\n          <input\r\n            type=\"date\"\r\n            value={props.edit_accidentDate}\r\n            onChange={props.onChangeAccidentDate}\r\n          />\r\n        </td>\r\n        <td>\r\n          {props.edit_accidentTime}\r\n          <input\r\n            type=\"time\"\r\n            className=\"form-control\"\r\n            value={props.edit_accidentTime}\r\n            onChange={props.onChangeAccidentTime}\r\n          />\r\n        </td>\r\n        <td>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control\"\r\n            value={props.edit_driverAge}\r\n            onChange={props.onChangeDriverAge}\r\n            min=\"17\"\r\n            max=\"76\"\r\n            style={{ width: 60 }}\r\n          />\r\n        </td>\r\n        <td>\r\n          <select\r\n            className=\"form-control\"\r\n            onChange={props.onChangeDriverGender}\r\n          >\r\n            <option value=\"male\">Male</option>\r\n            <option selected={props.edit_driverGender} value=\"female\">\r\n              Female\r\n            </option>\r\n          </select>\r\n        </td>\r\n        <td>\r\n          <select className=\"form-control\" onChange={props.onChangeWeather}>\r\n            <option value=\"clear\">Clear</option>\r\n            <option selected={props.edit_weather} value=\"rainy\">\r\n              Rainy\r\n            </option>\r\n          </select>\r\n        </td>\r\n        <td>\r\n          <select className=\"form-control\" onChange={props.onChangeRoadSurface}>\r\n            <option value=\"dry\">Dry</option>\r\n            <option selected={props.edit_roadSurface} value=\"wet\">\r\n              Wet\r\n            </option>\r\n          </select>\r\n        </td>\r\n        <td>\r\n          <select className=\"form-control\" onChange={props.onChangeVehicleType}>\r\n            <option selected={props.edit_vehicleType === 0} value=\"0\">\r\n              Car\r\n            </option>\r\n            <option selected={props.edit_vehicleType === 1} value=\"1\">\r\n              HV\r\n            </option>\r\n            <option selected={props.edit_vehicleType === 2} value=\"2\">\r\n              DP\r\n            </option>\r\n          </select>\r\n        </td>\r\n        <td>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control\"\r\n            value={props.edit_vehicleYOM}\r\n            onChange={props.onChangeVehicleYOM}\r\n            style={{ width: 80 }}\r\n          />\r\n        </td>\r\n        <td>\r\n          {getLocalDate(props.edit_licenseIssueDate)}\r\n          <input\r\n            type=\"date\"\r\n            value={props.edit_licenseIssueDate}\r\n            onChange={props.onChangeLicenseIssueDate}\r\n          />\r\n        </td>\r\n        <td>\r\n          <select className=\"form-control\" onChange={props.onChangeDrivingSide}>\r\n            <option value=\"colombo\">Colombo</option>\r\n            <option selected={props.edit_drivingSide} value=\"matara\">\r\n              Matara\r\n            </option>\r\n          </select>\r\n        </td>\r\n        <td>\r\n          <select\r\n            className=\"form-control\"\r\n            style={{ width: 100 }}\r\n            onChange={props.onChangeSeverity}\r\n          >\r\n            <option selected={props.edit_severity === 0} value=\"0\">\r\n              Property\r\n            </option>\r\n            <option selected={props.edit_severity === 1} value=\"1\">\r\n              Injury\r\n            </option>\r\n            <option selected={props.edit_severity === 2} value=\"2\">\r\n              Fatality\r\n            </option>\r\n          </select>\r\n        </td>\r\n        <td>\r\n          <select\r\n            className=\"form-control\"\r\n            style={{ width: 100 }}\r\n            onChange={props.onChangeReason}\r\n          >\r\n            <option selected={props.edit_reason === 0} value=\"0\">\r\n              AnimalCrossing\r\n            </option>\r\n            <option selected={props.edit_reason === 1} value=\"1\">\r\n              VehicleIssue\r\n            </option>\r\n            <option selected={props.edit_reason === 2} value=\"2\">\r\n              Speed\r\n            </option>\r\n            <option selected={props.edit_reason === 3} value=\"3\">\r\n              Tailgaiting\r\n            </option>\r\n            <option selected={props.edit_reason === 4} value=\"4\">\r\n              Sleep\r\n            </option>\r\n            <option selected={props.edit_reason === 5} value=\"5\">\r\n              Slipping\r\n            </option>\r\n          </select>\r\n        </td>\r\n        <td>\r\n          <select\r\n            className=\"form-control\"\r\n            style={{ width: 100 }}\r\n            onChange={props.onChangeSuburb}\r\n          >\r\n            <option selected={props.edit_suburb === 0} value=\"0\">\r\n              {getSuburbName(0)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 1} value=\"1\">\r\n              {getSuburbName(1)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 2} value=\"2\">\r\n              {getSuburbName(2)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 3} value=\"3\">\r\n              {getSuburbName(3)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 4} value=\"4\">\r\n              {getSuburbName(4)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 5} value=\"5\">\r\n              {getSuburbName(5)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 6} value=\"6\">\r\n              {getSuburbName(6)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 7} value=\"7\">\r\n              {getSuburbName(7)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 8} value=\"8\">\r\n              {getSuburbName(8)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 9} value=\"9\">\r\n              {getSuburbName(9)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 10} value=\"10\">\r\n              {getSuburbName(10)}\r\n            </option>\r\n          </select>\r\n        </td>\r\n        <td>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control\"\r\n            value={props.edit_kmPost}\r\n            onChange={props.onChangeKmPost}\r\n            style={{ width: 80 }}\r\n            min=\"0\"\r\n            max=\"127\"\r\n            step=\".1\"\r\n          />\r\n        </td>\r\n        <td>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control\"\r\n            value={props.edit_operatedSpeed}\r\n            onChange={props.onChangeOperatedSpeed}\r\n            style={{ width: 80 }}\r\n            min=\"0\"\r\n          />\r\n        </td>\r\n        <td>\r\n          <select\r\n            className=\"form-control\"\r\n            onChange={props.onChangeVehicleCondition}\r\n          >\r\n            <option value=\"good\">Good</option>\r\n            <option selected={props.edit_vehicle_condition} value=\"bad\">\r\n              Bad\r\n            </option>\r\n          </select>\r\n        </td>\r\n\r\n        <td className=\"text-muted\">\r\n          {props.accident.day_cat === 0\r\n            ? \"Weekday\"\r\n            : props.accident.day_cat === 1\r\n            ? \"Weekend\"\r\n            : \"PubHoliday\"}\r\n        </td>\r\n        <td className=\"text-muted\">\r\n          {props.accident.hour_cat === 0\r\n            ? \"Free\"\r\n            : props.accident.hour_cat === 1\r\n            ? \"Rush\"\r\n            : \"Normal\"}\r\n        </td>\r\n        <td className=\"text-muted\">\r\n          {props.accident.month_cat ? \"Off-peak\" : \"Peak\"}\r\n        </td>\r\n        <td className=\"text-muted\">\r\n          {props.accident.vision === 0\r\n            ? \"Poor\"\r\n            : props.accident.vision === 1\r\n            ? \"Glare\"\r\n            : props.accident.vision === 2\r\n            ? \"Normal\"\r\n            : \"Blurred\"}\r\n        </td>\r\n        <td className=\"text-muted\">\r\n          {props.accident.age_cat === 0\r\n            ? \"Young\"\r\n            : props.accident.age_cat === 1\r\n            ? \"Mid\"\r\n            : \"Older\"}\r\n        </td>\r\n        <td className=\"text-muted\">{getKmCat(props.accident.km_cat)}</td>\r\n        <td className=\"text-muted\">{props.accident.drowsiness ? \"1\" : \"0\"}</td>\r\n        <td className=\"text-muted\">{props.accident.enough_gap ? \"1\" : \"0\"}</td>\r\n        <td className=\"text-muted\">\r\n          {props.accident.animal_crossing_problem ? \"1\" : \"0\"}\r\n        </td>\r\n\r\n        <td>\r\n          <button\r\n            className=\"btn btn-sm btn-secondary\"\r\n            onClick={() => {\r\n              props.discardEdit();\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faBan} />\r\n          </button>\r\n          &nbsp;\r\n          <button\r\n            className=\"btn btn-sm btn-success\"\r\n            onClick={() => {\r\n              props.updateAccident(\r\n                props.accident.id,\r\n                props.edit_accidentDate,\r\n                props.edit_accidentTime,\r\n                props.edit_driverAge,\r\n                props.edit_driverGender,\r\n                props.edit_weather,\r\n                props.edit_roadSurface,\r\n                props.edit_vehicleType,\r\n                props.edit_vehicleYOM,\r\n                props.edit_licenseIssueDate,\r\n                props.edit_drivingSide,\r\n                props.edit_severity,\r\n                props.edit_reason,\r\n                props.edit_kmPost,\r\n                props.edit_suburb,\r\n                props.edit_operatedSpeed,\r\n                props.edit_vehicle_condition\r\n              );\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faSave} />\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    );\r\n  } else {\r\n    //normal mode\r\n    return (\r\n      <tr>\r\n        <td>{getLocalDate(props.accident.datetime)}</td>\r\n        <td>{getLocalTime(props.accident.datetime)}</td>\r\n        <td>{props.accident.driverAge}</td>\r\n\r\n        <td>{props.accident.driverGender ? \"Female\" : \"Male\"}</td>\r\n        <td>{props.accident.weather ? \"Rain\" : \"Clear\"}</td>\r\n        <td>{props.accident.roadSurface ? \"Wet\" : \"Dry\"}</td>\r\n\r\n        <td>\r\n          {props.accident.vehicleType === 0\r\n            ? \"Car\"\r\n            : props.accident.vehicleType === 1\r\n            ? \"HV\"\r\n            : \"DP\"}\r\n        </td>\r\n        <td>{props.accident.vehicleYOM}</td>\r\n        <td>{getLocalDate(props.accident.licenseIssueDate)}</td>\r\n\r\n        <td>{props.accident.drivingSide ? \"Matara\" : \"Colombo\"}</td>\r\n\r\n        <td>\r\n          {props.accident.severity === 0\r\n            ? \"Property\"\r\n            : props.accident.severity === 1\r\n            ? \"Injury\"\r\n            : \"Fatality\"}\r\n        </td>\r\n\r\n        <td>\r\n          {props.accident.reason === 0\r\n            ? \"AnimalCrossing\"\r\n            : props.accident.reason === 1\r\n            ? \"VehicleIssue\"\r\n            : props.accident.reason === 2\r\n            ? \"Speed\"\r\n            : props.accident.reason === 3\r\n            ? \"Tailgaiting\"\r\n            : props.accident.reason === 4\r\n            ? \"Sleep\"\r\n            : \"Slipping\"}\r\n        </td>\r\n\r\n        <td>{getSuburbName(props.accident.suburb)}</td>\r\n        <td>{props.accident.kmPost}</td>\r\n\r\n        <td>{props.accident.operatedSpeed}</td>\r\n        <td>{props.accident.vehicle_condition ? \"Bad\" : \"Good\"}</td>\r\n\r\n        <td className=\"text-muted\">\r\n          {props.accident.day_cat === 0\r\n            ? \"Weekday\"\r\n            : props.accident.day_cat === 1\r\n            ? \"Weekend\"\r\n            : \"PubHoliday\"}\r\n        </td>\r\n        <td className=\"text-muted\">\r\n          {props.accident.hour_cat === 0\r\n            ? \"Free\"\r\n            : props.accident.hour_cat === 1\r\n            ? \"Rush\"\r\n            : \"Normal\"}\r\n        </td>\r\n        <td className=\"text-muted\">\r\n          {props.accident.month_cat ? \"Off-peak\" : \"Peak\"}\r\n        </td>\r\n        <td className=\"text-muted\">\r\n          {props.accident.vision === 0\r\n            ? \"Poor\"\r\n            : props.accident.vision === 1\r\n            ? \"Glare\"\r\n            : props.accident.vision === 2\r\n            ? \"Normal\"\r\n            : \"Blurred\"}\r\n        </td>\r\n        <td className=\"text-muted\">\r\n          {props.accident.age_cat === 0\r\n            ? \"Young\"\r\n            : props.accident.age_cat === 1\r\n            ? \"Mid\"\r\n            : \"Older\"}\r\n        </td>\r\n        <td className=\"text-muted\">{getKmCat(props.accident.km_cat)}</td>\r\n        <td className=\"text-muted\">{props.accident.drowsiness ? \"1\" : \"0\"}</td>\r\n        <td className=\"text-muted\">{props.accident.enough_gap ? \"1\" : \"0\"}</td>\r\n        <td className=\"text-muted\">\r\n          {props.accident.animal_crossing_problem ? \"1\" : \"0\"}\r\n        </td>\r\n\r\n        <td>\r\n          <button\r\n            className=\"btn btn-sm btn-info\"\r\n            onClick={() => {\r\n              props.editAccident(props.accident);\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faEdit} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-sm btn-danger\"\r\n            onClick={() => {\r\n              props.deleteAccident(props.accident.id);\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faTrashAlt} />\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    );\r\n  }\r\n};\r\n\r\nexport default class AccidentList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.deleteAccident = this.deleteAccident.bind(this);\r\n    this.editAccident = this.editAccident.bind(this);\r\n    this.updateAccident = this.updateAccident.bind(this);\r\n    this.discardEdit = this.discardEdit.bind(this);\r\n\r\n    this.refresh = this.refresh.bind(this);\r\n\r\n    this.onChangeAccidentDate = this.onChangeAccidentDate.bind(this);\r\n    this.onChangeAccidentTime = this.onChangeAccidentTime.bind(this);\r\n    this.onChangeDriverAge = this.onChangeDriverAge.bind(this);\r\n    this.onChangeDriverGender = this.onChangeDriverGender.bind(this);\r\n    this.onChangeWeather = this.onChangeWeather.bind(this);\r\n    this.onChangeRoadSurface = this.onChangeRoadSurface.bind(this);\r\n    this.onChangeVehicleType = this.onChangeVehicleType.bind(this);\r\n    this.onChangeVehicleYOM = this.onChangeVehicleYOM.bind(this);\r\n    this.onChangeVehicleCondition = this.onChangeVehicleCondition.bind(this);\r\n    this.onChangeLicenseIssueDate = this.onChangeLicenseIssueDate.bind(this);\r\n    this.onChangeDrivingSide = this.onChangeDrivingSide.bind(this);\r\n    this.onChangeSeverity = this.onChangeSeverity.bind(this);\r\n    this.onChangeReason = this.onChangeReason.bind(this);\r\n    this.onChangeKmPost = this.onChangeKmPost.bind(this);\r\n    this.onChangeSuburb = this.onChangeSuburb.bind(this);\r\n    this.onChangeOperatedSpeed = this.onChangeOperatedSpeed.bind(this);\r\n    this.handlePageChange = this.handlePageChange.bind(this);\r\n\r\n    this.state = {\r\n      accidentlist: [],\r\n      loading: true,\r\n      pageSize: this.props.pageSize,\r\n      currentPage: 1,\r\n      updateFlag: true,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.getList();\r\n  }\r\n\r\n  handlePageChange(page) {\r\n    this.setState({ currentPage: page });\r\n  }\r\n\r\n  getList = async () => {\r\n    let res = await axios.get(\"accident/list\");\r\n    this.setState({ accidentlist: res.data.data, updateFlag: false });\r\n    console.log(\"state_set:\");\r\n    console.log(res.data.data);\r\n  };\r\n\r\n  async componentDidUpdate() {\r\n    if (this.state.updateFlag === true) {\r\n      await this.getList();\r\n    }\r\n    console.log(this.state);\r\n  }\r\n\r\n  async deleteAccident(id) {\r\n    await axios\r\n      .delete(\"accident/delete/\", {\r\n        data: { id: id, sessionToken: this.props.token },\r\n      })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n      });\r\n\r\n    this.setState({\r\n      updateFlag: true,\r\n    });\r\n    this.refresh();\r\n  }\r\n\r\n  async updateAccident(\r\n    id,\r\n    accidentDate,\r\n    accidentTime,\r\n    driverAge,\r\n    driverGender,\r\n    weather,\r\n    roadSurface,\r\n    vehicleType,\r\n    vehicleYOM,\r\n    licenseIssueDate,\r\n    drivingSide,\r\n    severity,\r\n    reason,\r\n    kmPost,\r\n    suburb,\r\n    operatedSpeed,\r\n    vehicle_condition\r\n  ) {\r\n    console.log(\"Update date format\");\r\n    const accDate = new Date(accidentDate);\r\n    const datetime = new Date(\r\n      accDate\r\n        .toISOString()\r\n        .replace(/(\\d\\d:\\d\\d)/, accidentTime)\r\n        .slice(0, -1)\r\n    );\r\n    console.log(accDate.toISOString());\r\n    console.log(accidentTime);\r\n    console.log(\"update datetime:\");\r\n    console.log(datetime);\r\n    await axios\r\n      .post(\"accident/update/\", {\r\n        id: id,\r\n        datetime: datetime,\r\n        driverAge: driverAge,\r\n        driverGender: driverGender,\r\n        weather: weather,\r\n        roadSurface: roadSurface,\r\n        vehicleType: vehicleType,\r\n        vehicleYOM: vehicleYOM,\r\n        licenseIssueDate: licenseIssueDate,\r\n        drivingSide: drivingSide,\r\n        severity: severity,\r\n        reason: reason,\r\n        kmPost: kmPost,\r\n        suburb: suburb,\r\n        operatedSpeed: operatedSpeed,\r\n        vehicle_condition: vehicle_condition,\r\n        sessionToken: this.props.token,\r\n      })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n      });\r\n    this.setState({\r\n      updateFlag: true,\r\n      edit_id: null,\r\n      edit_accidentDate: null,\r\n      edit_accidentTime: null,\r\n      edit_driverAge: null,\r\n      edit_driverGender: null,\r\n      edit_weather: null,\r\n      edit_roadSurface: null,\r\n      edit_vehicleType: null,\r\n      edit_vehicleYOM: null,\r\n      edit_licenseIssueDate: null,\r\n      edit_drivingSide: null,\r\n      edit_severity: null,\r\n      edit_reason: null,\r\n      edit_kmPost: null,\r\n      edit_suburb: null,\r\n      edit_operatedSpeed: null,\r\n      edit_vehicle_condition: null,\r\n    });\r\n    this.refresh();\r\n  }\r\n\r\n  async editAccident(accident) {\r\n    await this.setState({\r\n      updateFlag: true,\r\n      edit_id: accident.id,\r\n      edit_accidentDate: accident.datetime,\r\n      edit_accidentTime: getLocalTime(accident.datetime),\r\n      edit_driverAge: accident.driverAge,\r\n      edit_driverGender: accident.driverGender,\r\n      edit_weather: accident.weather,\r\n      edit_roadSurface: accident.roadSurface,\r\n      edit_vehicleType: accident.vehicleType,\r\n      edit_vehicleYOM: accident.vehicleYOM,\r\n      edit_licenseIssueDate: accident.licenseIssueDate,\r\n      edit_drivingSide: accident.drivingSide,\r\n      edit_severity: accident.severity,\r\n      edit_reason: accident.reason,\r\n      edit_kmPost: accident.kmPost,\r\n      edit_suburb: accident.suburb,\r\n      edit_operatedSpeed: accident.operatedSpeed,\r\n      edit_vehicle_condition: accident.vehicle_condition,\r\n    });\r\n    console.log(\"edited state:\");\r\n    console.log(this.state);\r\n  }\r\n\r\n  discardEdit() {\r\n    this.setState({\r\n      edit_id: null,\r\n      edit_accidentDate: null,\r\n      edit_accidentTime: null,\r\n      edit_driverAge: null,\r\n      edit_driverGender: null,\r\n      edit_weather: null,\r\n      edit_roadSurface: null,\r\n      edit_vehicleType: null,\r\n      edit_vehicleYOM: null,\r\n      edit_licenseIssueDate: null,\r\n      edit_drivingSide: null,\r\n      edit_severity: null,\r\n      edit_reason: null,\r\n      edit_kmPost: null,\r\n      edit_suburb: null,\r\n      edit_operatedSpeed: null,\r\n      edit_vehicle_condition: null,\r\n      updateFlag: true,\r\n    });\r\n  }\r\n\r\n  refresh() {\r\n    this.setState({\r\n      updateFlag: true,\r\n    });\r\n  }\r\n\r\n  onChangeAccidentDate(e) {\r\n    this.setState({\r\n      edit_accidentDate: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangeAccidentTime(e) {\r\n    this.setState({\r\n      edit_accidentTime: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangeLicenseIssueDate(e) {\r\n    this.setState({\r\n      edit_licenseIssueDate: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangeDriverAge(e) {\r\n    this.setState({\r\n      edit_driverAge: e.target.value,\r\n    });\r\n  }\r\n  onChangeDriverGender(e) {\r\n    this.setState({\r\n      edit_driverGender: e.target.value === \"male\" ? false : true,\r\n    });\r\n  }\r\n\r\n  onChangeWeather(e) {\r\n    this.setState({\r\n      edit_weather: e.target.value === \"clear\" ? false : true,\r\n    });\r\n  }\r\n\r\n  onChangeRoadSurface(e) {\r\n    this.setState({\r\n      edit_roadSurface: e.target.value === \"dry\" ? false : true,\r\n    });\r\n  }\r\n\r\n  onChangeVehicleCondition(e) {\r\n    this.setState({\r\n      edit_vehicle_condition: e.target.value === \"good\" ? false : true,\r\n    });\r\n  }\r\n\r\n  onChangeVehicleType(e) {\r\n    this.setState({\r\n      edit_vehicleType: parseInt(e.target.value),\r\n    });\r\n  }\r\n  onChangeVehicleYOM(e) {\r\n    this.setState({\r\n      edit_vehicleYOM: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangeDrivingSide(e) {\r\n    this.setState({\r\n      edit_drivingSide: e.target.value === \"colombo\" ? false : true,\r\n    });\r\n  }\r\n  onChangeSeverity(e) {\r\n    this.setState({\r\n      edit_severity: parseInt(e.target.value),\r\n    });\r\n  }\r\n  onChangeReason(e) {\r\n    this.setState({\r\n      edit_reason: parseInt(e.target.value),\r\n    });\r\n  }\r\n  onChangeKmPost(e) {\r\n    this.setState({\r\n      edit_kmPost: e.target.value,\r\n    });\r\n  }\r\n  onChangeSuburb(e) {\r\n    this.setState({\r\n      edit_suburb: parseInt(e.target.value),\r\n    });\r\n    switch (parseInt(e.target.value)) {\r\n      case 0:\r\n        this.setState({ edit_kmPost: 0 });\r\n        break;\r\n      case 1:\r\n        this.setState({ edit_kmPost: 5.9 });\r\n        break;\r\n      case 2:\r\n        this.setState({ edit_kmPost: 13.7 });\r\n        break;\r\n      case 3:\r\n        this.setState({ edit_kmPost: 34.8 });\r\n        break;\r\n      case 4:\r\n        this.setState({ edit_kmPost: 46 });\r\n        break;\r\n      case 5:\r\n        this.setState({ edit_kmPost: 67.6 });\r\n        break;\r\n      case 6:\r\n        this.setState({ edit_kmPost: 79.8 });\r\n        break;\r\n      case 7:\r\n        this.setState({ edit_kmPost: 95.3 });\r\n        break;\r\n      case 8:\r\n        this.setState({ edit_kmPost: 108 });\r\n        break;\r\n      case 9:\r\n        this.setState({ edit_kmPost: 116.5 });\r\n        break;\r\n      case 10:\r\n        this.setState({ edit_kmPost: 127 });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  onChangeOperatedSpeed(e) {\r\n    this.setState({\r\n      edit_operatedSpeed: e.target.value,\r\n      res: \"\",\r\n    });\r\n  }\r\n\r\n  accidentList(props) {\r\n    return props.map((currentaccident) => {\r\n      return (\r\n        <Accident\r\n          accident={currentaccident}\r\n          deleteAccident={this.deleteAccident}\r\n          editAccident={this.editAccident}\r\n          updateAccident={this.updateAccident}\r\n          discardEdit={this.discardEdit}\r\n          onChangeAccidentDate={this.onChangeAccidentDate}\r\n          onChangeAccidentTime={this.onChangeAccidentTime}\r\n          onChangeDriverAge={this.onChangeDriverAge}\r\n          onChangeDriverGender={this.onChangeDriverGender}\r\n          onChangeWeather={this.onChangeWeather}\r\n          onChangeRoadSurface={this.onChangeRoadSurface}\r\n          onChangeVehicleType={this.onChangeVehicleType}\r\n          onChangeVehicleYOM={this.onChangeVehicleYOM}\r\n          onChangeVehicleCondition={this.onChangeVehicleCondition}\r\n          onChangeLicenseIssueDate={this.onChangeLicenseIssueDate}\r\n          onChangeDrivingSide={this.onChangeDrivingSide}\r\n          onChangeSeverity={this.onChangeSeverity}\r\n          onChangeReason={this.onChangeReason}\r\n          onChangeKmPost={this.onChangeKmPost}\r\n          onChangeSuburb={this.onChangeSuburb}\r\n          onChangeOperatedSpeed={this.onChangeOperatedSpeed}\r\n          key={currentaccident.id}\r\n          edit_id={this.state.edit_id}\r\n          edit_accidentDate={this.state.edit_accidentDate}\r\n          edit_accidentTime={this.state.edit_accidentTime}\r\n          edit_driverAge={this.state.edit_driverAge}\r\n          edit_driverGender={this.state.edit_driverGender}\r\n          edit_weather={this.state.edit_weather}\r\n          edit_roadSurface={this.state.edit_roadSurface}\r\n          edit_vehicleType={this.state.edit_vehicleType}\r\n          edit_vehicleYOM={this.state.edit_vehicleYOM}\r\n          edit_licenseIssueDate={this.state.edit_licenseIssueDate}\r\n          edit_drivingSide={this.state.edit_drivingSide}\r\n          edit_severity={this.state.edit_severity}\r\n          edit_reason={this.state.edit_reason}\r\n          edit_kmPost={this.state.edit_kmPost}\r\n          edit_suburb={this.state.edit_suburb}\r\n          edit_operatedSpeed={this.state.edit_operatedSpeed}\r\n          edit_vehicle_condition={this.state.edit_vehicle_condition}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { length: count } = this.state.accidentlist;\r\n    const { pageSize, currentPage, accidentlist: allAccident } = this.state;\r\n    if (this.state.updateFlag) return <Loading />;\r\n    if (count === 0) return <p>There are no Accidents in the database</p>;\r\n\r\n    const accidents = paginate(allAccident, currentPage, pageSize);\r\n    return (\r\n      <div>\r\n        <h3>\r\n          {\" \"}\r\n          <FontAwesomeIcon icon={faCarCrash} /> Accident List&nbsp;\r\n          <button\r\n            className=\"btn btn-sm btn-light\"\r\n            onClick={() => {\r\n              this.refresh();\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faSyncAlt} />\r\n          </button>\r\n        </h3>\r\n        <table className=\"table table-bordered table-hover\">\r\n          <thead className=\"thead-light\">\r\n            <tr>\r\n              <th>Accident Date</th>\r\n              <th>Accident Time</th>\r\n              <th>Driver Age</th>\r\n              <th>Gender</th>\r\n              <th>Weather</th>\r\n              <th>Road Surface</th>\r\n              <th>Vehicle Type</th>\r\n              <th>Vehicle YOM</th>\r\n              <th>License Issue Date</th>\r\n              <th>Driving Side</th>\r\n              <th>Severity</th>\r\n              <th>Reason</th>\r\n\r\n              <th>Suburb</th>\r\n              <th>KM Post</th>\r\n\r\n              <th>Operated Speed</th>\r\n              <th>Vehicle Condition</th>\r\n\r\n              <th>Day_cat</th>\r\n              <th>Hour_cat</th>\r\n              <th>Month_cat</th>\r\n              <th>Vision</th>\r\n              <th>Age_cat</th>\r\n              <th>KM_cat</th>\r\n              <th>Drowsiness</th>\r\n              <th>Enough_gap</th>\r\n              <th>Animal_crossing</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{this.accidentList(accidents)}</tbody>\r\n        </table>\r\n        <Pagination\r\n          itemsCount={count}\r\n          pageSize={pageSize}\r\n          onPageChange={this.handlePageChange}\r\n          currentPage={currentPage}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"../utils/axios\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nexport default class EventSubmission extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeEventDate = this.onChangeEventDate.bind(this);\r\n    this.onChangeEventTime = this.onChangeEventTime.bind(this);\r\n    this.onChangeType = this.onChangeType.bind(this);\r\n\r\n    this.onChangeDrivingSide = this.onChangeDrivingSide.bind(this);\r\n    this.onChangeSeverity = this.onChangeSeverity.bind(this);\r\n\r\n    this.onChangeKmPost = this.onChangeKmPost.bind(this);\r\n    this.onChangeSuburb = this.onChangeSuburb.bind(this);\r\n    this.refresh = this.refresh.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    const d = new Date();\r\n\r\n    this.state = {\r\n      eventDate: this.props.event.eventDate,\r\n      eventTime: this.props.event.eventTime,\r\n      type: this.props.event.type,\r\n      drivingSide: this.props.event.drivingSide,\r\n      severity: this.props.event.severity,\r\n      kmPost: this.props.event.kmPost,\r\n      suburb: this.props.event.suburb,\r\n      token: this.props.token,\r\n      res: \"\",\r\n    };\r\n  }\r\n\r\n  onChangeEventDate(date) {\r\n    this.setState({\r\n      eventDate: date,\r\n    });\r\n  }\r\n\r\n  onChangeEventTime(e) {\r\n    this.setState({\r\n      eventTime: e.target.value,\r\n      res: \"\",\r\n    });\r\n  }\r\n\r\n  onChangeType(e) {\r\n    this.setState({\r\n      type: e.target.value,\r\n      res: \"\",\r\n    });\r\n  }\r\n\r\n  onChangeDrivingSide(e) {\r\n    this.setState({\r\n      drivingSide: e.target.value,\r\n      res: \"\",\r\n    });\r\n  }\r\n  onChangeSeverity(e) {\r\n    this.setState({\r\n      severity: e.target.value,\r\n      res: \"\",\r\n    });\r\n  }\r\n\r\n  onChangeKmPost(e) {\r\n    this.setState({\r\n      kmPost: e.target.value,\r\n      res: \"\",\r\n    });\r\n  }\r\n  onChangeSuburb(e) {\r\n    this.setState({\r\n      suburb: e.target.value,\r\n      res: \"\",\r\n    });\r\n    switch (e.target.value) {\r\n      case \"0\":\r\n        this.setState({ kmPost: 0 });\r\n        break;\r\n      case \"1\":\r\n        this.setState({ kmPost: 5.9 });\r\n        break;\r\n      case \"2\":\r\n        this.setState({ kmPost: 13.7 });\r\n        break;\r\n      case \"3\":\r\n        this.setState({ kmPost: 34.8 });\r\n        break;\r\n      case \"4\":\r\n        this.setState({ kmPost: 46 });\r\n        break;\r\n      case \"5\":\r\n        this.setState({ kmPost: 67.6 });\r\n        break;\r\n      case \"6\":\r\n        this.setState({ kmPost: 79.8 });\r\n        break;\r\n      case \"7\":\r\n        this.setState({ kmPost: 95.3 });\r\n        break;\r\n      case \"8\":\r\n        this.setState({ kmPost: 108 });\r\n        break;\r\n      case \"9\":\r\n        this.setState({ kmPost: 116.5 });\r\n        break;\r\n      case \"10\":\r\n        this.setState({ kmPost: 127 });\r\n        break;\r\n    }\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const d = new Date();\r\n\r\n    if (!(this.state.eventDate instanceof Date)) {\r\n      this.setState({\r\n        res: \"Validation Error: Date is invalid\",\r\n        eventDate: d,\r\n        name: \"\",\r\n      });\r\n    } else {\r\n      const datetime = new Date(\r\n        this.state.eventDate\r\n          .toString()\r\n          .replace(/(\\d\\d:\\d\\d:\\d\\d)/, this.state.eventTime)\r\n      );\r\n\r\n      const event = {\r\n        datetime: datetime,\r\n        type: this.state.type,\r\n        drivingSide: this.state.drivingSide,\r\n        severity: this.state.severity,\r\n        kmPost: this.state.kmPost,\r\n        suburb: this.state.suburb,\r\n        sessionToken: this.state.token,\r\n      };\r\n\r\n      console.log(event);\r\n\r\n      const d = new Date();\r\n\r\n      axios.post(\"event/submit\", event).then((res) => {\r\n        document.getElementById(\"event-report-from\").reset();\r\n        this.setState({\r\n          res: res.data.message,\r\n          eventDate: d,\r\n          eventTime: d.toString().match(/(\\d\\d:\\d\\d)/)[0],\r\n          type: 0,\r\n          drivingSide: false,\r\n          severity: 0,\r\n          kmPost: 0,\r\n          suburb: 0,\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  refresh() {\r\n    this.setState({\r\n      eventDate: this.props.event.eventDate,\r\n      eventTime: this.props.event.eventTime,\r\n      type: this.props.event.type,\r\n      drivingSide: this.props.event.drivingSide,\r\n      severity: this.props.event.severity,\r\n      kmPost: this.props.event.kmPost,\r\n      suburb: this.props.event.suburb,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"acc\">\r\n        <div className=\"header\">\r\n          <h3>Event Report </h3>\r\n        </div>\r\n        {this.props.isModal && (\r\n          <button className=\"badge badge-primary\" onClick={this.refresh}>\r\n            Update form\r\n          </button>\r\n        )}\r\n        <form id=\"event-report-from\" onSubmit={this.onSubmit}>\r\n          <br />\r\n          <div>\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Event Date: </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <div>\r\n                  <DatePicker\r\n                    className=\"form-control\"\r\n                    selected={this.state.eventDate}\r\n                    onChange={this.onChangeEventDate}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Event Time: </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <input\r\n                  type=\"time\"\r\n                  className=\"form-control\"\r\n                  value={this.state.eventTime}\r\n                  onChange={this.onChangeEventTime}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Type </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <select className=\"form-control\" onChange={this.onChangeType}>\r\n                  <option value=\"0\">Fallen Tree</option>\r\n                  <option value=\"1\">Landslide</option>\r\n                  <option value=\"2\">Flooding</option>\r\n                  <option value=\"3\">Other</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Side </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  onChange={this.onChangeDrivingSide}\r\n                  value={this.state.drivingSide ? \"true\" : \"false\"}\r\n                >\r\n                  <option value=\"false\">Colombo to Matara</option>\r\n                  <option value=\"true\">Matara to Colombo</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Severity </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  onChange={this.onChangeSeverity}\r\n                >\r\n                  <option value=\"0\">Minor</option>\r\n                  <option value=\"1 \">Intermediate</option>\r\n                  <option value=\"2\">Major</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>Suburb </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  onChange={this.onChangeSuburb}\r\n                  value={this.state.suburb.toString()}\r\n                >\r\n                  <option value=\"0\">Kottawa</option>\r\n                  <option value=\"1\">Kahathuduwa</option>\r\n                  <option value=\"2\">Gelanigama</option>\r\n                  <option value=\"3\">Dodangoda</option>\r\n                  <option value=\"4\">Welipanna</option>\r\n                  <option value=\"5\">Kurundugahahetekma</option>\r\n                  <option value=\"6\">Baddegama</option>\r\n                  <option value=\"7\">Pinnaduwa</option>\r\n                  <option value=\"8\">Imaduwa</option>\r\n                  <option value=\"9\">Kokmaduwa</option>\r\n                  <option value=\"10\">Godagama</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-3\">\r\n                <label>KM Post </label>\r\n              </div>\r\n              <div className=\"col-sm-3\">\r\n                <input\r\n                  type=\"number\"\r\n                  step=\"0.1\"\r\n                  className=\"form-control\"\r\n                  value={this.state.kmPost}\r\n                  onChange={this.onChangeKmPost}\r\n                  min=\"0\"\r\n                  max=\"127\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form\">\r\n              <br />\r\n              <input\r\n                type=\"submit\"\r\n                value=\"Submit Report\"\r\n                onSubmit={this.onSubmit}\r\n                className=\"btn btn-primary\"\r\n              />{\" \"}\r\n              {this.state.res}\r\n              <div></div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"../utils/axios\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faExclamationTriangle,\r\n  faEdit,\r\n  faBan,\r\n  faTrashAlt,\r\n  faSave,\r\n  faSyncAlt,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {\r\n  getLocalDate,\r\n  getLocalTime,\r\n  getSuburbName,\r\n} from \"../utils/displayformat\";\r\nimport Pagination from \"./common/pagination\";\r\nimport Loading from \"./common/loading\";\r\nimport { paginate } from \"../utils/paginate\";\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nconst Event = (props) => {\r\n  if (props.event.id === props.edit_id) {\r\n    //edit mode\r\n    return (\r\n      <tr className=\"table-secondary\">\r\n        <td>\r\n          {getLocalDate(props.edit_eventDate)}\r\n          <br />\r\n          <input\r\n            type=\"date\"\r\n            value={props.edit_eventDate}\r\n            onChange={props.onChangeEventDate}\r\n          />\r\n        </td>\r\n        <td>\r\n          {props.edit_eventTime}\r\n          <br />\r\n          <input\r\n            type=\"time\"\r\n            className=\"form-control-sm\"\r\n            value={props.edit_eventTime}\r\n            onChange={props.onChangeEventTime}\r\n            style={{ width: 130 }}\r\n          />\r\n        </td>\r\n        <td>\r\n          <select className=\"form-control\" onChange={props.onChangeEventType}>\r\n            <option selected={props.edit_type === 0} value=\"0\">\r\n              Fallen Tree\r\n            </option>\r\n            <option selected={props.edit_type === 1} value=\"1\">\r\n              Landslide\r\n            </option>\r\n            <option selected={props.edit_type === 2} value=\"2\">\r\n              Flooding\r\n            </option>\r\n            <option selected={props.edit_type === 3} value=\"3\">\r\n              Other\r\n            </option>\r\n          </select>\r\n        </td>\r\n        <td>\r\n          <select className=\"form-control\" onChange={props.onChangeDrivingSide}>\r\n            <option value=\"colombo\">Colombo</option>\r\n            <option selected={props.edit_drivingSide} value=\"matara\">\r\n              Matara\r\n            </option>\r\n          </select>\r\n        </td>\r\n        <td>\r\n          <select\r\n            className=\"form-control\"\r\n            style={{ width: 100 }}\r\n            onChange={props.onChangeSeverity}\r\n          >\r\n            <option selected={props.edit_severity === 0} value=\"0\">\r\n              Minor\r\n            </option>\r\n            <option selected={props.edit_severity === 1} value=\"1\">\r\n              Intermediate\r\n            </option>\r\n            <option selected={props.edit_severity === 2} value=\"2\">\r\n              Major\r\n            </option>\r\n          </select>\r\n        </td>\r\n        <td>\r\n          <select\r\n            className=\"form-control\"\r\n            style={{ width: 100 }}\r\n            onChange={props.onChangeSuburb}\r\n          >\r\n            <option selected={props.edit_suburb === 0} value=\"0\">\r\n              {getSuburbName(0)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 1} value=\"1\">\r\n              {getSuburbName(1)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 2} value=\"2\">\r\n              {getSuburbName(2)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 3} value=\"3\">\r\n              {getSuburbName(3)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 4} value=\"4\">\r\n              {getSuburbName(4)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 5} value=\"5\">\r\n              {getSuburbName(5)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 6} value=\"6\">\r\n              {getSuburbName(6)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 7} value=\"7\">\r\n              {getSuburbName(7)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 8} value=\"8\">\r\n              {getSuburbName(8)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 9} value=\"9\">\r\n              {getSuburbName(9)}\r\n            </option>\r\n            <option selected={props.edit_suburb === 10} value=\"10\">\r\n              {getSuburbName(10)}\r\n            </option>\r\n          </select>\r\n        </td>\r\n        <td className=\"text-muted\">\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control\"\r\n            value={props.edit_kmPost}\r\n            onChange={props.onChangeKmPost}\r\n            style={{ width: 80 }}\r\n            min=\"0\"\r\n            max=\"127\"\r\n            step=\".1\"\r\n          />\r\n        </td>\r\n        <td>\r\n          <button\r\n            className=\"btn btn-sm btn-secondary\"\r\n            onClick={() => {\r\n              props.discardEdit();\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faBan} />\r\n          </button>\r\n          &nbsp;\r\n          <button\r\n            className=\"btn btn-sm btn-success\"\r\n            onClick={() => {\r\n              props.updateEvent(\r\n                props.event.id,\r\n                props.edit_eventDate,\r\n                props.edit_eventTime,\r\n                props.edit_type,\r\n                props.edit_drivingSide,\r\n                props.edit_severity,\r\n                props.edit_kmPost,\r\n                props.edit_suburb\r\n              );\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faSave} />\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    );\r\n  } else {\r\n    return (\r\n      <tr>\r\n        <td>{getLocalDate(props.event.datetime)}</td>\r\n        <td>{getLocalTime(props.event.datetime)}</td>\r\n        <td>\r\n          {props.event.type === 0\r\n            ? \"Fallen Tree\"\r\n            : props.event.type === 1\r\n            ? \"LandSlide\"\r\n            : props.event.type === 2\r\n            ? \"Flooding\"\r\n            : \"Other\"}\r\n        </td>\r\n        <td>{props.event.drivingSide ? \"Matara\" : \"Colombo\"}</td>\r\n        <td>\r\n          {props.event.severity === 0\r\n            ? \"Minor\"\r\n            : props.event.severity === 1\r\n            ? \"Intermediate\"\r\n            : \"Major\"}\r\n        </td>\r\n        <td>{getSuburbName(props.event.suburb)}</td>\r\n        <td>{props.event.kmPost}</td>\r\n        <td>\r\n          <button\r\n            className=\"btn btn-sm btn-info\"\r\n            onClick={() => {\r\n              props.editEvent(props.event);\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faEdit} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-sm btn-danger\"\r\n            onClick={() => {\r\n              props.deleteEvent(props.event.id);\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faTrashAlt} />\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    );\r\n  }\r\n};\r\n\r\nexport default class EventList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editEvent = this.editEvent.bind(this);\r\n    this.updateEvent = this.updateEvent.bind(this);\r\n    this.discardEdit = this.discardEdit.bind(this);\r\n    this.deleteEvent = this.deleteEvent.bind(this);\r\n    this.refresh = this.refresh.bind(this);\r\n\r\n    this.onChangeEventDate = this.onChangeEventDate.bind(this);\r\n    this.onChangeEventTime = this.onChangeEventTime.bind(this);\r\n    this.onChangeEventType = this.onChangeEventType.bind(this);\r\n    this.onChangeDrivingSide = this.onChangeDrivingSide.bind(this);\r\n    this.onChangeSeverity = this.onChangeSeverity.bind(this);\r\n    this.onChangeKmPost = this.onChangeKmPost.bind(this);\r\n    this.onChangeSuburb = this.onChangeSuburb.bind(this);\r\n    this.handlePageChange = this.handlePageChange.bind(this);\r\n\r\n    this.state = {\r\n      updateFlag: true,\r\n      eventlist: [],\r\n      loading: true,\r\n      pageSize: this.props.pageSize,\r\n      currentPage: 1,\r\n    };\r\n  }\r\n\r\n  handlePageChange(page) {\r\n    this.setState({ currentPage: page });\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.getList();\r\n  }\r\n\r\n  getList = async () => {\r\n    let res = await axios.get(\"event/list\");\r\n    this.setState({ eventlist: res.data.data, updateFlag: false });\r\n    console.log(\"state_set:\");\r\n    console.log(res.data.data);\r\n  };\r\n\r\n  async componentDidUpdate() {\r\n    if (this.state.updateFlag === true) {\r\n      await this.getList();\r\n    }\r\n    console.log(this.state);\r\n  }\r\n\r\n  async deleteEvent(id) {\r\n    await axios\r\n      .delete(\"event/delete/\", {\r\n        data: { id: id, sessionToken: this.props.token },\r\n      })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n      });\r\n\r\n    // this.setState({\r\n    //   updateFlag: true,\r\n    // });\r\n    this.refresh();\r\n  }\r\n\r\n  async updateEvent(\r\n    id,\r\n    eventDate,\r\n    eventTime,\r\n    type,\r\n    drivingSide,\r\n    severity,\r\n    kmPost,\r\n    suburb\r\n  ) {\r\n    console.log(\"Update date format\");\r\n    const accDate = new Date(eventDate);\r\n    const datetime = new Date(\r\n      accDate\r\n        .toISOString()\r\n        .replace(/(\\d\\d:\\d\\d)/, eventTime)\r\n        .slice(0, -1)\r\n    );\r\n    console.log(accDate.toISOString());\r\n    console.log(eventTime);\r\n    console.log(\"update datetime:\");\r\n    console.log(datetime);\r\n    console.log(\"Update req:\");\r\n    console.log(id + \" \" + datetime + \" \" + type);\r\n    await axios\r\n      .post(\"event/update/\", {\r\n        id: id,\r\n        datetime: datetime,\r\n        type: type,\r\n        drivingSide: drivingSide,\r\n        severity: severity,\r\n        kmPost: kmPost,\r\n        suburb: suburb,\r\n        sessionToken: this.props.token,\r\n      })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n      });\r\n    this.setState({\r\n      updateFlag: true,\r\n      edit_id: null,\r\n      edit_eventDate: null,\r\n      edit_eventTime: null,\r\n      edit_type: null,\r\n      edit_drivingSide: null,\r\n      edit_severity: null,\r\n      edit_kmPost: null,\r\n      edit_suburb: null,\r\n    });\r\n    this.refresh();\r\n  }\r\n\r\n  async editEvent(event) {\r\n    await this.setState({\r\n      updateFlag: true,\r\n      edit_id: event.id,\r\n      edit_eventDate: event.datetime,\r\n      edit_eventTime: getLocalTime(event.datetime),\r\n      edit_type: event.type,\r\n      edit_drivingSide: event.drivingSide,\r\n      edit_severity: event.severity,\r\n      edit_kmPost: event.kmPost,\r\n      edit_suburb: event.suburb,\r\n    });\r\n    console.log(\"edited state:\");\r\n    console.log(this.state);\r\n  }\r\n\r\n  discardEdit() {\r\n    this.setState({\r\n      edit_id: null,\r\n      edit_eventDate: null,\r\n      edit_eventTime: null,\r\n      edit_type: null,\r\n      edit_drivingSide: null,\r\n      edit_severity: null,\r\n      edit_kmPost: null,\r\n      edit_suburb: null,\r\n      updateFlag: true,\r\n    });\r\n  }\r\n\r\n  refresh() {\r\n    this.setState({\r\n      updateFlag: true,\r\n    });\r\n  }\r\n\r\n  onChangeEventDate(e) {\r\n    this.setState({\r\n      edit_eventDate: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangeEventTime(e) {\r\n    this.setState({\r\n      edit_eventTime: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangeEventType(e) {\r\n    this.setState({\r\n      edit_type: parseInt(e.target.value),\r\n    });\r\n  }\r\n\r\n  onChangeDrivingSide(e) {\r\n    this.setState({\r\n      edit_drivingSide: e.target.value === \"colombo\" ? false : true,\r\n    });\r\n  }\r\n  onChangeSeverity(e) {\r\n    this.setState({\r\n      edit_severity: parseInt(e.target.value),\r\n    });\r\n  }\r\n\r\n  onChangeKmPost(e) {\r\n    this.setState({\r\n      edit_kmPost: e.target.value,\r\n    });\r\n  }\r\n  onChangeSuburb(e) {\r\n    this.setState({\r\n      edit_suburb: parseInt(e.target.value),\r\n    });\r\n    switch (parseInt(e.target.value)) {\r\n      case 0:\r\n        this.setState({ edit_kmPost: 0 });\r\n        break;\r\n      case 1:\r\n        this.setState({ edit_kmPost: 5.9 });\r\n        break;\r\n      case 2:\r\n        this.setState({ edit_kmPost: 13.7 });\r\n        break;\r\n      case 3:\r\n        this.setState({ edit_kmPost: 34.8 });\r\n        break;\r\n      case 4:\r\n        this.setState({ edit_kmPost: 46 });\r\n        break;\r\n      case 5:\r\n        this.setState({ edit_kmPost: 67.6 });\r\n        break;\r\n      case 6:\r\n        this.setState({ edit_kmPost: 79.8 });\r\n        break;\r\n      case 7:\r\n        this.setState({ edit_kmPost: 95.3 });\r\n        break;\r\n      case 8:\r\n        this.setState({ edit_kmPost: 108 });\r\n        break;\r\n      case 9:\r\n        this.setState({ edit_kmPost: 116.5 });\r\n        break;\r\n      case 10:\r\n        this.setState({ edit_kmPost: 127 });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  //array = [1,2,3,4,5];\r\n\r\n  eventList(props) {\r\n    return props.map((currentevent) => {\r\n      return (\r\n        <Event\r\n          event={currentevent}\r\n          deleteEvent={this.deleteEvent}\r\n          editEvent={this.editEvent}\r\n          updateEvent={this.updateEvent}\r\n          discardEdit={this.discardEdit}\r\n          onChangeEventDate={this.onChangeEventDate}\r\n          onChangeEventTime={this.onChangeEventTime}\r\n          onChangeEventType={this.onChangeEventType}\r\n          onChangeDrivingSide={this.onChangeDrivingSide}\r\n          onChangeSeverity={this.onChangeSeverity}\r\n          onChangeKmPost={this.onChangeKmPost}\r\n          onChangeSuburb={this.onChangeSuburb}\r\n          key={currentevent.id}\r\n          edit_id={this.state.edit_id}\r\n          edit_eventDate={this.state.edit_eventDate}\r\n          edit_eventTime={this.state.edit_eventTime}\r\n          edit_type={this.state.edit_type}\r\n          edit_drivingSide={this.state.edit_drivingSide}\r\n          edit_severity={this.state.edit_severity}\r\n          edit_kmPost={this.state.edit_kmPost}\r\n          edit_suburb={this.state.edit_suburb}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { length: count } = this.state.eventlist;\r\n    const { pageSize, currentPage, eventlist: allEvents } = this.state;\r\n    if (this.state.updateFlag) return <Loading />;\r\n    if (count === 0) return <p>There are no Events in the database</p>;\r\n\r\n    const events = paginate(allEvents, currentPage, pageSize);\r\n\r\n    return (\r\n      <div>\r\n        <h3>\r\n          {\" \"}\r\n          <FontAwesomeIcon icon={faExclamationTriangle} /> Event List&nbsp;\r\n          <button\r\n            className=\"btn btn-sm btn-light\"\r\n            onClick={() => {\r\n              this.refresh();\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faSyncAlt} />\r\n          </button>\r\n        </h3>\r\n        <table className=\"table\">\r\n          <thead className=\"thead-light\">\r\n            <tr>\r\n              <th>Date</th>\r\n              <th>Time</th>\r\n              <th>Type</th>\r\n              <th>Driving Side</th>\r\n              <th>Severity</th>\r\n              <th>Suburb</th>\r\n              <th>KM Post</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{this.eventList(events)}</tbody>\r\n        </table>\r\n        <Pagination\r\n          itemsCount={count}\r\n          pageSize={pageSize}\r\n          onPageChange={this.handlePageChange}\r\n          currentPage={currentPage}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"../utils/axios\";\r\n\r\nimport { getLocalDate, getLocalTime } from \"../utils/displayformat\";\r\nimport \"./css/modal.css\";\r\n\r\nimport AccidentSubmission from \"./accidentsubmission.component\";\r\nimport EventSubmission from \"./eventsubmission.component\";\r\nimport Pagination from \"./common/pagination\";\r\nimport { paginate } from \"../utils/paginate\";\r\nimport { findNearestExit } from \"../utils/location\";\r\nimport { getSuburbInt, getKmPost } from \"../utils/displayformat\";\r\nimport Loading from \"./common/loading\";\r\n\r\nconst Incident = (props) => (\r\n  <tr>\r\n    <td>\r\n      {getLocalDate(props.incident.datetime)}\r\n      <br />\r\n      {getLocalTime(props.incident.datetime)}\r\n    </td>\r\n    <td>{props.incident.isAccident ? \"Accident\" : \"Event\"}</td>\r\n    <td>{props.incident.drivingSide ? \"Ma To Col\" : \"Col to Mat\"}</td>\r\n    <td>{props.incident.lat}</td>\r\n    <td>{props.incident.lng}</td>\r\n    <td>\r\n      {findNearestExit({\r\n        latitude: props.incident.lat,\r\n        longitude: props.incident.lng,\r\n      })}\r\n    </td>\r\n    <td>\r\n      <button\r\n        className=\"btn btn-sm btn-warning m-2\"\r\n        onClick={() => {\r\n          props.validateIncident(props.incident);\r\n        }}\r\n      >\r\n        Validate\r\n      </button>\r\n      <button\r\n        className=\"btn btn-sm btn-danger m-2\"\r\n        onClick={() => {\r\n          props.deleteIncident(props.incident.id);\r\n        }}\r\n      >\r\n        Delete\r\n      </button>\r\n    </td>\r\n  </tr>\r\n);\r\n\r\nconst AccidentModal = (props) => {\r\n  const showHideClassName = props.show\r\n    ? \"modal display-block\"\r\n    : \"modal display-none\";\r\n\r\n  return (\r\n    <div className={showHideClassName}>\r\n      <section className=\"modal-main \">\r\n        <button type=\"button modal-close-btn\" onClick={props.handleClose}>\r\n          X\r\n        </button>\r\n        {props.children}\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst EventModal = (props) => {\r\n  const showHideClassName = props.show\r\n    ? \"modal display-block\"\r\n    : \"modal display-none\";\r\n\r\n  return (\r\n    <div className={showHideClassName}>\r\n      <section className=\"modal-main\">\r\n        <button type=\"button modal-close-btn\" onClick={props.handleClose}>\r\n          X\r\n        </button>\r\n        {props.children}\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default class ValidateIncident extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.deleteIncident = this.deleteIncident.bind(this);\r\n    this.validateIncident = this.validateIncident.bind(this);\r\n\r\n    this.showAccidentModal = this.showAccidentModal.bind(this);\r\n    this.showEventModal = this.showEventModal.bind(this);\r\n    this.hideAccidentModal = this.hideAccidentModal.bind(this);\r\n    this.hideEventModal = this.hideEventModal.bind(this);\r\n    this.handlePageChange = this.handlePageChange.bind(this);\r\n\r\n    this.state = {\r\n      incidentlist: [],\r\n      showAccident: false,\r\n      showEvent: false,\r\n      pageSize: this.props.pageSize,\r\n      currentPage: 1,\r\n      verifiedAccident: {\r\n        accidentDate: new Date(),\r\n        accidentTime: new Date().toString().match(/(\\d\\d:\\d\\d)/)[0],\r\n        driverAge: 17,\r\n        driverGender: false,\r\n        weather: false,\r\n        roadSurface: false,\r\n        vehicleType: 0,\r\n        vehicleYOM: new Date().getFullYear(),\r\n        licenseIssueDate: new Date(),\r\n        drivingSide: false,\r\n        severity: 0,\r\n        reason: 0,\r\n        kmPost: 0,\r\n        suburb: 0,\r\n        operatedSpeed: 0,\r\n        vehicle_condition: false,\r\n        token: this.props.token,\r\n        res: \"\",\r\n      },\r\n      verifiedEvent: {\r\n        eventDate: new Date(),\r\n        eventTime: new Date().toString().match(/(\\d\\d:\\d\\d)/)[0],\r\n        type: 0,\r\n        drivingSide: false,\r\n        severity: 0,\r\n        kmPost: 0,\r\n        suburb: 0,\r\n        token: this.props.token,\r\n        res: \"\",\r\n      },\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(\"incident/list\")\r\n      .then((response) => {\r\n        this.setState({ incidentlist: response.data.data });\r\n        console.log(response.data.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  handlePageChange(page) {\r\n    this.setState({ currentPage: page });\r\n  }\r\n\r\n  async validateIncident(incident) {\r\n    const latitude = parseFloat(incident.lat);\r\n    const longitude = parseFloat(incident.lng);\r\n    const suburb = getSuburbInt(\r\n      findNearestExit({\r\n        latitude: latitude,\r\n        longitude: longitude,\r\n      })\r\n    );\r\n    const kmPost = getKmPost(suburb);\r\n\r\n    if (incident.isAccident) {\r\n      const verifiedAccident = {\r\n        accidentDate: new Date(Date.parse(incident.datetime)),\r\n        accidentTime: new Date(Date.parse(incident.datetime))\r\n          .toString()\r\n          .match(/(\\d\\d:\\d\\d)/)[0],\r\n        driverAge: 17,\r\n        driverGender: false,\r\n        weather: false,\r\n        roadSurface: false,\r\n        vehicleType: 0,\r\n        vehicleYOM: new Date().getFullYear(),\r\n        licenseIssueDate: new Date(),\r\n        drivingSide: incident.drivingSide,\r\n        severity: 0,\r\n        reason: 0,\r\n        kmPost: kmPost,\r\n        suburb: suburb,\r\n        operatedSpeed: 0,\r\n        vehicle_condition: false,\r\n        token: this.props.token,\r\n        res: \"\",\r\n      };\r\n      await this.setState({ verifiedAccident: verifiedAccident }, () => {\r\n        console.log(\"updated accident\");\r\n      });\r\n      this.showAccidentModal();\r\n    } else {\r\n      const verifiedEvent = {\r\n        eventDate: new Date(Date.parse(incident.datetime)),\r\n        eventTime: new Date(Date.parse(incident.datetime))\r\n          .toString()\r\n          .match(/(\\d\\d:\\d\\d)/)[0],\r\n        type: 0,\r\n        drivingSide: incident.drivingSide,\r\n        severity: 0,\r\n        kmPost: kmPost,\r\n        suburb: suburb,\r\n        token: this.props.token,\r\n        res: \"\",\r\n      };\r\n      await this.setState({ verifiedEvent: verifiedEvent }, () => {\r\n        console.log(\"updated event\");\r\n      });\r\n\r\n      this.showEventModal();\r\n    }\r\n  }\r\n\r\n  deleteIncident(id) {\r\n    axios\r\n      .delete(\"incident/police/delete/\", {\r\n        data: { id: id, sessionToken: this.props.token },\r\n      })\r\n      .then((response) => {\r\n        console.log(\"id:\", id);\r\n        console.log(response.data);\r\n      });\r\n\r\n    this.setState({\r\n      incidentlist: this.state.incidentlist.filter((el) => el.id !== id),\r\n    });\r\n  }\r\n\r\n  incidentlist(props) {\r\n    return props.map((currentIncident) => {\r\n      return (\r\n        <Incident\r\n          incident={currentIncident}\r\n          deleteIncident={this.deleteIncident}\r\n          validateIncident={this.validateIncident}\r\n          key={currentIncident.id}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  showAccidentModal = () => {\r\n    this.setState({ showAccident: true });\r\n    console.log(\"showing Accident Modal\");\r\n  };\r\n\r\n  showEventModal = () => {\r\n    this.setState({ showEvent: true });\r\n    console.log(\"showing Event Modal\");\r\n  };\r\n\r\n  hideAccidentModal = () => {\r\n    this.setState({ showAccident: false });\r\n    console.log(\"hiding Accident Modal\");\r\n  };\r\n\r\n  hideEventModal = () => {\r\n    this.setState({ showEvent: false });\r\n    console.log(\"showing Event Modal\");\r\n  };\r\n\r\n  render() {\r\n    const { length: count } = this.state.incidentlist;\r\n    const { pageSize, currentPage, incidentlist: allIncident } = this.state;\r\n\r\n    if (count === 0)\r\n      return <Loading />;\r\n\r\n    const incidents = paginate(allIncident, currentPage, pageSize);\r\n\r\n    return (\r\n      <div>\r\n        <h3>Incident List</h3>\r\n        <table className=\"table\">\r\n          <thead className=\"thead-light\">\r\n            <tr>\r\n              <th>Date/Time</th>\r\n              <th>Incident Type</th>\r\n              <th>Driving Side</th>\r\n              <th>Lat</th>\r\n              <th>Lng</th>\r\n              <th>Suburb</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{this.incidentlist(incidents)}</tbody>\r\n        </table>\r\n        <AccidentModal\r\n          show={this.state.showAccident}\r\n          handleClose={this.hideAccidentModal}\r\n        >\r\n          <AccidentSubmission\r\n            token={this.props.token}\r\n            accident={this.state.verifiedAccident}\r\n            isModal={true}\r\n          />\r\n        </AccidentModal>\r\n        <EventModal\r\n          show={this.state.showEvent}\r\n          handleClose={this.hideEventModal}\r\n        >\r\n          <EventSubmission\r\n            token={this.props.token}\r\n            event={this.state.verifiedEvent}\r\n            isModal={true}\r\n          />\r\n        </EventModal>\r\n        <Pagination\r\n          itemsCount={count}\r\n          pageSize={pageSize}\r\n          onPageChange={this.handlePageChange}\r\n          currentPage={currentPage}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"../utils/axios\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCalendarAlt,\r\n  faEdit,\r\n  faBan,\r\n  faTrashAlt,\r\n  faSave,\r\n  faSyncAlt,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { getLocalDate } from \"../utils/displayformat\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport Pagination from \"./common/pagination\";\r\nimport { paginate } from \"../utils/paginate\";\r\nimport Loading from \"./common/loading\";\r\n\r\nconst Holiday = (props) => {\r\n  if (props.holiday.id === props.edit_id) {\r\n    //edit mode\r\n    return (\r\n      <tr className=\"table-secondary\">\r\n        <td>\r\n          <input\r\n            type=\"text\"\r\n            required\r\n            className=\"form-control\"\r\n            value={props.edit_name}\r\n            onChange={props.onChangeEditName}\r\n            minlength=\"4\"\r\n          ></input>\r\n        </td>\r\n        <td>\r\n          {getLocalDate(props.edit_date)}\r\n          <input\r\n            type=\"date\"\r\n            value={props.edit_date}\r\n            onChange={props.onChangeEditDate}\r\n          />\r\n        </td>\r\n        <td>\r\n          <button\r\n            className=\"btn btn-sm btn-secondary\"\r\n            onClick={() => {\r\n              props.discardEdit();\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faBan} />\r\n          </button>\r\n          &nbsp;\r\n          <button\r\n            className=\"btn btn-sm btn-success\"\r\n            onClick={() => {\r\n              props.updateHoliday(\r\n                props.holiday.id,\r\n                props.edit_name,\r\n                props.edit_date\r\n              );\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faSave} />\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    );\r\n  } else {\r\n    //normal mode\r\n    return (\r\n      <tr>\r\n        <td>{props.holiday.name}</td>\r\n        <td>{getLocalDate(props.holiday.date)}</td>\r\n        <td>\r\n          <button\r\n            className=\"btn btn-sm btn-info\"\r\n            onClick={() => {\r\n              props.editHoliday(props.holiday);\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faEdit} />\r\n          </button>\r\n          &nbsp;\r\n          <button\r\n            className=\"btn btn-sm btn-danger\"\r\n            onClick={() => {\r\n              props.deleteHoliday(props.holiday.id);\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faTrashAlt} />\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    );\r\n  }\r\n};\r\n\r\nexport default class HolidayList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.deleteHoliday = this.deleteHoliday.bind(this);\r\n    this.editHoliday = this.editHoliday.bind(this);\r\n    this.updateHoliday = this.updateHoliday.bind(this);\r\n    this.discardEdit = this.discardEdit.bind(this);\r\n\r\n    this.onChangeEditName = this.onChangeEditName.bind(this);\r\n    this.onChangeEditDate = this.onChangeEditDate.bind(this);\r\n    this.refresh = this.refresh.bind(this);\r\n\r\n    this.onChangeHolidayDate = this.onChangeHolidayDate.bind(this);\r\n    this.onChangeName = this.onChangeName.bind(this);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.handlePageChange = this.handlePageChange.bind(this);\r\n\r\n    const d = new Date();\r\n\r\n    this.state = {\r\n      holidaylist: [],\r\n      loading: true,\r\n      edit_id: null,\r\n      holidayDate: d,\r\n      name: \"\",\r\n      token: this.props.token,\r\n      res: \"\",\r\n      pageSize: this.props.pageSize,\r\n      currentPage: 1,\r\n      updateFlag: true\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.getList();\r\n  }\r\n\r\n  handlePageChange(page) {\r\n    this.setState({ currentPage: page });\r\n  }\r\n\r\n  getList = async () => {\r\n    let res = await axios.get(\"holiday/list\");\r\n    this.setState({ holidaylist: res.data.data, updateFlag: false });\r\n    console.log(\"state_set:\");\r\n    console.log(res.data.data);\r\n  };\r\n\r\n  async componentDidUpdate() {\r\n    if (this.state.updateFlag === true) {\r\n      await this.getList();\r\n    }\r\n    console.log(this.state);\r\n  }\r\n\r\n  async deleteHoliday(id) {\r\n    await axios\r\n      .delete(\"holiday/delete/\", {\r\n        data: { id: id, sessionToken: this.props.token },\r\n      })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n      });\r\n\r\n    this.setState({\r\n      updateFlag: true,\r\n    });\r\n    this.refresh();\r\n  }\r\n\r\n  async updateHoliday(id, name, date) {\r\n    await axios\r\n      .post(\"holiday/update/\", {\r\n        id: id,\r\n        name: name,\r\n        date: date,\r\n        sessionToken: this.props.token,\r\n      })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n      });\r\n    this.setState({\r\n      updateFlag: true,\r\n      edit_id: null,\r\n      edit_name: null,\r\n      edit_date: null,\r\n    });\r\n    this.refresh();\r\n  }\r\n\r\n  editHoliday(holiday) {\r\n    this.setState({\r\n      edit_id: holiday.id,\r\n      edit_name: holiday.name,\r\n      edit_date: holiday.date,\r\n      updateFlag: true,\r\n    });\r\n  }\r\n\r\n  discardEdit() {\r\n    this.setState({\r\n      edit_id: null,\r\n      edit_name: null,\r\n      edit_date: null,\r\n      updateFlag: true,\r\n    });\r\n  }\r\n\r\n  refresh() {\r\n    this.setState({\r\n      updateFlag: true,\r\n    });\r\n  }\r\n\r\n  onChangeEditName(e) {\r\n    this.setState({\r\n      edit_name: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangeEditDate(e) {\r\n    this.setState({\r\n      edit_date: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangeHolidayDate(date) {\r\n    this.setState({\r\n      holidayDate: date,\r\n    });\r\n  }\r\n\r\n  onChangeName(e) {\r\n    this.setState({\r\n      name: e.target.value,\r\n      res: \"\",\r\n    });\r\n  }\r\n\r\n  async onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const d = new Date();\r\n\r\n    if (!(this.state.holidayDate instanceof Date)) {\r\n      this.setState({\r\n        res: \"Validation Error: Date is invalid\",\r\n        holidayDate: d,\r\n        name: \"\",\r\n      });\r\n    } else {\r\n      const holiday = {\r\n        date: this.state.holidayDate\r\n          .toString()\r\n          .replace(/(\\d\\d:\\d\\d:\\d\\d)/, \"00:00:00\"),\r\n        name: this.state.name,\r\n        sessionToken: this.state.token,\r\n      };\r\n      await axios\r\n        .post(\"holiday/add\", holiday)\r\n        .then((res) => {\r\n          document.getElementById(\"holiday-report-form\").reset();\r\n          this.setState({\r\n            res: res.data.message,\r\n            holidayDate: d,\r\n            name: \"\",\r\n          });\r\n        });\r\n    }\r\n    this.refresh();\r\n  }\r\n\r\n  holidayList(props) {\r\n    return props.map((currentholiday) => {\r\n      return (\r\n        <Holiday\r\n          holiday={currentholiday}\r\n          deleteHoliday={this.deleteHoliday}\r\n          editHoliday={this.editHoliday}\r\n          updateHoliday={this.updateHoliday}\r\n          discardEdit={this.discardEdit}\r\n          onChangeEditName={this.onChangeEditName}\r\n          onChangeEditDate={this.onChangeEditDate}\r\n          key={currentholiday.id}\r\n          edit_id={this.state.edit_id}\r\n          edit_name={this.state.edit_name}\r\n          edit_date={this.state.edit_date}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { length: count } = this.state.holidaylist;\r\n    const { pageSize, currentPage, holidaylist: allHolidays } = this.state;\r\n    if (this.state.updateFlag) return <Loading />;\r\n    if ( count === 0) return <p>There are no Public Holidays in the database</p>;\r\n\r\n    const holidays = paginate(allHolidays, currentPage, pageSize);\r\n\r\n    return (\r\n      <div className=\"container w-100\">\r\n        <h3>\r\n          {\" \"}\r\n          <FontAwesomeIcon icon={faCalendarAlt} /> Public Holiday\r\n        </h3>\r\n        <br />\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12 col-md-6\">\r\n            <div className=\"add-holiday\">\r\n              <form id=\"holiday-report-form\" onSubmit={this.onSubmit}>\r\n                <div className=\"header\">\r\n                  <h5>Add Public Holiday </h5>\r\n                </div>\r\n                <br />\r\n                <div>\r\n                  <div className=\"form-group\">\r\n                    <div className=\"col-sm-12\">\r\n                      <label>Holiday Date: </label>\r\n                    </div>\r\n                    <div className=\"col-sm-12\">\r\n                      <div>\r\n                        <DatePicker\r\n                          className=\"form-control\"\r\n                          selected={this.state.holidayDate}\r\n                          onChange={this.onChangeHolidayDate}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <div className=\"col-sm-12\">\r\n                      <label>Name</label>\r\n                    </div>\r\n                    <div className=\"col-sm-12\">\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control input-sm\"\r\n                        value={this.state.name}\r\n                        onChange={this.onChangeName}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form\">\r\n                    <br />\r\n                    <input\r\n                      type=\"submit\"\r\n                      value=\"Add holiday\"\r\n                      onSubmit={this.onSubmit}\r\n                      className=\"btn btn-primary\"\r\n                    />{\" \"}\r\n                    {this.state.res}\r\n                    <div>\r\n                      <br />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-xs-12 col-md-6\">\r\n            <table className=\"table table-bordered\">\r\n              <thead className=\"thead-light\">\r\n                <tr>\r\n                  <th colspan=\"3\">\r\n                    Holiday List&nbsp;\r\n                    <button\r\n                      className=\"btn btn-sm btn-light\"\r\n                      onClick={() => {\r\n                        this.refresh();\r\n                      }}\r\n                    >\r\n                      <FontAwesomeIcon icon={faSyncAlt} />\r\n                    </button>\r\n                  </th>\r\n                </tr>\r\n                <tr>\r\n                  <th>Name</th>\r\n                  <th>Date</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>{this.holidayList(holidays)}</tbody>\r\n            </table>\r\n            <Pagination\r\n              itemsCount={count}\r\n              pageSize={pageSize}\r\n              onPageChange={this.handlePageChange}\r\n              currentPage={currentPage}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"../utils/axios\";\r\n\r\nexport default class ChangePassword extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangePassword = this.onChangePassword.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      oldpassword:\"\",\r\n      password: \"\",\r\n      password2: \"\",\r\n      token: this.props.token,\r\n      res: \"\",\r\n    };\r\n  }\r\n\r\n\r\n  onChangePassword(int,e) {\r\n    if(int==1){\r\n      this.setState({password: e.target.value,res: \"\"});\r\n    }else if(int==2){\r\n      this.setState({password2: e.target.value,res: \"\"});\r\n    }else{\r\n      this.setState({oldpassword: e.target.value,res: \"\"});\r\n    }\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    //validation\r\n    if(this.state.password===this.state.password2){\r\n      const body = {\r\n        oldpassword: this.state.oldpassword,\r\n        newpassword: this.state.password,\r\n        sessionToken: this.state.token\r\n      };\r\n      axios.post(\"police/changepassword\", body).then((res) => {\r\n        this.setState({\r\n          res: res.data.message,\r\n          oldpassword: \"\",\r\n          password: \"\",\r\n          password2: \"\"\r\n        });\r\n      });\r\n    }else{\r\n        this.setState({\r\n          res:\"Passwords mismatched. Please re-check.\"\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h3>Change Password</h3>\r\n        <form onSubmit={this.onSubmit}>\r\n        <div class=\"form-col\">\r\n          <div className=\"form-group col-sm-9 col-md-7 col-lg-6 col-xl-4\">\r\n            <label>Old password: </label>\r\n            <input\r\n              type=\"password\"\r\n              required\r\n              className=\"form-control\"\r\n              value={this.state.oldpassword}\r\n              onChange={(e) => this.onChangePassword(0,e)}\r\n              minlength=\"4\"\r\n              maxlength=\"20\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-sm-9 col-md-7 col-lg-6 col-xl-4\">\r\n            <label>Password: </label>\r\n            <input\r\n              type=\"password\"\r\n              required\r\n              className=\"form-control\"\r\n              value={this.state.password}\r\n              onChange={(e) => this.onChangePassword(1,e)}\r\n              minlength=\"4\"\r\n              maxLength=\"20\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-sm-9 col-md-7 col-lg-6 col-xl-4\">\r\n            <label>Re-Enter Password: </label>\r\n            <input\r\n              type=\"password\"\r\n              required\r\n              className=\"form-control\"\r\n              value={this.state.password2}\r\n              onChange={(e) => this.onChangePassword(2,e)}\r\n              minlength=\"4\"\r\n              maxLength=\"20\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-sm-9 col-md-7 col-lg-6 col-xl-4\">\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Change Password\"\r\n              className=\"btn btn-primary\"\r\n            />\r\n          </div>\r\n          </div>\r\n        </form>\r\n        <div>{this.state.res}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"../utils/axios\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faUsers,\r\n  faEdit,\r\n  faBan,\r\n  faTrashAlt,\r\n  faSave,\r\n  faSyncAlt,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Pagination from \"./common/pagination\";\r\nimport Loading from \"./common/loading\";\r\nimport { paginate } from \"../utils/paginate\";\r\n\r\nconst Police = (props) => {\r\n  if (props.police.username === props.edit_username) {\r\n    //edit mode\r\n    return (\r\n      <tr className=\"table-secondary\">\r\n        <td>{props.police.username}</td>\r\n        <td>\r\n          <input\r\n            type=\"text\"\r\n            required\r\n            className=\"form-control\"\r\n            value={props.edit_name}\r\n            onChange={props.onChangeName}\r\n            minlength=\"4\"\r\n            pattern=\"[\\W\\w\\s]+\"\r\n          ></input>\r\n        </td>\r\n        <td>\r\n          <input\r\n            type=\"checkbox\"\r\n            value={props.edit_adminRights}\r\n            checked={props.edit_adminRights}\r\n            onChange={props.onChangeAdminRights}\r\n          />\r\n        </td>\r\n        <td>\r\n          <button\r\n            className=\"btn btn-sm btn-secondary\"\r\n            onClick={() => {\r\n              props.discardEdit();\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faBan} />\r\n          </button>\r\n          &nbsp;\r\n          <button\r\n            className=\"btn btn-sm btn-success\"\r\n            onClick={() => {\r\n              props.updatePolice(\r\n                props.police.username,\r\n                props.edit_name,\r\n                props.edit_adminRights\r\n              );\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faSave} />\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    );\r\n  } else {\r\n    //normal mode\r\n    return (\r\n      <tr>\r\n        <td>{props.police.username}</td>\r\n        <td>{props.police.name}</td>\r\n        <td>{props.police.adminRights ? \"Admin\" : \"User\"}</td>\r\n        <td>\r\n          <button\r\n            className=\"btn btn-sm btn-info\"\r\n            onClick={() => {\r\n              props.editPolice(props.police);\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faEdit} />\r\n          </button>\r\n          &nbsp;\r\n          <button\r\n            className=\"btn btn-sm btn-danger\"\r\n            onClick={() => {\r\n              props.deletePolice(props.police.username);\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faTrashAlt} />\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    );\r\n  }\r\n};\r\n\r\nexport default class PoliceList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.deletePolice = this.deletePolice.bind(this);\r\n    this.editPolice = this.editPolice.bind(this);\r\n    this.updatePolice = this.updatePolice.bind(this);\r\n    this.discardEdit = this.discardEdit.bind(this);\r\n\r\n    this.onChangeName = this.onChangeName.bind(this);\r\n    this.onChangeAdminRights = this.onChangeAdminRights.bind(this);\r\n    this.refresh = this.refresh.bind(this);\r\n    this.handlePageChange = this.handlePageChange.bind(this);\r\n\r\n    this.state = {\r\n      policelist: [],\r\n      updateFlag: true,\r\n      edit_username: null,\r\n      pageSize: this.props.pageSize,\r\n      currentPage: 1,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.getList();\r\n  }\r\n\r\n  handlePageChange(page) {\r\n    this.setState({ currentPage: page });\r\n  }\r\n\r\n  getList = async () => {\r\n    let res = await axios.get(\"police/list\");\r\n    this.setState({ policelist: res.data.data, updateFlag: false });\r\n    console.log(\"state_set:\");\r\n    console.log(res.data.data);\r\n  };\r\n\r\n  async componentDidUpdate() {\r\n    if (this.state.updateFlag === true) {\r\n      await this.getList();\r\n    }\r\n    console.log(this.state);\r\n  }\r\n\r\n  async deletePolice(username) {\r\n    await axios\r\n      .delete(\"police/delete/\", {\r\n        data: { username: username, sessionToken: this.props.token },\r\n      })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n      });\r\n\r\n    this.setState({\r\n      updateFlag: true,\r\n    });\r\n    this.refresh();\r\n  }\r\n\r\n  async updatePolice(username, name, adminRights) {\r\n    await axios\r\n      .post(\"police/update/\", {\r\n        username: username,\r\n        name: name,\r\n        adminRights: adminRights,\r\n        sessionToken: this.props.token,\r\n      })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        console.log(\"token:\" + this.props.token);\r\n      });\r\n    this.setState({\r\n      updateFlag: true,\r\n      edit_username: null,\r\n      edit_name: null,\r\n      edit_adminRights: null,\r\n    });\r\n    this.refresh();\r\n  }\r\n\r\n  editPolice(police) {\r\n    this.setState({\r\n      edit_username: police.username,\r\n      edit_name: police.name,\r\n      edit_adminRights: police.adminRights,\r\n      updateFlag: true,\r\n    });\r\n  }\r\n\r\n  discardEdit() {\r\n    this.setState({\r\n      edit_username: null,\r\n      edit_name: null,\r\n      edit_adminRights: null,\r\n      updateFlag: true,\r\n    });\r\n  }\r\n\r\n  refresh() {\r\n    this.setState({\r\n      updateFlag: true,\r\n    });\r\n  }\r\n\r\n  onChangeName(e) {\r\n    var newname = e.target.value;\r\n    var pattern = /^[A-Za-z ]+$/;\r\n    console.log(pattern.test(newname));\r\n    if (pattern.test(newname)) {\r\n      this.setState({ edit_name: e.target.value });\r\n    }\r\n  }\r\n\r\n  onChangeAdminRights(e) {\r\n    this.setState({\r\n      edit_adminRights: e.target.checked,\r\n    });\r\n  }\r\n\r\n  policeList(props) {\r\n    return props.map((currentpolice) => {\r\n      return (\r\n        <Police\r\n          police={currentpolice}\r\n          deletePolice={this.deletePolice}\r\n          editPolice={this.editPolice}\r\n          updatePolice={this.updatePolice}\r\n          discardEdit={this.discardEdit}\r\n          onChangeName={this.onChangeName}\r\n          onChangeAdminRights={this.onChangeAdminRights}\r\n          key={currentpolice.username}\r\n          edit_username={this.state.edit_username}\r\n          edit_name={this.state.edit_name}\r\n          edit_adminRights={this.state.edit_adminRights}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { length: count } = this.state.policelist;\r\n    const { pageSize, currentPage, policelist: allPolice } = this.state;\r\n    if (this.state.updateFlag) return <Loading />;\r\n    if (count === 0)\r\n      return (\r\n        <div>\r\n          <p>No police users available.</p>\r\n        </div>\r\n      );\r\n\r\n    const police = paginate(allPolice, currentPage, pageSize);\r\n    return (\r\n      <div>\r\n        <h3>\r\n          {\" \"}\r\n          <FontAwesomeIcon icon={faUsers} /> Police List&nbsp;\r\n          <button\r\n            className=\"btn btn-sm btn-light\"\r\n            onClick={() => {\r\n              this.refresh();\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faSyncAlt} />\r\n          </button>\r\n        </h3>\r\n        <table className=\"table\">\r\n          <thead className=\"thead-light\">\r\n            <tr>\r\n              <th>Username</th>\r\n              <th>Name</th>\r\n              <th>Admin Rights</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{this.policeList(police)}</tbody>\r\n        </table>\r\n        <Pagination\r\n          itemsCount={count}\r\n          pageSize={pageSize}\r\n          onPageChange={this.handlePageChange}\r\n          currentPage={currentPage}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nimport AddPolice from \"./addpolice.component.js\";\r\nimport AddETeam from \"./addeteam.component.js\";\r\nimport ETeamList from \"./eteamlist.component.js\";\r\nimport AccidentSubmission from \"./accidentsubmission.component.js\";\r\nimport AccidentList from \"./accidentlist.component.js\";\r\nimport EventSubmission from \"./eventsubmission.component.js\";\r\nimport EventList from \"./eventlist.component.js\";\r\nimport ValidateIncident from \"./validateincident.component.js\";\r\nimport Holiday from \"./holiday.component.js\";\r\nimport ChangePassword from \"./changepassword.component.js\";\r\n\r\nimport PoliceList from \"./policelist.component.js\";\r\n\r\nexport default class Content extends React.Component {\r\n  render() {\r\n    const pageSize = 5;\r\n    const d = new Date();\r\n\r\n    const defaultAccident = {\r\n      accidentDate: d,\r\n      accidentTime: d.toString().match(/(\\d\\d:\\d\\d)/)[0],\r\n      driverAge: 17,\r\n      driverGender: false,\r\n      weather: false,\r\n      roadSurface: false,\r\n      vehicleType: 0,\r\n      vehicleYOM: d.getFullYear(),\r\n      licenseIssueDate: d,\r\n      drivingSide: false,\r\n      severity: 0,\r\n      reason: 0,\r\n      kmPost: 0,\r\n      suburb: 0,\r\n      operatedSpeed: 0,\r\n      vehicle_condition: false,\r\n      token: this.props.token,\r\n      res: \"\",\r\n    };\r\n\r\n    const defaultEvent = {\r\n      eventDate: d,\r\n      eventTime: d.toString().match(/(\\d\\d:\\d\\d)/)[0],\r\n      type: 0,\r\n      drivingSide: false,\r\n      severity: 0,\r\n      kmPost: 0,\r\n      suburb: 0,\r\n      token: this.props.token,\r\n      res: \"\",\r\n    };\r\n\r\n    switch (this.props.nav) {\r\n      case \"addpolice\":\r\n        return <AddPolice token={this.props.token} />;\r\n      case \"addeteam\":\r\n        return <AddETeam token={this.props.token} />;\r\n      case \"eteamlist\":\r\n        return <ETeamList token={this.props.token} pageSize={pageSize} />;\r\n      case \"accidentsubmission\":\r\n        return (\r\n          <AccidentSubmission\r\n            token={this.props.token}\r\n            accident={defaultAccident}\r\n            isModal={false}\r\n          />\r\n        );\r\n      case \"accidentlist\":\r\n        return <AccidentList token={this.props.token} pageSize={pageSize/2 +1} />;\r\n      case \"eventsubmission\":\r\n        return (\r\n          <EventSubmission\r\n            token={this.props.token}\r\n            event={defaultEvent}\r\n            isModal={false}\r\n          />\r\n        );\r\n      case \"eventlist\":\r\n        return <EventList token={this.props.token} pageSize={pageSize} />;\r\n      case \"incidentlist\":\r\n        return (\r\n          <ValidateIncident token={this.props.token} pageSize={pageSize} />\r\n        );\r\n      case \"policelist\":\r\n        return <PoliceList token={this.props.token} pageSize={pageSize} />;\r\n      case \"holiday\":\r\n        return <Holiday token={this.props.token} pageSize={pageSize} />;\r\n      case \"changepassword\":\r\n        return <ChangePassword token={this.props.token} />;\r\n      default:\r\n        return <h1>{this.props.nav} </h1>;\r\n    }\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/signin1.9dc61341.svg\";","export function getFromStorage(key){\r\n  if(!key){\r\n    return null;\r\n  }\r\n  try {\r\n    const valueStr = localStorage.getItem(key);\r\n    if(valueStr){\r\n      return JSON.parse(valueStr);\r\n    }\r\n    return null;\r\n  }catch(err){\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function setInStorage(key, obj){\r\n  if(!key){\r\n    console.error('Error: Key is missing (setInStorage)');\r\n  }\r\n  try {\r\n    localStorage.setItem(key, JSON.stringify(obj));\r\n    }\r\n  catch(err){\r\n    console.error('Error: Cannot save to local storage (setInStorage)');\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"../utils/axios\";\r\nimport \"./css/signin.component.css\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport SVGsign from \"../Assets/signin1.svg\";\r\nimport logo from \"../icons/icon.png\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faUser, faLock } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport { getFromStorage, setInStorage } from \"../utils/storage\";\r\n\r\nexport default class Signin extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onTextboxChangeUsername = this.onTextboxChangeUsername.bind(this);\r\n    this.onTextboxChangePassword = this.onTextboxChangePassword.bind(this);\r\n    this.onSignin = this.onSignin.bind(this);\r\n\r\n    this.state = {\r\n      isLoading: true,\r\n      token: \"\",\r\n      signInError: \"\",\r\n      signInUsername: \"\",\r\n      signInPassword: \"\",\r\n      validUsername: false,\r\n      validPassword: false,\r\n      activateSubmit: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"cmpont mounted\");\r\n    const token = getFromStorage(\"road_accident_prevention_system_webtoken\");\r\n\r\n    if (token) {\r\n      //verify token\r\n      this.setState({ isLoading: false });\r\n  }\r\n}\r\n\r\n  render(){\r\n    const {\r\n      isLoading,\r\n      token,\r\n      signInError,\r\n      signInUsername,\r\n      signInPassword,\r\n      activateSubmit,\r\n    } = this.state;\r\n\r\n    if (isLoading) {\r\n      return (\r\n        <div className=\"loading\">\r\n          <svg>\r\n            <circle r=\"40\" cx=\"150\" cy=\"75\" stroke=\"#999\" stroke-width=\"10px\" fill=\"none\"/>\r\n          </svg>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (!token) {\r\n      return (\r\n        <div className=\"content\">\r\n          <div className=\"background\">\r\n            <div className=\"\">\r\n              <Container>\r\n                <Row>\r\n                  <div className=\"col-md-6\">\r\n                    <Row>\r\n\r\n                      <div className=\"title mx-auto\"><img src={logo} width=\"30\" height=\"30\" className=\"d-inline-block align-top\" alt=\"RAPS icon\"/> Road Accident Prevention System</div>\r\n                    </Row>\r\n                    <img className=\"sign-img d-none d-md-inline\" src={SVGsign} height=\"350vh\"/>\r\n                  </div>\r\n                  <div className=\"col-md-6 mt-5\">\r\n                    <div className=\"formside\">\r\n                      <div className=\"form-inside form-button\">\r\n                        <form>\r\n                        <h3>Sign in</h3>\r\n                          <div className=\"form-groupone\">\r\n                            <tr>\r\n                              <td>\r\n                                <FontAwesomeIcon\r\n                                  className=\"icons\"\r\n                                  icon={faUser}\r\n                                />\r\n                              </td>\r\n                              <td>\r\n                                <input\r\n                                  type=\"text\"\r\n                                  className=\"forminput\"\r\n                                  value={signInUsername}\r\n                                  onChange={this.onTextboxChangeUsername}\r\n                                  placeholder=\"Username\"\r\n                                ></input>\r\n                              </td>\r\n                            </tr>\r\n                          </div>\r\n                          <div className=\"form-groupone\">\r\n                            <tr>\r\n                              <td>\r\n                                <FontAwesomeIcon\r\n                                  className=\"icons\"\r\n                                  icon={faLock}\r\n                                />\r\n                              </td>\r\n                              <td>\r\n                                <input\r\n                                  type=\"password\"\r\n                                  className=\"forminput\"\r\n                                  value={signInPassword}\r\n                                  onChange={this.onTextboxChangePassword}\r\n                                  placeholder=\"Password\"\r\n                                />\r\n                              </td>\r\n                            </tr>\r\n                          </div>\r\n                          <div className=\"signInError\">\r\n                            <p className=\"d-block text-danger\">&nbsp;{signInError}</p>\r\n                          </div>\r\n                        </form>\r\n                        <button\r\n                          className=\"btn btn-signin btn-block signin\"\r\n                          disabled={!activateSubmit}\r\n                          onClick={this.onSignin}\r\n                        >\r\n                          Sign in\r\n                        </button>\r\n                        <tr>\r\n                          <td></td>\r\n                          <td></td>\r\n                          <td></td>\r\n                        </tr>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </Row>\r\n              </Container>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  onTextboxChangeUsername(event) {\r\n    const valid = event.target.value.length >= 4; //length check\r\n    const psw_valid = this.state.signInPassword.length >= 4; //length check\r\n    this.setState({\r\n      signInUsername: event.target.value,\r\n      validUsername: valid,\r\n      activateSubmit: psw_valid && valid,\r\n    });\r\n  }\r\n\r\n  onTextboxChangePassword(event) {\r\n    const valid = event.target.value.length >= 4; //length check\r\n    const uname_valid = this.state.signInUsername.length >= 4; //length check\r\n    this.setState({\r\n      signInPassword: event.target.value,\r\n      validPassword: valid,\r\n      activateSubmit: uname_valid && valid,\r\n    });\r\n  }\r\n\r\n  onSignin() {\r\n    //post request sigin in\r\n\r\n    axios\r\n      .post(\"http://localhost:5000/police/signin\", {\r\n        username: this.state.signInUsername,\r\n        password: this.state.signInPassword,\r\n      })\r\n      .then((res) => res.data)\r\n      .then((json) => {\r\n        if (json.success) {\r\n          setInStorage(\"road_accident_prevention_system_webtoken\", json.token);\r\n          this.props.handleSignIn(json.adminRights,json.token)\r\n        } else {\r\n          this.setState({\r\n            signInError: json.message,\r\n          });\r\n        }\r\n      });\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"../utils/axios\";\r\nimport logo from \"../icons/icon.png\";\r\n\r\nimport Navbar from \"./navbar.component\";\r\nimport Content from \"./content.component\";\r\nimport SignIn from \"./signin.component\";\r\nimport Loading from \"./common/loading\";\r\n\r\nimport { getFromStorage } from \"../utils/storage\"; //implement log out\r\n\r\nexport default class Home extends Component {\r\n  constructor() {\r\n    super();\r\n    this.handleNavigation = this.handleNavigation.bind(this);\r\n    this.handleSignIn= this.handleSignIn.bind(this);\r\n    this.handleLogOut= this.handleLogOut.bind(this);\r\n    this.verifySession = this.verifySession.bind(this);\r\n    this.state = {\r\n      signedin: false,\r\n      loading: false,\r\n      data: {},\r\n      token: 0,\r\n      nav: \"accidentsubmission\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.verifySession();\r\n  }\r\n\r\n  verifySession(){\r\n    this.setState({ loading: true });\r\n    const token = getFromStorage(\"road_accident_prevention_system_webtoken\");\r\n    console.log(\"token:\" + token);\r\n    axios\r\n      .get(\"police/verifysession/\", {\r\n        params: { token: token },\r\n      })\r\n      .then((response) => response.data)\r\n      .then((data) => {\r\n        if(data.success){\r\n          this.setState({\r\n            signedin: true,\r\n            loading: false,\r\n            adminRights: data.adminRights,\r\n            token: token,\r\n          });\r\n        }else{\r\n          this.setState({\r\n            signedin: false,\r\n            loading: false\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  handleNavigation(str) {\r\n    this.setState({ nav: str });\r\n  }\r\n\r\n  handleSignIn(adminRights,token) {\r\n    this.setState({ signedin: true, adminRights: adminRights, token: token, nav:\"accidentsubmission\" });\r\n  }\r\n\r\n  handleLogOut(str) {\r\n    this.setState({ signedin: false, adminRights: null, token: null, nav:\"accidentsubmission\" });\r\n  }\r\n\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div>\r\n        <Loading/>\r\n        </div>\r\n      );\r\n    } else {\r\n      //not logged in\r\n      if (!this.state.signedin) {\r\n        return (\r\n          <div>\r\n          <SignIn\r\n            handleSignIn={this.handleSignIn}\r\n          />\r\n          </div>\r\n        );\r\n      } else {\r\n        return (\r\n          <div>\r\n            <Navbar\r\n              adminRights={this.state.adminRights}\r\n              token={this.state.token}\r\n              navState={this.state.nav}\r\n              handleNavigation={this.handleNavigation}\r\n              handleLogOut={this.handleLogOut}\r\n            />\r\n            <div className=\"content\">\r\n              <Content nav={this.state.nav} token={this.state.token} />\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n  }\r\n}\r\n","import React from 'react';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { BrowserRouter as Router, Route} from \"react-router-dom\";\n\nimport Home from \"./components/home.component\"\n\n\n\n\nfunction App() {\n  return (\n      <Router>\n          <div className=\"\">\n          <Route path=\"/\" component={Home}/>\n          </div>\n      </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./index.css\";\n\n\nReactDOM.render(<App className=\"app\"/>, document.getElementById('root'));\n"],"sourceRoot":""}